import{V as Aa,a as ra,b as Ra,c as Oa,d as Ee,_ as Pa}from"./PanelControl-936f1e93.js";import{u as Ge,b as U,m as te,d as Re,o as T,f as Q,a as n,w as d,n as Oe,h as f,i as G,p as la,v as na,c as P,q as be,j as S,s as $,V as ye,F as de,g as Pe,t as k,x as _e,y as b,l as Ba,z as $a,A as Ua,B as za,C as La,D as Dt,E as Ha,G as Et,H as ja,I as ca,J as Rt,K as Vt,L as da,M as Fa,N as Mt,O as Ya,P as Xa,Q as Ot,R as Wa,_ as it,S as De,e as ua,k as ot,T as mt,U as Be,W as ha,X as je,Y as Ga,Z as qa,$ as Ka,a0 as Pt,a1 as ct,a2 as Qa,a3 as Za,a4 as Ja,a5 as ei,a6 as ti,a7 as st,a8 as rt,a9 as ai}from"./index-18f30046.js";import{e as ii,V as oi,f as Bt,a as $t,b as si,c as ri}from"./VTable-eb1c2c62.js";import{V as Ut,a as X,s as me}from"./VFooter-1975de81.js";import{V as li}from"./VAlertTitle-05a0566e.js";import{V as ni}from"./VForm-30f05d1f.js";import{V as ce}from"./VRow-99b26c0e.js";import{V as C}from"./VCol-7ed7c233.js";import{V as we}from"./VSelect-3bb82d76.js";import{m as ma,a as ci,u as di,V as tt,f as ui,b as hi,c as mi,d as fi,e as fa,g as pi,h as vi,i as gi,j as q}from"./VTextField-ffd46df8.js";import{V as Ye,a as zt}from"./VChip-c85d63b7.js";import{V as bi}from"./VTextarea-490ac977.js";import"./VApp-061e3757.js";import"./_commonjsHelpers-725317a4.js";import"./form-65142a50.js";const yi={class:"inputBox mr-2"},_i=f("label",null,null,-1),wi=["id","value","checked","onChange"],xi=["for"],Ci=f("span",null,"Exportar a Excel",-1),Di=f("span",{class:"d-none d-sm-flex"},"Agregar miembro",-1),Ei=f("thead",null,[f("tr",null,[f("th",{class:"text-left hide-on-small-screen column-divider"}," Documento "),f("th",{class:"text-left column-divider hide-on-small-screen"},"Nombre"),f("th",{class:"text-center column-divider hide-on-small-screen"},"Acciones"),f("th",{class:"text-center column-divider show-on-small-screen"},[f("h2",null,"Miembros")])])],-1),Vi={class:"hide-on-small-screen column-divider"},Mi={class:"max-14-chars column-divider hide-on-small-screen"},Ti={class:"text-center column-divider hide-on-small-screen"},Ii={class:"column-divider show-on-small-screen",style:{height:"auto"}},ki={__name:"TablaMiembros",setup(i){const e=Ge(),a=U(1),t=U(20),l=U(""),s=U(e.miembros),r=U([]),c=U(!1),o=U([{title:"Hombres"},{title:"Mujeres"},{title:"Ancianos"},{title:"Adultos"},{title:"Jovenes"},{title:"Adolecentes"},{title:"Niños"}]),h=te(()=>u.value.sort((x,E)=>x.numeroDocumento<E.numeroDocumento?-1:x.numeroDocumento>E.numeroDocumento?1:0)),u=te(()=>{a.value=1;const x=new RegExp(l.value,"i");return ri(s.value,r).filter(D=>x.test(D.nombre)||x.test(D.numeroDocumento)||x.test(D.apellido))}),m=te(()=>Math.ceil(V.value/t.value)),p=te(()=>{const x=(a.value-1)*t.value,E=x+t.value;return h.value.slice(x,E)}),V=te(()=>u.value.length);function M(x){a.value=x}function N(x){r.value.includes(x)?r.value=r.value.filter(E=>E!==x):r.value.push(x)}return Re(()=>e.miembros,(x,E)=>{s.value=x}),(x,E)=>(T(),Q("div",null,[n(ye,{flat:"",color:"transparent"},{default:d(()=>[n(Oe,{class:"d-flex align-center conte1"},{default:d(()=>[f("div",yi,[f("label",null,[n(G,{icon:"mdi-magnify",size:"20"})]),la(f("input",{"onUpdate:modelValue":E[0]||(E[0]=D=>l.value=D),type:"text",placeholder:"Nombre o No.documento",maxlength:"5"},null,512),[[na,l.value]]),_i]),n(Aa,{modelValue:c.value,"onUpdate:modelValue":E[2]||(E[2]=D=>c.value=D),"close-on-content-click":!1,location:"end"},{activator:d(({props:D})=>[r.value.length>0?(T(),P(ra,be({key:0},D,{content:p.value.length,class:"mr-8 elevation-1",color:"#263238"}),{default:d(()=>[n(G,{class:"icon",color:"#546E7A"},{default:d(()=>[S("mdi-filter-outline")]),_:1})]),_:2},1040,["content"])):$("",!0),r.value.length===0?(T(),P(G,be({key:1,class:"icon mr-5 elevation-1",color:"#546E7A"},D),{default:d(()=>[S("mdi-filter")]),_:2},1040)):$("",!0)]),default:d(()=>[n(ye,{"min-width":"auto"},{default:d(()=>[n(li,null,{default:d(()=>[S("Filtro")]),_:1}),n(Ut),n(Ra,null,{default:d(()=>[(T(!0),Q(de,null,Pe(o.value,(D,A)=>(T(),P(Oa,{style:{},key:A},{default:d(()=>[f("input",{type:"checkbox",id:D.title,value:D.title,checked:r.value.includes(D.title),onChange:F=>N(D.title)},null,40,wi),f("label",{for:D.title,style:{"margin-left":"8px",width:"100%","text-decoration":"underline gray","text-decoration-thickness":"1px","text-decoration-style":"underline"}},k(D.title),9,xi)]),_:2},1024))),128))]),_:1}),n(_e,{class:"justify-center"},{default:d(()=>[n(X,{color:"#78909C","prepend-icon":"mdi-close",variant:"flat",onClick:E[1]||(E[1]=D=>{r.value=[],c.value=!1}),size:"small",style:{"text-transform":"none"}},{default:d(()=>[S(" Limpiar ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),n(Ee,{class:"d-none d-sm-flex"}),f("button",{class:"mb-2 mr-2 btnExcel elevation-1 d-none d-sm-flex",color:"success",onClick:E[3]||(E[3]=D=>b(ii)(p.value))},[n(G,null,{default:d(()=>[S("mdi-file-excel")]),_:1}),Ci]),f("button",{class:"mb-2 mr-2 btnAdd elevation-1",color:"primary",onClick:E[4]||(E[4]=D=>b(e).formMiembros={display:!0,mode:"add",id:""})},[n(G,null,{default:d(()=>[S("mdi-plus")]),_:1}),Di])]),_:1}),n(Ut),n(oi,{density:"compact","fixed-header":"","sort-by":"Codigo","sort-desc":!1,class:"small-font-table",style:{border:"0px solid #767575","border-bottom":"0px"},height:"500px"},{default:d(()=>[Ei,f("tbody",null,[(T(!0),Q(de,null,Pe(p.value,(D,A)=>(T(),Q("tr",{key:A,class:"selectFila"},[f("td",Vi,k(D.numeroDocumento),1),f("td",Mi,k(b(Bt)(D)),1),f("td",Ti,[n(G,{class:"mr-2",color:"blue",title:"Editar",style:{cursor:"pointer"},onClick:F=>b(e).formMiembros={display:!0,mode:"edit",id:D.numeroDocumento}},{default:d(()=>[S("mdi-pencil")]),_:2},1032,["onClick"]),n(G,{class:"mr-2",color:"green",title:"Ver",style:{cursor:"pointer"},onClick:F=>b(e).viewRegistro={display:!0,id:D.numeroDocumento}},{default:d(()=>[S("mdi-eye")]),_:2},1032,["onClick"]),n(G,{class:"",color:"#EF5350",title:"Eliminar",style:{cursor:"pointer"},onClick:F=>b($t)(D)},{default:d(()=>[S("mdi-delete")]),_:2},1032,["onClick"])]),f("td",Ii,[f("div",null,[n(Oe,{style:{"margin-top":"0px"}},{default:d(()=>[S(" Nombre:"+k(b(Bt)(D)),1)]),_:2},1024),n(Ba,{style:{"margin-top":"-15px"}},{default:d(()=>[S(" Documento:"+k(D.numeroDocumento),1)]),_:2},1024),n(_e,null,{default:d(()=>[n(Ee),n(G,{class:"mr-2",color:"blue",title:"Editar",style:{cursor:"pointer"},onClick:F=>b(e).formMiembros={display:!0,mode:"edit",id:D.numeroDocumento}},{default:d(()=>[S("mdi-pencil")]),_:2},1032,["onClick"]),n(G,{class:"mr-2",color:"green",title:"Ver",style:{cursor:"pointer"},onClick:F=>b(e).viewRegistro={display:!0,id:D.numeroDocumento}},{default:d(()=>[S("mdi-eye")]),_:2},1032,["onClick"]),n(G,{class:"",color:"#EF5350",title:"Eliminar",style:{cursor:"pointer"},onClick:F=>b($t)(D)},{default:d(()=>[S("mdi-delete")]),_:2},1032,["onClick"])]),_:2},1024)])])]))),128))])]),_:1}),n(si,{class:"small-font-table",modelValue:a.value,"onUpdate:modelValue":E[5]||(E[5]=D=>a.value=D),length:m.value,"total-visible":5,ellipsis:null,"boundary-links":!1,onInput:M,"prev-icon":"mdi-menu-left","next-icon":"mdi-menu-right",style:{border:"1px solid #767575",color:"rgb(0, 0, 0)"}},null,8,["modelValue","length"])]),_:1})]))}},Lt=async(i,e)=>{try{const a=$a(Ua,i),t=await za(a,e);return[!0,await La(t.ref)]}catch(a){return[!1,a]}};const Ni=Dt({chips:Boolean,counter:Boolean,counterSizeString:{type:String,default:"$vuetify.fileInput.counterSize"},counterString:{type:String,default:"$vuetify.fileInput.counter"},multiple:Boolean,showSize:{type:[Boolean,Number],default:!1,validator:i=>typeof i=="boolean"||[1e3,1024].includes(i)},...ma({prependIcon:"$file"}),modelValue:{type:Array,default:()=>[],validator:i=>Ha(i).every(e=>e!=null&&typeof e=="object")},...ci({clearable:!0})},"VFileInput"),pa=Et()({name:"VFileInput",inheritAttrs:!1,props:Ni(),emits:{"click:control":i=>!0,"mousedown:control":i=>!0,"update:focused":i=>!0,"update:modelValue":i=>!0},setup(i,e){let{attrs:a,emit:t,slots:l}=e;const{t:s}=ja(),r=ca(i,"modelValue"),{isFocused:c,focus:o,blur:h}=di(i),u=te(()=>typeof i.showSize!="boolean"?i.showSize:void 0),m=te(()=>(r.value??[]).reduce((w,_)=>{let{size:v=0}=_;return w+v},0)),p=te(()=>Rt(m.value,u.value)),V=te(()=>(r.value??[]).map(w=>{const{name:_="",size:v=0}=w;return i.showSize?`${_} (${Rt(v,u.value)})`:_})),M=te(()=>{var _;const w=((_=r.value)==null?void 0:_.length)??0;return i.showSize?s(i.counterSizeString,w,p.value):s(i.counterString,w)}),N=U(),x=U(),E=U(),D=te(()=>c.value||i.active),A=te(()=>["plain","underlined"].includes(i.variant));function F(){var w;E.value!==document.activeElement&&((w=E.value)==null||w.focus()),c.value||o()}function Z(w){O(w)}function y(w){t("mousedown:control",w)}function O(w){var _;(_=E.value)==null||_.click(),t("click:control",w)}function L(w){w.stopPropagation(),F(),Mt(()=>{r.value=[],Ya(i["onClick:clear"],w)})}return Re(r,w=>{(!Array.isArray(w)||!w.length)&&E.value&&(E.value.value="")}),Vt(()=>{const w=!!(l.counter||i.counter),_=!!(w||l.details),[v,g]=da(a),[{modelValue:B,...z}]=tt.filterProps(i),[Y]=ui(i);return n(tt,be({ref:N,modelValue:r.value,"onUpdate:modelValue":J=>r.value=J,class:["v-file-input",{"v-text-field--plain-underlined":A.value},i.class],style:i.style,"onClick:prepend":Z},v,z,{centerAffix:!A.value,focused:c.value}),{...l,default:J=>{let{id:le,isDisabled:oe,isDirty:Me,isReadonly:$e,isValid:qe}=J;return n(hi,be({ref:x,"prepend-icon":i.prependIcon,onMousedown:y,onClick:O,"onClick:clear":L,"onClick:prependInner":i["onClick:prependInner"],"onClick:appendInner":i["onClick:appendInner"]},Y,{id:le.value,active:D.value||Me.value,dirty:Me.value,disabled:oe.value,focused:c.value,error:qe.value===!1}),{...l,default:Ke=>{var Ze;let{props:{class:Qe,...nt}}=Ke;return n(de,null,[n("input",be({ref:E,type:"file",readonly:$e.value,disabled:oe.value,multiple:i.multiple,name:i.name,onClick:fe=>{fe.stopPropagation(),$e.value&&fe.preventDefault(),F()},onChange:fe=>{if(!fe.target)return;const Sa=fe.target;r.value=[...Sa.files??[]]},onFocus:F,onBlur:h},nt,g),null),n("div",{class:Qe},[!!((Ze=r.value)!=null&&Ze.length)&&(l.selection?l.selection({fileNames:V.value,totalBytes:m.value,totalBytesReadable:p.value}):i.chips?V.value.map(fe=>n(Ye,{key:fe,size:"small",color:i.color},{default:()=>[fe]})):V.value.join(", "))])])}})},details:_?J=>{var le,oe;return n(de,null,[(le=l.details)==null?void 0:le.call(l,J),w&&n(de,null,[n("span",null,null),n(mi,{active:!!((oe=r.value)!=null&&oe.length),value:M.value},l.counter)])])}:void 0})}),Fa({},N,x,E)}}),Si=Dt({...fi({falseIcon:"$radioOff",trueIcon:"$radioOn"})},"VRadio"),se=Et()({name:"VRadio",props:Si(),setup(i,e){let{slots:a}=e;return Vt(()=>n(fa,be(i,{class:["v-radio",i.class],style:i.style,type:"radio"}),a)),{}}});const Ai=Dt({height:{type:[Number,String],default:"auto"},...ma(),...Xa(pi(),["multiple"]),trueIcon:{type:Ot,default:"$radioOn"},falseIcon:{type:Ot,default:"$radioOff"},type:{type:String,default:"radio"}},"VRadioGroup"),Te=Et()({name:"VRadioGroup",inheritAttrs:!1,props:Ai(),emits:{"update:modelValue":i=>!0},setup(i,e){let{attrs:a,slots:t}=e;const l=Wa(),s=te(()=>i.id||`radio-group-${l}`),r=ca(i,"modelValue");return Vt(()=>{const[c,o]=da(a),[h,u]=tt.filterProps(i),[m,p]=fa.filterProps(i),V=t.label?t.label({label:i.label,props:{for:s.value}}):i.label;return n(tt,be({class:["v-radio-group",i.class],style:i.style},c,h,{modelValue:r.value,"onUpdate:modelValue":M=>r.value=M,id:s.value}),{...t,default:M=>{let{id:N,messagesId:x,isDisabled:E,isReadonly:D}=M;return n(de,null,[V&&n(vi,{id:N.value},{default:()=>[V]}),n(gi,be(m,{id:N.value,"aria-describedby":x.value,defaultsTarget:"VRadio",trueIcon:i.trueIcon,falseIcon:i.falseIcon,type:i.type,disabled:E.value,readonly:D.value,"aria-labelledby":V?N.value:void 0,multiple:!1},o,{modelValue:r.value,"onUpdate:modelValue":A=>r.value=A}),t)])}})}),{}}}),ie=i=>(st("data-v-9060d7ba"),i=i(),rt(),i),Ri={class:"text-center pa-4"},Oi={style:{display:"flex"}},Pi={class:"sectionA d-flex flex-column align-center justify-center",style:{width:"250px",margin:"auto","margin-bottom":"26px"}},Bi=ie(()=>f("h2",{class:"mb-4"},"Fotografía",-1)),$i={class:"d-flex justify-space-between align-center"},Ui={class:"text-center mx-2"},zi=ie(()=>f("div",{style:{"font-size":"10px","margin-top":"2px",color:"gray"}}," Seleccionar archivo ",-1)),Li={class:"text-center mx-2"},Hi=ie(()=>f("div",{style:{"font-size":"10px","margin-top":"2px",color:"gray"}}," Tomar foto ",-1)),ji={class:"sectionA"},Fi=ie(()=>f("h2",null,"Información Personal",-1)),Yi={class:"sectionA"},Xi=ie(()=>f("h2",null,"Contacto",-1)),Wi={class:"sectionA"},Gi=ie(()=>f("h2",null,"Cuestionario",-1)),qi=ie(()=>f("p",null,"¿Pasó por Tribunal Eclesiástico de la Ipuc?",-1)),Ki={style:{display:"flex"}},Qi=ie(()=>f("p",null,"¿Cual es el concepto del tribunal Eclesiástico",-1)),Zi={style:{display:"flex"}},Ji=ie(()=>f("p",null,"¿Tiene usted alguna discapacidad?",-1)),eo={style:{display:"flex"}},to=ie(()=>f("p",{class:"mb-2"},"¿Cual es el sexo?",-1)),ao={style:{display:"flex"}},io=ie(()=>f("p",null,"¿Es usted bautizado/a?",-1)),oo={style:{display:"flex"}},so=ie(()=>f("p",null,"¿Es usted sellado/a con el Espiritu Santo?",-1)),ro={style:{display:"flex"}},lo={class:"sectionA"},no=ie(()=>f("h2",null,"Infromacion pastoral",-1)),Ht="green",co={__name:"FormMiembroNuevo",setup(i){const e=Ge(),a=U(!1);U(!1);const t=U(!1),l=U(null),s=U(null),r=te(()=>{if(o.soporteTribunal){const _=o.soporteTribunal.split("/");return _[_.length-1].split("?")[0]}return"No se ha cargado ningún archivo"});var c=De({});De({});const o=De({historiaCargos:[],sede:"",datosRegistro:{timestamp:null,sede:{}},historiaTraslados:[],foto:"",estado:"Activo",tipoDocumento:"",numeroDocumento:"",nombre:"",apellido:"",rol:"",fechaNacimiento:"",lugarNacimineto:"",celular:"",email:"",direccion:"",nivelAcademico:"",ocupacion:"",discapacitado:"",discapacidad:"",descripcionDiscapacidad:"",sexo:"",estadoCivil:"",enteMatrimonial:"",tribunalEclesiastico:"",conceptoTribunal:"",soporteTribunal:null,nombreConyuge:"",listaHijos:[],esBautizado:!1,fechaBautismo:"",lugarBautismo:"",nombrePastorBautismo:"",espiritu:"",fechaEspiritu:"",cargos:[],referenciaPastoral:""}),h=["Educación No aplica","Educación Básica Primaria","Educación Básica Secundaria","Educación Media o Bachillerato","Educación Técnica","Educación Tecnológica","Formación Profesional","Sin Educación (No sabe leer)"],u=["Física","Visual","Auditiva","Intelectual","Otra"];Re(()=>e.formMiembros,_=>{if(L(),M(),o.estado="Activo",_.mode==="edit"){const v=e.miembros.find(g=>g.numeroDocumento===_.id);Object.keys(v).forEach(g=>{o.hasOwnProperty(g)&&(o[g]=v[g])}),o.foto===""?e.selectImg.urlImg=je:e.selectImg.urlImg=o.foto}}),ua(()=>{e.data});const m=async()=>{if(!(await l.value.validate()).valid){me("Validación requerida","Hay uno o más campos vacíos. Por favor, revisa el formulario.","error");return}if(a.value=!0,e.progre=!0,e.selectImg.img!=null){const v=e.selectImg.img,g=o.numeroDocumento+".jpg",B="FotosMiembros/"+g,z=new File([v],g,{type:v.type}),[Y,J]=await Lt(B,z);if(!Y){me("Error","Hubo un problema al subir la imagen. Inténtalo de nuevo.","error");return}o.foto=J}if(s.value!=null){const v=s.value[0],g=[".pdf"],B=v.name.slice(v.name.lastIndexOf(".")).toLowerCase();if(!g.includes(B)){me("Tipo de archivo no permitido","Solo se permiten archivos Word (.docx) o PDF (.pdf).","error");return}const z=o.numeroDocumento+B,Y="SoportesTribunal/"+z,J=new File([v],z,{type:v.type}),[le,oe]=await Lt(Y,J);if(!le){console.error("Error al subir el archivo:",oe),me("Error","Hubo un problema al subir el archivo. Inténtalo de nuevo.","error");return}o.soporteTribunal=oe}if(e.formMiembros.mode==="add"){if(o.datosRegistro.timestamp=Ga(),o.sede=qa.currentUser.email,o.datosRegistro.sede=e.data,await N(miembro.numeroDocumento))return;p(miembro)}else V()};async function p(_){try{const v=await Ka(Pt(ct,"Membresia",_.numeroDocumento),_);M(),e.progre=!1,a.value=!1,e.formMiembros={display:!1,mode:"",id:""},me("Éxito!","El registro se ha guardado correctamente.","success")}catch(v){e.progre=!1,a.value=!1,me("Error!","Hubo un problema al guardar el registro en Firebase."+v,"error")}}async function V(){try{const _=Pt(ct,"Membresia",e.formMiembros.id);await Qa(_,o),e.progre=!1,a.value=!1,M(),e.formMiembros={display:!1,mode:"",id:""},me("Éxito!","El registro se ha actualizado correctamente.","success")}catch{e.progre=!1,a.value=!1,me("Error!","Hubo un problema al actualizar el registro en Firebase.","error")}}function M(){for(const _ in o)Array.isArray(o[_])?o[_]=[]:typeof o[_]=="string"?_!=="estado"&&(o[_]=""):typeof o[_]=="number"&&(o[_]=null)}Re(()=>o,_=>{_.discapacitado==="No"&&(o.discapacidad=null,o.descripcionDiscapacidad=null),_.discapacidad!=="Otra"&&(o.descripcionDiscapacidad=null),_.esBautizado==="No"&&(o.fechaBautismo=null,o.nombrePastorBautismo=null,o.lugarBautismo=null),_.tribunalEclesiastico!=="Sí"&&(o.conceptoTribunal=null,o.soporteTribunal=null),_.estadoCivil!=="Casado/a"&&_.estadoCivil!=="Union libre"&&(o.nombreConyuge=null,o.enteMatrimonial=null),_.estadoCivil!=="Divorciado/a"&&(o.tribunalEclesiastico=null,o.conceptoTribunal=null),_.espiritu!=="Sí"&&(o.fechaEspiritu=null)},{deep:!0});async function N(_){const v=Za(ei(ct,"Membresia"),Ja("numeroDocumento","==",_));return(await ti(v)).empty?!1:(e.progre=!1,a.value=!1,me("Error!","Ya existe un registro con este número de documento!","error"),!0)}var x=De({text:"",isDelet:!0,color:"green",fecha:new Date}),E=De({text:"",isDelet:!0,color:"green"});const D=U(-1),A=U(!1),F=()=>{A.value=!0,setTimeout(()=>{if(x.text.trim()!==""){const _={...x};o.cargos.unshift(_),x.text="",D.value=0}A.value=!1},500)},Z=()=>{A.value=!0,setTimeout(()=>{if(E.text.trim()!==""){const _={...E};o.listaHijos.unshift(_),E.text="",D.value=0}A.value=!1},500)},y=_=>{o.cargos.splice(_,1)},O=_=>{o.listaHijos.splice(_,1)};function L(_){e.selectImg.img=null,e.selectImg.urlImg=je}function w(_,v,g){const B=[];return _&&B.push(z=>!!z||"Este campo no puede estar vacío."),v!==null&&B.push(z=>z.length<=v||`Este campo no puede tener más de ${v} caracteres.`),g&&B.push(z=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(z)||"Ingrese un correo electrónico válido."),B}return(_,v)=>(T(),Q("div",Ri,[n(Be,{modelValue:b(e).formMiembros.display,"onUpdate:modelValue":v[41]||(v[41]=g=>b(e).formMiembros.display=g),transition:"dialog-bottom-transition",fullscreen:"",persistent:""},{default:d(()=>[n(ye,null,{default:d(()=>[n(ot,{class:"dialog-title elevation-4",style:{background:"#eceff1"}},{default:d(()=>[f("div",Oi,[f("h2",null,k(b(e).formMiembros.mode==="add"?"Registro":"Editar"),1),n(Ee),n(X,{onClick:v[0]||(v[0]=g=>b(e).formMiembros.display=!1),"append-icon":"mdi-close",variant:"text",class:"text-none"},{default:d(()=>[S(" Cerrar ")]),_:1})])]),_:1}),n(Oe,null,{default:d(()=>[n(ni,{ref_key:"form1",ref:l,onSubmit:m},{default:d(()=>[f("section",Pi,[Bi,b(e).selectImg.img!==null?(T(),P(ra,{key:0,overlap:"",color:"error"},{badge:d(()=>[n(G,{icon:"mdi-close",size:"small",onClick:L,style:{cursor:"pointer"}})]),default:d(()=>[n(mt,{image:b(e).selectImg.urlImg,size:"120",style:{cursor:"pointer"},onClick:v[1]||(v[1]=g=>t.value=!0)},null,8,["image"])]),_:1})):$("",!0),b(e).selectImg.img==null?(T(),P(mt,{key:1,image:b(e).selectImg.urlImg,size:"120",style:{cursor:"pointer"},onClick:v[2]||(v[2]=g=>t.value=!0)},null,8,["image"])):$("",!0),f("div",$i,[f("div",Ui,[n(X,{size:"x-small",class:"mt-2",icon:"",onClick:v[3]||(v[3]=g=>b(e).selectImg.display=!0)},{default:d(()=>[n(G,null,{default:d(()=>[S("mdi-folder-image")]),_:1})]),_:1}),zi]),f("div",Li,[n(X,{size:"x-small",class:"mt-2",icon:"",onClick:v[4]||(v[4]=g=>b(e).tomarFoto=!0)},{default:d(()=>[n(G,null,{default:d(()=>[S("mdi-camera")]),_:1})]),_:1}),Hi])]),n(Be,{modelValue:t.value,"onUpdate:modelValue":v[6]||(v[6]=g=>t.value=g),"max-width":"300px"},{default:d(()=>[n(ye,null,{default:d(()=>[n(ha,{src:b(e).selectImg.urlImg,"aspect-ratio":"1"},null,8,["src"]),n(_e,null,{default:d(()=>[n(X,{text:"",color:"primary",onClick:v[5]||(v[5]=g=>t.value=!1)},{default:d(()=>[S(" Cerrar ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),f("section",ji,[Fi,n(ce,null,{default:d(()=>[n(C,{cols:"12",md:"4",sm:"6"},{default:d(()=>[n(we,{modelValue:o.tipoDocumento,"onUpdate:modelValue":v[7]||(v[7]=g=>o.tipoDocumento=g),items:["Cedula de Ciudadania","Targeta de identidad","Registro Civil","Cedula Extrangera"],label:"Tipo de documento",rules:w(!0,30)},null,8,["modelValue","rules"])]),_:1}),n(C,{cols:"12",md:"4",sm:"6"},{default:d(()=>[n(q,{disabled:b(e).formMiembros.mode=="edit",modelValue:o.numeroDocumento,"onUpdate:modelValue":v[8]||(v[8]=g=>o.numeroDocumento=g),label:"Número de documento",type:"number",rules:[...w(!0,30),g=>/^\d*$/.test(g)||"Solo se permiten números del 0 al 9. sin puntos ni comas"]},null,8,["disabled","modelValue","rules"])]),_:1}),n(C,{cols:"12",md:"4",sm:"6"},{default:d(()=>[n(q,{modelValue:o.nombre,"onUpdate:modelValue":v[9]||(v[9]=g=>o.nombre=g),label:"Nombre",rules:w(!0,30)},null,8,["modelValue","rules"])]),_:1}),n(C,{cols:"12",md:"4",sm:"6"},{default:d(()=>[n(q,{modelValue:o.apellido,"onUpdate:modelValue":v[10]||(v[10]=g=>o.apellido=g),label:"Apellido",rules:w(!0,30)},null,8,["modelValue","rules"])]),_:1}),n(C,{cols:"12",md:"4",sm:"6"},{default:d(()=>[n(we,{modelValue:o.rol,"onUpdate:modelValue":v[11]||(v[11]=g=>o.rol=g),items:["Pastor","Miembro","Converso"],label:"Rol",rules:w(!0,30)},null,8,["modelValue","rules"])]),_:1}),n(C,{cols:"12",md:"4",sm:"6"},{default:d(()=>[n(we,{modelValue:o.estado,"onUpdate:modelValue":v[12]||(v[12]=g=>o.estado=g),items:["Activo","Inhabilitado"],label:"Estado",disabled:!0},null,8,["modelValue"])]),_:1}),n(C,{cols:"12",md:"4",sm:"6"},{default:d(()=>[n(q,{modelValue:o.fechaNacimiento,"onUpdate:modelValue":v[13]||(v[13]=g=>o.fechaNacimiento=g),label:"Fecha de Nacimiento",type:"date",rules:w(!0,30),outlined:"",dense:"",clearable:""},null,8,["modelValue","rules"])]),_:1}),n(C,{cols:"12",md:"4",sm:"6"},{default:d(()=>[n(q,{modelValue:o.lugarNacimineto,"onUpdate:modelValue":v[14]||(v[14]=g=>o.lugarNacimineto=g),label:"Lugar de nacimiento",rules:w(!0,30)},null,8,["modelValue","rules"])]),_:1})]),_:1})]),f("section",Yi,[Xi,n(ce,null,{default:d(()=>[n(C,{cols:"12",md:"4",sm:"6"},{default:d(()=>[n(q,{modelValue:o.celular,"onUpdate:modelValue":v[15]||(v[15]=g=>o.celular=g),label:"Celular",type:"number",rules:w(!0,12,!1)},null,8,["modelValue","rules"])]),_:1}),n(C,{cols:"12",md:"4",sm:"6"},{default:d(()=>[n(q,{modelValue:o.email,"onUpdate:modelValue":v[16]||(v[16]=g=>o.email=g),label:"Correo",type:"email",rules:[g=>!g||/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(g)||"Ingrese un correo electrónico válido."]},null,8,["modelValue","rules"])]),_:1}),n(C,{cols:"12",md:"4",sm:"6"},{default:d(()=>[n(q,{modelValue:o.direccion,"onUpdate:modelValue":v[17]||(v[17]=g=>o.direccion=g),label:"Dirección",rules:w(!1,50,!1)},null,8,["modelValue","rules"])]),_:1})]),_:1})]),f("section",Wi,[Gi,n(ce,null,{default:d(()=>[n(C,{cols:"12",md:"4",sm:"6"},{default:d(()=>[n(we,{modelValue:o.nivelAcademico,"onUpdate:modelValue":v[18]||(v[18]=g=>o.nivelAcademico=g),items:h,label:"Nivel académico",rules:w(!0,50,!1)},null,8,["modelValue","rules"])]),_:1}),n(C,{cols:"12",md:"4",sm:"6"},{default:d(()=>[n(q,{modelValue:o.ocupacion,"onUpdate:modelValue":v[19]||(v[19]=g=>o.ocupacion=g),label:"Ocupación",type:"txt",rules:w(!0,70,!1)},null,8,["modelValue","rules"])]),_:1}),n(C,{cols:"12",md:"4",sm:"6"},{default:d(()=>[n(we,{modelValue:o.estadoCivil,"onUpdate:modelValue":v[20]||(v[20]=g=>o.estadoCivil=g),items:["Casado/a","Soltero/a","Union libre","Viudo/a","Divorciado/a"],label:"Estado Civil",rules:w(!0,30,!1)},null,8,["modelValue","rules"])]),_:1}),o.estadoCivil==="Casado/a"||o.estadoCivil==="Union libre"?(T(),P(C,{key:0,cols:"12",md:"4",sm:"6"},{default:d(()=>[n(q,{modelValue:o.nombreConyuge,"onUpdate:modelValue":v[21]||(v[21]=g=>o.nombreConyuge=g),label:"Nombre del conyuge",type:"txt",rules:o.estadoCivil==="Casado/a"||o.estadoCivil==="Union libre"?w(!0,50):[]},null,8,["modelValue","rules"])]),_:1})):$("",!0),n(C,{cols:"12",md:"4",sm:"6"},{default:d(()=>[n(q,{modelValue:b(E).text,"onUpdate:modelValue":v[22]||(v[22]=g=>b(E).text=g),label:"Nombre de hijos",required:""},{append:d(()=>[n(X,{loading:A.value,class:"flex-grow-1",height:"48",color:b(E).text!==""?"success":"",onClick:Z},{default:d(()=>[n(G,{icon:"mdi-check"})]),_:1},8,["loading","color"])]),_:1},8,["modelValue"]),n(zt,{filter:""},{default:d(()=>[(T(!0),Q(de,null,Pe(o.listaHijos,(g,B)=>(T(),P(Ye,{key:B,color:B===D.value?Ht:""},{default:d(()=>[S(k(g.text)+" ",1),n(G,{onClick:z=>O(B)},{default:d(()=>[S("mdi-close")]),_:2},1032,["onClick"])]),_:2},1032,["color"]))),128))]),_:1})]),_:1}),o.estadoCivil==="Casado/a"?(T(),P(C,{key:1,cols:"12",md:"4",sm:"6"},{default:d(()=>[n(we,{modelValue:o.enteMatrimonial,"onUpdate:modelValue":v[23]||(v[23]=g=>o.enteMatrimonial=g),items:["Por Notaria","Por la IPUC"],label:"Ente matrimonial",rules:o.estadoCivil==="Casado/a"?w(!0,50):[]},null,8,["modelValue","rules"])]),_:1})):$("",!0),o.estadoCivil==="Divorciado/a"?(T(),P(C,{key:2,cols:"12",md:"4",sm:"6"},{default:d(()=>[n(Te,{modelValue:o.tribunalEclesiastico,"onUpdate:modelValue":v[24]||(v[24]=g=>o.tribunalEclesiastico=g),inline:"",rules:o.estadoCivil==="Divorciado/a"?w(!0,50):[]},{default:d(()=>[qi,f("div",Ki,[n(se,{label:"Sí",value:"Sí"}),n(se,{label:"No",value:"No"})])]),_:1},8,["modelValue","rules"])]),_:1})):$("",!0),o.tribunalEclesiastico==="Sí"?(T(),P(C,{key:3,cols:"12",md:"4",sm:"6"},{default:d(()=>[n(Te,{modelValue:o.conceptoTribunal,"onUpdate:modelValue":v[25]||(v[25]=g=>o.conceptoTribunal=g),inline:"",rules:o.tribunalEclesiastico==="Sí"?w(!0,50):[]},{default:d(()=>[Qi,f("div",Zi,[n(se,{label:"Favorable",value:"Favorable"}),n(se,{label:"Desfavorable",value:"Desfavorable"})])]),_:1},8,["modelValue","rules"])]),_:1})):$("",!0),o.tribunalEclesiastico==="Sí"?(T(),P(C,{key:4,cols:"12",md:"4",sm:"6"},{default:d(()=>[b(e).formMiembros.modo==="edit"?(T(),P(q,{key:0,label:"Soporte actual",accept:".pdf",modelValue:r.value,"onUpdate:modelValue":v[26]||(v[26]=g=>r.value=g),outlined:"",dense:"",disabled:""},null,8,["modelValue"])):$("",!0),n(pa,{label:o.soporteTribunal?"Cambiar soporte":"Adjuntar soporte Eclesiástico",accept:".pdf",modelValue:s.value,"onUpdate:modelValue":v[27]||(v[27]=g=>s.value=g),outlined:"",dense:""},null,8,["label","modelValue"])]),_:1})):$("",!0),n(C,{cols:"12",md:"4",sm:"6"},{default:d(()=>[n(Te,{modelValue:o.discapacitado,"onUpdate:modelValue":v[28]||(v[28]=g=>o.discapacitado=g),inline:"",rules:w(!0,30,!1)},{default:d(()=>[Ji,f("div",eo,[n(se,{label:"Sí",value:"Sí"}),n(se,{label:"No",value:"No"})])]),_:1},8,["modelValue","rules"])]),_:1}),o.discapacitado==="Sí"?(T(),P(C,{key:5,cols:"12",md:"4",sm:"6"},{default:d(()=>[n(we,{modelValue:o.discapacidad,"onUpdate:modelValue":v[29]||(v[29]=g=>o.discapacidad=g),items:u,label:"Tipo de discapacidad",rules:o.discapacitado==="Sí"?w(!0,50):[]},null,8,["modelValue","rules"])]),_:1})):$("",!0),o.discapacidad==="Otra"?(T(),P(C,{key:6,cols:"12",md:"4",sm:"6"},{default:d(()=>[n(q,{modelValue:o.descripcionDiscapacidad,"onUpdate:modelValue":v[30]||(v[30]=g=>o.descripcionDiscapacidad=g),label:"Descripcion de Discapacidad",rules:o.discapacidad==="Otra"?w(!0,130):[]},null,8,["modelValue","rules"])]),_:1})):$("",!0),n(C,{cols:"12",md:"4",sm:"6"},{default:d(()=>[n(Te,{modelValue:o.sexo,"onUpdate:modelValue":v[31]||(v[31]=g=>o.sexo=g),inline:"",rules:w(!0,30,!1)},{default:d(()=>[to,f("div",ao,[n(se,{label:"Hombre",value:"Hombre"}),n(se,{label:"Mujer",value:"Mujer"})])]),_:1},8,["modelValue","rules"])]),_:1}),n(C,{cols:"12",md:"4",sm:"6"},{default:d(()=>[n(Te,{modelValue:o.esBautizado,"onUpdate:modelValue":v[32]||(v[32]=g=>o.esBautizado=g),inline:"",rules:w(!0,30,!1)},{default:d(()=>[io,f("div",oo,[n(se,{label:"Sí",value:"Sí"}),n(se,{label:"No",value:"No"})])]),_:1},8,["modelValue","rules"])]),_:1}),o.esBautizado==="Sí"?(T(),P(C,{key:7,cols:"12",md:"4",sm:"6"},{default:d(()=>[n(q,{modelValue:o.nombrePastorBautismo,"onUpdate:modelValue":v[33]||(v[33]=g=>o.nombrePastorBautismo=g),label:"Nombre del pastor que lo bautizó",rules:o.esBautizado==="Sí"?w(!0,50):[]},null,8,["modelValue","rules"])]),_:1})):$("",!0),o.esBautizado==="Sí"?(T(),P(C,{key:8,cols:"12",md:"4",sm:"6"},{default:d(()=>[n(q,{modelValue:o.fechaBautismo,"onUpdate:modelValue":v[34]||(v[34]=g=>o.fechaBautismo=g),label:"Fecha de Bautizmo",type:"date",rules:o.esBautizado==="Sí"?w(!0,30):[],outlined:"",dense:"",clearable:""},null,8,["modelValue","rules"])]),_:1})):$("",!0),o.esBautizado==="Sí"?(T(),P(C,{key:9,cols:"12",md:"4",sm:"6"},{default:d(()=>[n(q,{modelValue:o.lugarBautismo,"onUpdate:modelValue":v[35]||(v[35]=g=>o.lugarBautismo=g),label:"Lugar de  bautismo",rules:o.esBautizado==="Sí"?w(!0,50):[]},null,8,["modelValue","rules"])]),_:1})):$("",!0),n(C,{cols:"12",md:"4",sm:"6"},{default:d(()=>[n(Te,{modelValue:o.espiritu,"onUpdate:modelValue":v[36]||(v[36]=g=>o.espiritu=g),inline:"",rules:w(!0,30,!1)},{default:d(()=>[so,f("div",ro,[n(se,{label:"Sí",value:"Sí"}),n(se,{label:"No",value:"No"})])]),_:1},8,["modelValue","rules"])]),_:1}),o.espiritu==="Sí"?(T(),P(C,{key:10,cols:"12",md:"4",sm:"6"},{default:d(()=>[n(q,{modelValue:o.fechaEspiritu,"onUpdate:modelValue":v[37]||(v[37]=g=>o.fechaEspiritu=g),label:"Fecha de Recepción Espíritu Santo",type:"date",rules:o.espiritu==="Sí"?w(!0,30):[],outlined:"",dense:"",clearable:""},null,8,["modelValue","rules"])]),_:1})):$("",!0)]),_:1})]),f("section",lo,[no,n(q,{modelValue:b(x).text,"onUpdate:modelValue":v[38]||(v[38]=g=>b(x).text=g),label:"Cargo",required:""},{append:d(()=>[n(X,{loading:A.value,class:"flex-grow-1",height:"48",color:b(x).text!==""?"success":"",onClick:F},{default:d(()=>[n(G,{icon:"mdi-check"})]),_:1},8,["loading","color"])]),_:1},8,["modelValue"]),n(zt,{filter:""},{default:d(()=>[(T(!0),Q(de,null,Pe(o.cargos,(g,B)=>(T(),P(Ye,{key:B,color:B===D.value?Ht:""},{default:d(()=>[S(k(g.text)+" ",1),n(G,{onClick:z=>y(B)},{default:d(()=>[S("mdi-close")]),_:2},1032,["onClick"])]),_:2},1032,["color"]))),128))]),_:1}),n(bi,{modelValue:o.referenciaPastoral,"onUpdate:modelValue":v[39]||(v[39]=g=>o.referenciaPastoral=g),label:"Referencia Pastoral",counter:"500"},null,8,["modelValue"])])]),_:1},512)]),_:1}),n(_e,{class:"dialog-actions"},{default:d(()=>[n(Ee),n(X,{onClick:v[40]||(v[40]=g=>b(e).formMiembros.display=!1),style:{"text-transform":"none"}},{default:d(()=>[S(k(b(e).formMiembros.mode==="view"?"Cerrar":"Cancelar"),1)]),_:1}),b(e).formMiembros.mode==="add"?(T(),P(X,{key:0,color:"primary",onClick:m,disabled:a.value,style:{"text-transform":"none"}},{default:d(()=>[S(" Guardar ")]),_:1},8,["disabled"])):$("",!0),b(e).formMiembros.mode==="edit"?(T(),P(X,{key:1,color:"primary",onClick:m,disabled:JSON.stringify(b(c))===JSON.stringify(o),style:{"text-transform":"none"}},{default:d(()=>[S(" Guardar cambios ")]),_:1},8,["disabled"])):$("",!0)]),_:1})]),_:1})]),_:1},8,["modelValue"])]))}},uo=it(co,[["__scopeId","data-v-9060d7ba"]]);function jt(i){return i.split(" ").map(e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()).join(" ")}function dt(i){const e=new Date(i),a=["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"],t=e.getDate(),l=a[e.getMonth()],s=e.getFullYear();return`${t+1} de ${l} del  año ${s}`}const I=i=>(st("data-v-b4cb8a62"),i=i(),rt(),i),ho={style:{display:"flex"},class:""},mo=I(()=>f("h2",null,"Resumen",-1)),fo={class:"sectionA d-flex flex-column align-center justify-center"},po=I(()=>f("h2",null,"Fotografía",-1)),vo=I(()=>f("p",{class:"text-muted"},"Haga clic para ampliar",-1)),go={class:"sectionA"},bo=I(()=>f("h2",{class:"mb-8"},"Información Personal",-1)),yo=I(()=>f("strong",{class:"subTitles"},"Estado Actual:",-1)),_o={class:"vistaDatos"},wo=I(()=>f("strong",{class:"subTitles"},"Tipo de Documento:",-1)),xo={class:"vistaDatos"},Co=I(()=>f("strong",{class:"subTitles"},"Número de Documento:",-1)),Do={class:"vistaDatos"},Eo=I(()=>f("strong",{class:"subTitles"},"Nombre(s):",-1)),Vo={class:"vistaDatos"},Mo=I(()=>f("strong",{class:"subTitles"},"Apellido(s):",-1)),To={class:"vistaDatos"},Io=I(()=>f("strong",{class:"subTitles"},"Rol o Cargo:",-1)),ko={class:"vistaDatos"},No=I(()=>f("strong",{class:"subTitles"},"Fecha de Nacimiento:",-1)),So={class:"vistaDatos"},Ao=I(()=>f("strong",{class:"subTitles"},"Lugar de Nacimiento:",-1)),Ro={class:"vistaDatos"},Oo=I(()=>f("strong",{class:"subTitles"},"Sexo:",-1)),Po={class:"vistaDatos"},Bo=I(()=>f("strong",{class:"subTitles"},"Estado Civil:",-1)),$o={class:"vistaDatos"},Uo=I(()=>f("strong",{class:"subTitles"},"Número de Teléfono Celular:",-1)),zo={class:"vistaDatos"},Lo=I(()=>f("strong",{class:"subTitles"},"Correo Electrónico:",-1)),Ho={class:"vistaDatos"},jo=I(()=>f("strong",{class:"subTitles"},"Dirección de Residencia:",-1)),Fo={class:"vistaDatos"},Yo={class:"sectionA"},Xo=I(()=>f("h2",{class:"mb-8"},"Información académica y laboral",-1)),Wo=I(()=>f("strong",null,"Nivel Académico:",-1)),Go={class:"vistaDatos"},qo=I(()=>f("strong",null,"Ocupación:",-1)),Ko={class:"vistaDatos"},Qo={class:"sectionA"},Zo=I(()=>f("h2",{class:"mb-8"},"Condición Física o Cognitiva",-1)),Jo=I(()=>f("strong",null,"¿Es discapacitado/a?:",-1)),es={class:"vistaDatos"},ts=I(()=>f("strong",null,"Tipo de Discapacidad:",-1)),as={class:"vistaDatos"},is=I(()=>f("strong",null,"Descripción de Discapacidad:",-1)),os={class:"vistaDatos"},ss={class:"sectionA"},rs=I(()=>f("h2",{class:"mb-8"},"4. Información matrimonial y familiar",-1)),ls=I(()=>f("strong",null,"Ente Matrimonial:",-1)),ns={class:"vistaDatos"},cs=I(()=>f("strong",null,"¿Paso usted por el tribunal eclesiastico?:",-1)),ds={class:"vistaDatos"},us=I(()=>f("strong",null,"Cual fue el concepto del tribunal Eclesiastico:",-1)),hs={class:"vistaDatos"},ms=I(()=>f("strong",null,"Soporte del del concepto del tribunal:",-1)),fs={key:0,class:"vistaDatos"},ps={key:1,class:"vistaDatos"},vs=I(()=>f("strong",null,"Nombre del conyuge:",-1)),gs={class:"vistaDatos"},bs=I(()=>f("strong",null,"Numero de hijos:",-1)),ys={class:"vistaDatos"},_s=I(()=>f("strong",null,"Nombre de hijos:",-1)),ws={key:0,class:"vistaDatos"},xs={class:"sectionA"},Cs=I(()=>f("h2",{class:"mb-8"},"5. Información religiosa",-1)),Ds=I(()=>f("strong",null,"¿Es bautizado?:",-1)),Es={class:"vistaDatos"},Vs=I(()=>f("strong",null,"Fecha del bautismo:",-1)),Ms={class:"vistaDatos"},Ts=I(()=>f("strong",null,"Lugar donde fue bautizado:",-1)),Is={class:"vistaDatos"},ks=I(()=>f("strong",null,"Nombre del pastor que le bautizo:",-1)),Ns={class:"vistaDatos"},Ss=I(()=>f("strong",null,"Es sellado con el Espiritu Santo?:",-1)),As={class:"vistaDatos"},Rs=I(()=>f("strong",null,"Fecha de recepción del Espiritu Santo:",-1)),Os={class:"vistaDatos"},Ps=I(()=>f("strong",null,"Cargos:",-1)),Bs={key:0,class:"vistaDatos"},$s={class:"sectionA"},Us=I(()=>f("h2",{class:"mb-8"},"6. Referencia Pastoral",-1)),zs={__name:"viewRegistro",setup(i){const e=Ge(),a=U(!1);var t=De({foto:"",estado:"",tipoDocumento:"",numeroDocumento:"",nombre:"",apellido:"",rol:"",fechaNacimiento:"",lugarNacimineto:"",celular:"",email:"",direccion:"",nivelAcademico:"",ocupacion:"",discapacitado:"",discapacidad:"",descripcionDiscapacidad:"",sexo:"",estadoCivil:"",enteMatrimonial:"",tribunalEclesiastico:"",conceptoTribunal:"",soporteTribunal:null,nombreConyuge:"",listaHijos:[],esBautizado:!1,fechaBautismo:"",lugarBautismo:"",nombrePastorBautismo:"",espiritu:"",fechaEspiritu:"",cargos:[],referenciaPastoral:""}),l=De({foto:"",estado:"",tipoDocumento:"",numeroDocumento:"",nombre:"",apellido:"",rol:"",fechaNacimiento:"",lugarNacimineto:"",celular:"",email:"",direccion:"",nivelAcademico:"",ocupacion:"",discapacitado:"",discapacidad:"",descripcionDiscapacidad:"",sexo:"",estadoCivil:"",enteMatrimonial:"",tribunalEclesiastico:"",conceptoTribunal:"",soporteTribunal:null,nombreConyuge:"",listaHijos:[],esBautizado:!1,fechaBautismo:"",lugarBautismo:"",nombrePastorBautismo:"",espiritu:"",fechaEspiritu:"",cargos:[],referenciaPastoral:""});Re(()=>e.viewRegistro,r=>{if(r.display){t={...l};const c=e.miembros.find(o=>o.numeroDocumento===r.id);Object.keys(t).forEach(o=>{t[o]=c.hasOwnProperty(o)?c[o]:t[o]}),Object.keys(t).forEach(o=>{const h=t[o];h===""||h===null||h===void 0?t[o]="Campo vacío":Array.isArray(h)&&h.length}),t.foto==="Campo vacío"&&(t.foto=je)}});function s(r){window.open(r,"_blank")}return(r,c)=>(T(),P(Be,{modelValue:b(e).viewRegistro.display,"onUpdate:modelValue":c[8]||(c[8]=o=>b(e).viewRegistro.display=o),transition:"fade-transition",persistent:"","max-width":"1080px","dialog-title":""},{default:d(()=>[n(ye,null,{default:d(()=>[n(ot,{class:"dialog-title elevation-4"},{default:d(()=>[f("div",ho,[mo,n(Ee),n(X,{onClick:c[0]||(c[0]=o=>b(e).viewRegistro.display=!1),"append-icon":"mdi-close",variant:"outlined"},{default:d(()=>[S(" Cerrar ")]),_:1})])]),_:1}),n(Oe,null,{default:d(()=>[f("section",fo,[po,n(mt,{image:b(t).foto||b(je),size:"120",onClick:c[1]||(c[1]=o=>a.value=!0),style:{cursor:"pointer"}},null,8,["image"]),vo]),n(Be,{modelValue:a.value,"onUpdate:modelValue":c[3]||(c[3]=o=>a.value=o),"max-width":"100%","max-height":"100%",class:"pa-0",fullscreen:""},{default:d(()=>[n(ye,{class:"pa-2",color:"black"},{default:d(()=>[n(_e,null,{default:d(()=>[n(Ee),n(X,{onClick:c[2]||(c[2]=o=>a.value=!1),"append-icon":"mdi-close",variant:"outlined"},{append:d(()=>[n(G,{color:"error"})]),default:d(()=>[S(" Cerrar ")]),_:1})]),_:1}),n(ha,{src:b(t).foto||b(je),"max-height":"400",contain:"",class:"rounded-sm"},null,8,["src"])]),_:1})]),_:1},8,["modelValue"]),f("section",go,[bo,n(ce,null,{default:d(()=>[n(C,{cols:"12",md:"6",class:"field"},{default:d(()=>[yo,f("span",_o,k(b(t).estado),1)]),_:1}),n(C,{cols:"12",md:"6",class:"field"},{default:d(()=>[wo,f("span",xo,k(b(t).tipoDocumento),1)]),_:1}),n(C,{cols:"12",md:"6",class:"field"},{default:d(()=>[Co,f("span",Do,k(b(t).numeroDocumento),1)]),_:1}),n(C,{cols:"12",md:"6",class:"field"},{default:d(()=>[Eo,f("span",Vo,k(b(jt)(b(t).nombre)),1)]),_:1}),n(C,{cols:"12",md:"6",class:"field"},{default:d(()=>[Mo,f("span",To,k(b(jt)(b(t).apellido)),1)]),_:1}),n(C,{cols:"12",md:"6",class:"field"},{default:d(()=>[Io,f("span",ko,k(b(t).rol),1)]),_:1}),n(C,{cols:"12",md:"6",class:"field"},{default:d(()=>[No,f("span",So,k(b(dt)(b(t).fechaNacimiento)),1)]),_:1}),n(C,{cols:"12",md:"6",class:"field"},{default:d(()=>[Ao,f("span",Ro,k(b(t).lugarNacimineto),1)]),_:1}),n(C,{cols:"12",md:"6",class:"field"},{default:d(()=>[Oo,f("span",Po,k(b(t).sexo),1)]),_:1}),n(C,{cols:"12",md:"6",class:"field"},{default:d(()=>[Bo,f("span",$o,k(b(t).estadoCivil),1)]),_:1}),n(C,{cols:"12",md:"6",class:"field"},{default:d(()=>[Uo,f("span",zo,k(b(t).celular),1)]),_:1}),n(C,{cols:"12",md:"6",class:"field"},{default:d(()=>[Lo,f("span",Ho,k(b(t).email),1)]),_:1}),n(C,{cols:"12",md:"6",class:"field"},{default:d(()=>[jo,f("span",Fo,k(b(t).direccion),1)]),_:1})]),_:1})]),f("section",Yo,[Xo,n(ce,null,{default:d(()=>[n(C,{cols:"12",md:"6",class:"field"},{default:d(()=>[Wo,f("span",Go,k(b(t).nivelAcademico),1)]),_:1}),n(C,{cols:"12",md:"6",class:"field"},{default:d(()=>[qo,f("span",Ko,k(b(t).ocupacion),1)]),_:1})]),_:1})]),f("section",Qo,[Zo,n(ce,null,{default:d(()=>[n(C,{cols:"12",md:"6",class:"field"},{default:d(()=>[Jo,f("span",es,k(b(t).discapacitado),1)]),_:1}),n(C,{cols:"12",md:"6",class:"field"},{default:d(()=>[ts,f("span",as,k(b(t).discapacidad),1)]),_:1}),n(C,{cols:"12",md:"6",class:"field"},{default:d(()=>[is,f("span",os,k(b(t).descripcionDiscapacidad),1)]),_:1})]),_:1})]),f("section",ss,[rs,n(ce,null,{default:d(()=>[n(C,{cols:"12",md:"6",class:"field"},{default:d(()=>[ls,f("span",ns,k(b(t).enteMatrimonial),1)]),_:1}),n(C,{cols:"12",md:"6",class:"field"},{default:d(()=>[cs,f("span",ds,k(b(t).tribunalEclesiastico),1)]),_:1}),n(C,{cols:"12",md:"6",class:"field"},{default:d(()=>[us,f("span",hs,k(b(t).conceptoTribunal),1)]),_:1}),n(C,{cols:"12",md:"6",class:"field"},{default:d(()=>[ms,b(t).soporteTribunal!=="Campo vacío"?(T(),Q("span",fs,[b(t).soporteTribunal!=="Campo vacío"?(T(),P(X,{key:0,size:"x-small",onClick:c[4]||(c[4]=o=>s(b(t).soporteTribunal))},{default:d(()=>[S(" Descargar Soporte ")]),_:1})):$("",!0)])):$("",!0),b(t).soporteTribunal==="Campo vacío"?(T(),Q("span",ps," Sin soporte ")):$("",!0)]),_:1}),n(C,{cols:"12",md:"6",class:"field"},{default:d(()=>[vs,f("span",gs,k(b(t).nombreConyuge),1)]),_:1}),n(C,{cols:"12",md:"6",class:"field"},{default:d(()=>[bs,f("span",ys,k(b(t).listaHijos.length>0?b(t).listaHijos.length:0),1)]),_:1}),n(C,{cols:"12",md:"6",class:"field"},{default:d(()=>[_s,b(t).listaHijos.length===0?(T(),Q("span",ws,"No hay registro de hijos")):$("",!0),b(t).listaHijos.length>0?(T(),P(ce,{key:1,class:"d-flex flex-wrap mt-2 mb-2"},{default:d(()=>[(T(!0),Q(de,null,Pe(b(t).listaHijos,(o,h)=>(T(),P(Ye,{key:h,class:"ma-1",color:"blue-grey-darken-4","text-color":"blue darken-4",style:{"border-radius":"12px"}},{default:d(()=>[S(k(o.text),1)]),_:2},1024))),128))]),_:1})):$("",!0)]),_:1})]),_:1})]),f("section",xs,[Cs,n(ce,null,{default:d(()=>[n(C,{cols:"12",md:"6",class:"field"},{default:d(()=>[Ds,f("span",Es,k(b(t).esBautizado),1)]),_:1}),n(C,{cols:"12",md:"6",class:"field"},{default:d(()=>[Vs,f("span",Ms,k(b(t).fechaBautismo==="Campo vacío"?"Campo vacío":b(dt)(b(t).fechaBautismo)),1)]),_:1}),n(C,{cols:"12",md:"6",class:"field"},{default:d(()=>[Ts,f("span",Is,k(b(t).lugarBautismo),1)]),_:1}),n(C,{cols:"12",md:"6",class:"field"},{default:d(()=>[ks,f("span",Ns,k(b(t).nombrePastorBautismo),1)]),_:1}),n(C,{cols:"12",md:"6",class:"field"},{default:d(()=>[Ss,f("span",As,k(b(t).espiritu),1)]),_:1}),n(C,{cols:"12",md:"6",class:"field"},{default:d(()=>[Rs,f("span",Os,k(b(t).fechaEspiritu==="Campo vacío"?"Campo vacío":b(dt)(b(t).fechaEspiritu)),1)]),_:1}),n(C,{cols:"12",md:"6",class:"field"},{default:d(()=>[Ps,b(t).cargos.length===0?(T(),Q("span",Bs,"Sin Cargos")):$("",!0),b(t).cargos.length>0?(T(),P(ce,{key:1,class:"d-flex flex-wrap mt-2 mb-2"},{default:d(()=>[(T(!0),Q(de,null,Pe(b(t).cargos,(o,h)=>(T(),P(Ye,{key:h,class:"ma-1",color:"blue-grey-darken-4","text-color":"blue darken-4",style:{"border-radius":"12px"}},{default:d(()=>[S(k(o.text),1)]),_:2},1024))),128))]),_:1})):$("",!0)]),_:1})]),_:1})]),f("section",$s,[Us,n(ce,null,{default:d(()=>[n(C,{cols:"12",md:"12",class:"field"},{default:d(()=>[la(f("textarea",{"onUpdate:modelValue":c[5]||(c[5]=o=>b(t).referenciaPastoral=o),readonly:"",class:"no-editable-textarea"},null,512),[[na,b(t).referenciaPastoral]])]),_:1})]),_:1})])]),_:1}),n(_e,{class:"dialog-actions"},{default:d(()=>[n(Ee),n(X,{onClick:c[6]||(c[6]=o=>b(e).viewRegistro.display=!1),variant:"text"},{default:d(()=>[S(" Cerrar ")]),_:1}),n(X,{color:"primary",onClick:c[7]||(c[7]=o=>b(e).formMiembros={display:!0,mode:"edit",id:b(t).numeroDocumento})},{default:d(()=>[S(" Editar ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]))}},Ls=it(zs,[["__scopeId","data-v-b4cb8a62"]]);/*!
 * Cropper.js v1.6.2
 * https://fengyuanchen.github.io/cropperjs
 *
 * Copyright 2015-present Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2024-04-21T07:43:05.335Z
 */function Ft(i,e){var a=Object.keys(i);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(i);e&&(t=t.filter(function(l){return Object.getOwnPropertyDescriptor(i,l).enumerable})),a.push.apply(a,t)}return a}function va(i){for(var e=1;e<arguments.length;e++){var a=arguments[e]!=null?arguments[e]:{};e%2?Ft(Object(a),!0).forEach(function(t){Ys(i,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(a)):Ft(Object(a)).forEach(function(t){Object.defineProperty(i,t,Object.getOwnPropertyDescriptor(a,t))})}return i}function Hs(i,e){if(typeof i!="object"||!i)return i;var a=i[Symbol.toPrimitive];if(a!==void 0){var t=a.call(i,e||"default");if(typeof t!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(i)}function ga(i){var e=Hs(i,"string");return typeof e=="symbol"?e:e+""}function ft(i){"@babel/helpers - typeof";return ft=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ft(i)}function js(i,e){if(!(i instanceof e))throw new TypeError("Cannot call a class as a function")}function Yt(i,e){for(var a=0;a<e.length;a++){var t=e[a];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(i,ga(t.key),t)}}function Fs(i,e,a){return e&&Yt(i.prototype,e),a&&Yt(i,a),Object.defineProperty(i,"prototype",{writable:!1}),i}function Ys(i,e,a){return e=ga(e),e in i?Object.defineProperty(i,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):i[e]=a,i}function ba(i){return Xs(i)||Ws(i)||Gs(i)||qs()}function Xs(i){if(Array.isArray(i))return pt(i)}function Ws(i){if(typeof Symbol<"u"&&i[Symbol.iterator]!=null||i["@@iterator"]!=null)return Array.from(i)}function Gs(i,e){if(i){if(typeof i=="string")return pt(i,e);var a=Object.prototype.toString.call(i).slice(8,-1);if(a==="Object"&&i.constructor&&(a=i.constructor.name),a==="Map"||a==="Set")return Array.from(i);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return pt(i,e)}}function pt(i,e){(e==null||e>i.length)&&(e=i.length);for(var a=0,t=new Array(e);a<e;a++)t[a]=i[a];return t}function qs(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var lt=typeof window<"u"&&typeof window.document<"u",he=lt?window:{},Tt=lt&&he.document.documentElement?"ontouchstart"in he.document.documentElement:!1,It=lt?"PointerEvent"in he:!1,H="cropper",kt="all",ya="crop",_a="move",wa="zoom",xe="e",Ce="w",Ie="s",pe="n",Ue="ne",ze="nw",Le="se",He="sw",vt="".concat(H,"-crop"),Xt="".concat(H,"-disabled"),ae="".concat(H,"-hidden"),Wt="".concat(H,"-hide"),Ks="".concat(H,"-invisible"),at="".concat(H,"-modal"),gt="".concat(H,"-move"),Xe="".concat(H,"Action"),Je="".concat(H,"Preview"),Nt="crop",xa="move",Ca="none",bt="crop",yt="cropend",_t="cropmove",wt="cropstart",Gt="dblclick",Qs=Tt?"touchstart":"mousedown",Zs=Tt?"touchmove":"mousemove",Js=Tt?"touchend touchcancel":"mouseup",qt=It?"pointerdown":Qs,Kt=It?"pointermove":Zs,Qt=It?"pointerup pointercancel":Js,Zt="ready",Jt="resize",ea="wheel",xt="zoom",ta="image/jpeg",er=/^e|w|s|n|se|sw|ne|nw|all|crop|move|zoom$/,tr=/^data:/,ar=/^data:image\/jpeg;base64,/,ir=/^img|canvas$/i,Da=200,Ea=100,aa={viewMode:0,dragMode:Nt,initialAspectRatio:NaN,aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:Da,minContainerHeight:Ea,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},or='<div class="cropper-container" touch-action="none"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-cropper-action="e"></span><span class="cropper-line line-n" data-cropper-action="n"></span><span class="cropper-line line-w" data-cropper-action="w"></span><span class="cropper-line line-s" data-cropper-action="s"></span><span class="cropper-point point-e" data-cropper-action="e"></span><span class="cropper-point point-n" data-cropper-action="n"></span><span class="cropper-point point-w" data-cropper-action="w"></span><span class="cropper-point point-s" data-cropper-action="s"></span><span class="cropper-point point-ne" data-cropper-action="ne"></span><span class="cropper-point point-nw" data-cropper-action="nw"></span><span class="cropper-point point-sw" data-cropper-action="sw"></span><span class="cropper-point point-se" data-cropper-action="se"></span></div></div>',sr=Number.isNaN||he.isNaN;function R(i){return typeof i=="number"&&!sr(i)}var ia=function(e){return e>0&&e<1/0};function ut(i){return typeof i>"u"}function Ve(i){return ft(i)==="object"&&i!==null}var rr=Object.prototype.hasOwnProperty;function ke(i){if(!Ve(i))return!1;try{var e=i.constructor,a=e.prototype;return e&&a&&rr.call(a,"isPrototypeOf")}catch{return!1}}function ee(i){return typeof i=="function"}var lr=Array.prototype.slice;function Va(i){return Array.from?Array.from(i):lr.call(i)}function W(i,e){return i&&ee(e)&&(Array.isArray(i)||R(i.length)?Va(i).forEach(function(a,t){e.call(i,a,t,i)}):Ve(i)&&Object.keys(i).forEach(function(a){e.call(i,i[a],a,i)})),i}var j=Object.assign||function(e){for(var a=arguments.length,t=new Array(a>1?a-1:0),l=1;l<a;l++)t[l-1]=arguments[l];return Ve(e)&&t.length>0&&t.forEach(function(s){Ve(s)&&Object.keys(s).forEach(function(r){e[r]=s[r]})}),e},nr=/\.\d*(?:0|9){12}\d*$/;function Se(i){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e11;return nr.test(i)?Math.round(i*e)/e:i}var cr=/^width|height|left|top|marginLeft|marginTop$/;function ve(i,e){var a=i.style;W(e,function(t,l){cr.test(l)&&R(t)&&(t="".concat(t,"px")),a[l]=t})}function dr(i,e){return i.classList?i.classList.contains(e):i.className.indexOf(e)>-1}function K(i,e){if(e){if(R(i.length)){W(i,function(t){K(t,e)});return}if(i.classList){i.classList.add(e);return}var a=i.className.trim();a?a.indexOf(e)<0&&(i.className="".concat(a," ").concat(e)):i.className=e}}function ue(i,e){if(e){if(R(i.length)){W(i,function(a){ue(a,e)});return}if(i.classList){i.classList.remove(e);return}i.className.indexOf(e)>=0&&(i.className=i.className.replace(e,""))}}function Ne(i,e,a){if(e){if(R(i.length)){W(i,function(t){Ne(t,e,a)});return}a?K(i,e):ue(i,e)}}var ur=/([a-z\d])([A-Z])/g;function St(i){return i.replace(ur,"$1-$2").toLowerCase()}function Ct(i,e){return Ve(i[e])?i[e]:i.dataset?i.dataset[e]:i.getAttribute("data-".concat(St(e)))}function We(i,e,a){Ve(a)?i[e]=a:i.dataset?i.dataset[e]=a:i.setAttribute("data-".concat(St(e)),a)}function hr(i,e){if(Ve(i[e]))try{delete i[e]}catch{i[e]=void 0}else if(i.dataset)try{delete i.dataset[e]}catch{i.dataset[e]=void 0}else i.removeAttribute("data-".concat(St(e)))}var Ma=/\s\s*/,Ta=function(){var i=!1;if(lt){var e=!1,a=function(){},t=Object.defineProperty({},"once",{get:function(){return i=!0,e},set:function(s){e=s}});he.addEventListener("test",a,t),he.removeEventListener("test",a,t)}return i}();function ne(i,e,a){var t=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},l=a;e.trim().split(Ma).forEach(function(s){if(!Ta){var r=i.listeners;r&&r[s]&&r[s][a]&&(l=r[s][a],delete r[s][a],Object.keys(r[s]).length===0&&delete r[s],Object.keys(r).length===0&&delete i.listeners)}i.removeEventListener(s,l,t)})}function re(i,e,a){var t=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},l=a;e.trim().split(Ma).forEach(function(s){if(t.once&&!Ta){var r=i.listeners,c=r===void 0?{}:r;l=function(){delete c[s][a],i.removeEventListener(s,l,t);for(var h=arguments.length,u=new Array(h),m=0;m<h;m++)u[m]=arguments[m];a.apply(i,u)},c[s]||(c[s]={}),c[s][a]&&i.removeEventListener(s,c[s][a],t),c[s][a]=l,i.listeners=c}i.addEventListener(s,l,t)})}function Ae(i,e,a){var t;return ee(Event)&&ee(CustomEvent)?t=new CustomEvent(e,{detail:a,bubbles:!0,cancelable:!0}):(t=document.createEvent("CustomEvent"),t.initCustomEvent(e,!0,!0,a)),i.dispatchEvent(t)}function Ia(i){var e=i.getBoundingClientRect();return{left:e.left+(window.pageXOffset-document.documentElement.clientLeft),top:e.top+(window.pageYOffset-document.documentElement.clientTop)}}var ht=he.location,mr=/^(\w+:)\/\/([^:/?#]*):?(\d*)/i;function oa(i){var e=i.match(mr);return e!==null&&(e[1]!==ht.protocol||e[2]!==ht.hostname||e[3]!==ht.port)}function sa(i){var e="timestamp=".concat(new Date().getTime());return i+(i.indexOf("?")===-1?"?":"&")+e}function Fe(i){var e=i.rotate,a=i.scaleX,t=i.scaleY,l=i.translateX,s=i.translateY,r=[];R(l)&&l!==0&&r.push("translateX(".concat(l,"px)")),R(s)&&s!==0&&r.push("translateY(".concat(s,"px)")),R(e)&&e!==0&&r.push("rotate(".concat(e,"deg)")),R(a)&&a!==1&&r.push("scaleX(".concat(a,")")),R(t)&&t!==1&&r.push("scaleY(".concat(t,")"));var c=r.length?r.join(" "):"none";return{WebkitTransform:c,msTransform:c,transform:c}}function fr(i){var e=va({},i),a=0;return W(i,function(t,l){delete e[l],W(e,function(s){var r=Math.abs(t.startX-s.startX),c=Math.abs(t.startY-s.startY),o=Math.abs(t.endX-s.endX),h=Math.abs(t.endY-s.endY),u=Math.sqrt(r*r+c*c),m=Math.sqrt(o*o+h*h),p=(m-u)/u;Math.abs(p)>Math.abs(a)&&(a=p)})}),a}function et(i,e){var a=i.pageX,t=i.pageY,l={endX:a,endY:t};return e?l:va({startX:a,startY:t},l)}function pr(i){var e=0,a=0,t=0;return W(i,function(l){var s=l.startX,r=l.startY;e+=s,a+=r,t+=1}),e/=t,a/=t,{pageX:e,pageY:a}}function ge(i){var e=i.aspectRatio,a=i.height,t=i.width,l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"contain",s=ia(t),r=ia(a);if(s&&r){var c=a*e;l==="contain"&&c>t||l==="cover"&&c<t?a=t/e:t=a*e}else s?a=t/e:r&&(t=a*e);return{width:t,height:a}}function vr(i){var e=i.width,a=i.height,t=i.degree;if(t=Math.abs(t)%180,t===90)return{width:a,height:e};var l=t%90*Math.PI/180,s=Math.sin(l),r=Math.cos(l),c=e*r+a*s,o=e*s+a*r;return t>90?{width:o,height:c}:{width:c,height:o}}function gr(i,e,a,t){var l=e.aspectRatio,s=e.naturalWidth,r=e.naturalHeight,c=e.rotate,o=c===void 0?0:c,h=e.scaleX,u=h===void 0?1:h,m=e.scaleY,p=m===void 0?1:m,V=a.aspectRatio,M=a.naturalWidth,N=a.naturalHeight,x=t.fillColor,E=x===void 0?"transparent":x,D=t.imageSmoothingEnabled,A=D===void 0?!0:D,F=t.imageSmoothingQuality,Z=F===void 0?"low":F,y=t.maxWidth,O=y===void 0?1/0:y,L=t.maxHeight,w=L===void 0?1/0:L,_=t.minWidth,v=_===void 0?0:_,g=t.minHeight,B=g===void 0?0:g,z=document.createElement("canvas"),Y=z.getContext("2d"),J=ge({aspectRatio:V,width:O,height:w}),le=ge({aspectRatio:V,width:v,height:B},"cover"),oe=Math.min(J.width,Math.max(le.width,M)),Me=Math.min(J.height,Math.max(le.height,N)),$e=ge({aspectRatio:l,width:O,height:w}),qe=ge({aspectRatio:l,width:v,height:B},"cover"),Ke=Math.min($e.width,Math.max(qe.width,s)),Qe=Math.min($e.height,Math.max(qe.height,r)),nt=[-Ke/2,-Qe/2,Ke,Qe];return z.width=Se(oe),z.height=Se(Me),Y.fillStyle=E,Y.fillRect(0,0,oe,Me),Y.save(),Y.translate(oe/2,Me/2),Y.rotate(o*Math.PI/180),Y.scale(u,p),Y.imageSmoothingEnabled=A,Y.imageSmoothingQuality=Z,Y.drawImage.apply(Y,[i].concat(ba(nt.map(function(Ze){return Math.floor(Se(Ze))})))),Y.restore(),z}var ka=String.fromCharCode;function br(i,e,a){var t="";a+=e;for(var l=e;l<a;l+=1)t+=ka(i.getUint8(l));return t}var yr=/^data:.*,/;function _r(i){var e=i.replace(yr,""),a=atob(e),t=new ArrayBuffer(a.length),l=new Uint8Array(t);return W(l,function(s,r){l[r]=a.charCodeAt(r)}),t}function wr(i,e){for(var a=[],t=8192,l=new Uint8Array(i);l.length>0;)a.push(ka.apply(null,Va(l.subarray(0,t)))),l=l.subarray(t);return"data:".concat(e,";base64,").concat(btoa(a.join("")))}function xr(i){var e=new DataView(i),a;try{var t,l,s;if(e.getUint8(0)===255&&e.getUint8(1)===216)for(var r=e.byteLength,c=2;c+1<r;){if(e.getUint8(c)===255&&e.getUint8(c+1)===225){l=c;break}c+=1}if(l){var o=l+4,h=l+10;if(br(e,o,4)==="Exif"){var u=e.getUint16(h);if(t=u===18761,(t||u===19789)&&e.getUint16(h+2,t)===42){var m=e.getUint32(h+4,t);m>=8&&(s=h+m)}}}if(s){var p=e.getUint16(s,t),V,M;for(M=0;M<p;M+=1)if(V=s+M*12+2,e.getUint16(V,t)===274){V+=8,a=e.getUint16(V,t),e.setUint16(V,1,t);break}}}catch{a=1}return a}function Cr(i){var e=0,a=1,t=1;switch(i){case 2:a=-1;break;case 3:e=-180;break;case 4:t=-1;break;case 5:e=90,t=-1;break;case 6:e=90;break;case 7:e=90,a=-1;break;case 8:e=-90;break}return{rotate:e,scaleX:a,scaleY:t}}var Dr={render:function(){this.initContainer(),this.initCanvas(),this.initCropBox(),this.renderCanvas(),this.cropped&&this.renderCropBox()},initContainer:function(){var e=this.element,a=this.options,t=this.container,l=this.cropper,s=Number(a.minContainerWidth),r=Number(a.minContainerHeight);K(l,ae),ue(e,ae);var c={width:Math.max(t.offsetWidth,s>=0?s:Da),height:Math.max(t.offsetHeight,r>=0?r:Ea)};this.containerData=c,ve(l,{width:c.width,height:c.height}),K(e,ae),ue(l,ae)},initCanvas:function(){var e=this.containerData,a=this.imageData,t=this.options.viewMode,l=Math.abs(a.rotate)%180===90,s=l?a.naturalHeight:a.naturalWidth,r=l?a.naturalWidth:a.naturalHeight,c=s/r,o=e.width,h=e.height;e.height*c>e.width?t===3?o=e.height*c:h=e.width/c:t===3?h=e.width/c:o=e.height*c;var u={aspectRatio:c,naturalWidth:s,naturalHeight:r,width:o,height:h};this.canvasData=u,this.limited=t===1||t===2,this.limitCanvas(!0,!0),u.width=Math.min(Math.max(u.width,u.minWidth),u.maxWidth),u.height=Math.min(Math.max(u.height,u.minHeight),u.maxHeight),u.left=(e.width-u.width)/2,u.top=(e.height-u.height)/2,u.oldLeft=u.left,u.oldTop=u.top,this.initialCanvasData=j({},u)},limitCanvas:function(e,a){var t=this.options,l=this.containerData,s=this.canvasData,r=this.cropBoxData,c=t.viewMode,o=s.aspectRatio,h=this.cropped&&r;if(e){var u=Number(t.minCanvasWidth)||0,m=Number(t.minCanvasHeight)||0;c>1?(u=Math.max(u,l.width),m=Math.max(m,l.height),c===3&&(m*o>u?u=m*o:m=u/o)):c>0&&(u?u=Math.max(u,h?r.width:0):m?m=Math.max(m,h?r.height:0):h&&(u=r.width,m=r.height,m*o>u?u=m*o:m=u/o));var p=ge({aspectRatio:o,width:u,height:m});u=p.width,m=p.height,s.minWidth=u,s.minHeight=m,s.maxWidth=1/0,s.maxHeight=1/0}if(a)if(c>(h?0:1)){var V=l.width-s.width,M=l.height-s.height;s.minLeft=Math.min(0,V),s.minTop=Math.min(0,M),s.maxLeft=Math.max(0,V),s.maxTop=Math.max(0,M),h&&this.limited&&(s.minLeft=Math.min(r.left,r.left+(r.width-s.width)),s.minTop=Math.min(r.top,r.top+(r.height-s.height)),s.maxLeft=r.left,s.maxTop=r.top,c===2&&(s.width>=l.width&&(s.minLeft=Math.min(0,V),s.maxLeft=Math.max(0,V)),s.height>=l.height&&(s.minTop=Math.min(0,M),s.maxTop=Math.max(0,M))))}else s.minLeft=-s.width,s.minTop=-s.height,s.maxLeft=l.width,s.maxTop=l.height},renderCanvas:function(e,a){var t=this.canvasData,l=this.imageData;if(a){var s=vr({width:l.naturalWidth*Math.abs(l.scaleX||1),height:l.naturalHeight*Math.abs(l.scaleY||1),degree:l.rotate||0}),r=s.width,c=s.height,o=t.width*(r/t.naturalWidth),h=t.height*(c/t.naturalHeight);t.left-=(o-t.width)/2,t.top-=(h-t.height)/2,t.width=o,t.height=h,t.aspectRatio=r/c,t.naturalWidth=r,t.naturalHeight=c,this.limitCanvas(!0,!1)}(t.width>t.maxWidth||t.width<t.minWidth)&&(t.left=t.oldLeft),(t.height>t.maxHeight||t.height<t.minHeight)&&(t.top=t.oldTop),t.width=Math.min(Math.max(t.width,t.minWidth),t.maxWidth),t.height=Math.min(Math.max(t.height,t.minHeight),t.maxHeight),this.limitCanvas(!1,!0),t.left=Math.min(Math.max(t.left,t.minLeft),t.maxLeft),t.top=Math.min(Math.max(t.top,t.minTop),t.maxTop),t.oldLeft=t.left,t.oldTop=t.top,ve(this.canvas,j({width:t.width,height:t.height},Fe({translateX:t.left,translateY:t.top}))),this.renderImage(e),this.cropped&&this.limited&&this.limitCropBox(!0,!0)},renderImage:function(e){var a=this.canvasData,t=this.imageData,l=t.naturalWidth*(a.width/a.naturalWidth),s=t.naturalHeight*(a.height/a.naturalHeight);j(t,{width:l,height:s,left:(a.width-l)/2,top:(a.height-s)/2}),ve(this.image,j({width:t.width,height:t.height},Fe(j({translateX:t.left,translateY:t.top},t)))),e&&this.output()},initCropBox:function(){var e=this.options,a=this.canvasData,t=e.aspectRatio||e.initialAspectRatio,l=Number(e.autoCropArea)||.8,s={width:a.width,height:a.height};t&&(a.height*t>a.width?s.height=s.width/t:s.width=s.height*t),this.cropBoxData=s,this.limitCropBox(!0,!0),s.width=Math.min(Math.max(s.width,s.minWidth),s.maxWidth),s.height=Math.min(Math.max(s.height,s.minHeight),s.maxHeight),s.width=Math.max(s.minWidth,s.width*l),s.height=Math.max(s.minHeight,s.height*l),s.left=a.left+(a.width-s.width)/2,s.top=a.top+(a.height-s.height)/2,s.oldLeft=s.left,s.oldTop=s.top,this.initialCropBoxData=j({},s)},limitCropBox:function(e,a){var t=this.options,l=this.containerData,s=this.canvasData,r=this.cropBoxData,c=this.limited,o=t.aspectRatio;if(e){var h=Number(t.minCropBoxWidth)||0,u=Number(t.minCropBoxHeight)||0,m=c?Math.min(l.width,s.width,s.width+s.left,l.width-s.left):l.width,p=c?Math.min(l.height,s.height,s.height+s.top,l.height-s.top):l.height;h=Math.min(h,l.width),u=Math.min(u,l.height),o&&(h&&u?u*o>h?u=h/o:h=u*o:h?u=h/o:u&&(h=u*o),p*o>m?p=m/o:m=p*o),r.minWidth=Math.min(h,m),r.minHeight=Math.min(u,p),r.maxWidth=m,r.maxHeight=p}a&&(c?(r.minLeft=Math.max(0,s.left),r.minTop=Math.max(0,s.top),r.maxLeft=Math.min(l.width,s.left+s.width)-r.width,r.maxTop=Math.min(l.height,s.top+s.height)-r.height):(r.minLeft=0,r.minTop=0,r.maxLeft=l.width-r.width,r.maxTop=l.height-r.height))},renderCropBox:function(){var e=this.options,a=this.containerData,t=this.cropBoxData;(t.width>t.maxWidth||t.width<t.minWidth)&&(t.left=t.oldLeft),(t.height>t.maxHeight||t.height<t.minHeight)&&(t.top=t.oldTop),t.width=Math.min(Math.max(t.width,t.minWidth),t.maxWidth),t.height=Math.min(Math.max(t.height,t.minHeight),t.maxHeight),this.limitCropBox(!1,!0),t.left=Math.min(Math.max(t.left,t.minLeft),t.maxLeft),t.top=Math.min(Math.max(t.top,t.minTop),t.maxTop),t.oldLeft=t.left,t.oldTop=t.top,e.movable&&e.cropBoxMovable&&We(this.face,Xe,t.width>=a.width&&t.height>=a.height?_a:kt),ve(this.cropBox,j({width:t.width,height:t.height},Fe({translateX:t.left,translateY:t.top}))),this.cropped&&this.limited&&this.limitCanvas(!0,!0),this.disabled||this.output()},output:function(){this.preview(),Ae(this.element,bt,this.getData())}},Er={initPreview:function(){var e=this.element,a=this.crossOrigin,t=this.options.preview,l=a?this.crossOriginUrl:this.url,s=e.alt||"The image to preview",r=document.createElement("img");if(a&&(r.crossOrigin=a),r.src=l,r.alt=s,this.viewBox.appendChild(r),this.viewBoxImage=r,!!t){var c=t;typeof t=="string"?c=e.ownerDocument.querySelectorAll(t):t.querySelector&&(c=[t]),this.previews=c,W(c,function(o){var h=document.createElement("img");We(o,Je,{width:o.offsetWidth,height:o.offsetHeight,html:o.innerHTML}),a&&(h.crossOrigin=a),h.src=l,h.alt=s,h.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',o.innerHTML="",o.appendChild(h)})}},resetPreview:function(){W(this.previews,function(e){var a=Ct(e,Je);ve(e,{width:a.width,height:a.height}),e.innerHTML=a.html,hr(e,Je)})},preview:function(){var e=this.imageData,a=this.canvasData,t=this.cropBoxData,l=t.width,s=t.height,r=e.width,c=e.height,o=t.left-a.left-e.left,h=t.top-a.top-e.top;!this.cropped||this.disabled||(ve(this.viewBoxImage,j({width:r,height:c},Fe(j({translateX:-o,translateY:-h},e)))),W(this.previews,function(u){var m=Ct(u,Je),p=m.width,V=m.height,M=p,N=V,x=1;l&&(x=p/l,N=s*x),s&&N>V&&(x=V/s,M=l*x,N=V),ve(u,{width:M,height:N}),ve(u.getElementsByTagName("img")[0],j({width:r*x,height:c*x},Fe(j({translateX:-o*x,translateY:-h*x},e))))}))}},Vr={bind:function(){var e=this.element,a=this.options,t=this.cropper;ee(a.cropstart)&&re(e,wt,a.cropstart),ee(a.cropmove)&&re(e,_t,a.cropmove),ee(a.cropend)&&re(e,yt,a.cropend),ee(a.crop)&&re(e,bt,a.crop),ee(a.zoom)&&re(e,xt,a.zoom),re(t,qt,this.onCropStart=this.cropStart.bind(this)),a.zoomable&&a.zoomOnWheel&&re(t,ea,this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),a.toggleDragModeOnDblclick&&re(t,Gt,this.onDblclick=this.dblclick.bind(this)),re(e.ownerDocument,Kt,this.onCropMove=this.cropMove.bind(this)),re(e.ownerDocument,Qt,this.onCropEnd=this.cropEnd.bind(this)),a.responsive&&re(window,Jt,this.onResize=this.resize.bind(this))},unbind:function(){var e=this.element,a=this.options,t=this.cropper;ee(a.cropstart)&&ne(e,wt,a.cropstart),ee(a.cropmove)&&ne(e,_t,a.cropmove),ee(a.cropend)&&ne(e,yt,a.cropend),ee(a.crop)&&ne(e,bt,a.crop),ee(a.zoom)&&ne(e,xt,a.zoom),ne(t,qt,this.onCropStart),a.zoomable&&a.zoomOnWheel&&ne(t,ea,this.onWheel,{passive:!1,capture:!0}),a.toggleDragModeOnDblclick&&ne(t,Gt,this.onDblclick),ne(e.ownerDocument,Kt,this.onCropMove),ne(e.ownerDocument,Qt,this.onCropEnd),a.responsive&&ne(window,Jt,this.onResize)}},Mr={resize:function(){if(!this.disabled){var e=this.options,a=this.container,t=this.containerData,l=a.offsetWidth/t.width,s=a.offsetHeight/t.height,r=Math.abs(l-1)>Math.abs(s-1)?l:s;if(r!==1){var c,o;e.restore&&(c=this.getCanvasData(),o=this.getCropBoxData()),this.render(),e.restore&&(this.setCanvasData(W(c,function(h,u){c[u]=h*r})),this.setCropBoxData(W(o,function(h,u){o[u]=h*r})))}}},dblclick:function(){this.disabled||this.options.dragMode===Ca||this.setDragMode(dr(this.dragBox,vt)?xa:Nt)},wheel:function(e){var a=this,t=Number(this.options.wheelZoomRatio)||.1,l=1;this.disabled||(e.preventDefault(),!this.wheeling&&(this.wheeling=!0,setTimeout(function(){a.wheeling=!1},50),e.deltaY?l=e.deltaY>0?1:-1:e.wheelDelta?l=-e.wheelDelta/120:e.detail&&(l=e.detail>0?1:-1),this.zoom(-l*t,e)))},cropStart:function(e){var a=e.buttons,t=e.button;if(!(this.disabled||(e.type==="mousedown"||e.type==="pointerdown"&&e.pointerType==="mouse")&&(R(a)&&a!==1||R(t)&&t!==0||e.ctrlKey))){var l=this.options,s=this.pointers,r;e.changedTouches?W(e.changedTouches,function(c){s[c.identifier]=et(c)}):s[e.pointerId||0]=et(e),Object.keys(s).length>1&&l.zoomable&&l.zoomOnTouch?r=wa:r=Ct(e.target,Xe),er.test(r)&&Ae(this.element,wt,{originalEvent:e,action:r})!==!1&&(e.preventDefault(),this.action=r,this.cropping=!1,r===ya&&(this.cropping=!0,K(this.dragBox,at)))}},cropMove:function(e){var a=this.action;if(!(this.disabled||!a)){var t=this.pointers;e.preventDefault(),Ae(this.element,_t,{originalEvent:e,action:a})!==!1&&(e.changedTouches?W(e.changedTouches,function(l){j(t[l.identifier]||{},et(l,!0))}):j(t[e.pointerId||0]||{},et(e,!0)),this.change(e))}},cropEnd:function(e){if(!this.disabled){var a=this.action,t=this.pointers;e.changedTouches?W(e.changedTouches,function(l){delete t[l.identifier]}):delete t[e.pointerId||0],a&&(e.preventDefault(),Object.keys(t).length||(this.action=""),this.cropping&&(this.cropping=!1,Ne(this.dragBox,at,this.cropped&&this.options.modal)),Ae(this.element,yt,{originalEvent:e,action:a}))}}},Tr={change:function(e){var a=this.options,t=this.canvasData,l=this.containerData,s=this.cropBoxData,r=this.pointers,c=this.action,o=a.aspectRatio,h=s.left,u=s.top,m=s.width,p=s.height,V=h+m,M=u+p,N=0,x=0,E=l.width,D=l.height,A=!0,F;!o&&e.shiftKey&&(o=m&&p?m/p:1),this.limited&&(N=s.minLeft,x=s.minTop,E=N+Math.min(l.width,t.width,t.left+t.width),D=x+Math.min(l.height,t.height,t.top+t.height));var Z=r[Object.keys(r)[0]],y={x:Z.endX-Z.startX,y:Z.endY-Z.startY},O=function(w){switch(w){case xe:V+y.x>E&&(y.x=E-V);break;case Ce:h+y.x<N&&(y.x=N-h);break;case pe:u+y.y<x&&(y.y=x-u);break;case Ie:M+y.y>D&&(y.y=D-M);break}};switch(c){case kt:h+=y.x,u+=y.y;break;case xe:if(y.x>=0&&(V>=E||o&&(u<=x||M>=D))){A=!1;break}O(xe),m+=y.x,m<0&&(c=Ce,m=-m,h-=m),o&&(p=m/o,u+=(s.height-p)/2);break;case pe:if(y.y<=0&&(u<=x||o&&(h<=N||V>=E))){A=!1;break}O(pe),p-=y.y,u+=y.y,p<0&&(c=Ie,p=-p,u-=p),o&&(m=p*o,h+=(s.width-m)/2);break;case Ce:if(y.x<=0&&(h<=N||o&&(u<=x||M>=D))){A=!1;break}O(Ce),m-=y.x,h+=y.x,m<0&&(c=xe,m=-m,h-=m),o&&(p=m/o,u+=(s.height-p)/2);break;case Ie:if(y.y>=0&&(M>=D||o&&(h<=N||V>=E))){A=!1;break}O(Ie),p+=y.y,p<0&&(c=pe,p=-p,u-=p),o&&(m=p*o,h+=(s.width-m)/2);break;case Ue:if(o){if(y.y<=0&&(u<=x||V>=E)){A=!1;break}O(pe),p-=y.y,u+=y.y,m=p*o}else O(pe),O(xe),y.x>=0?V<E?m+=y.x:y.y<=0&&u<=x&&(A=!1):m+=y.x,y.y<=0?u>x&&(p-=y.y,u+=y.y):(p-=y.y,u+=y.y);m<0&&p<0?(c=He,p=-p,m=-m,u-=p,h-=m):m<0?(c=ze,m=-m,h-=m):p<0&&(c=Le,p=-p,u-=p);break;case ze:if(o){if(y.y<=0&&(u<=x||h<=N)){A=!1;break}O(pe),p-=y.y,u+=y.y,m=p*o,h+=s.width-m}else O(pe),O(Ce),y.x<=0?h>N?(m-=y.x,h+=y.x):y.y<=0&&u<=x&&(A=!1):(m-=y.x,h+=y.x),y.y<=0?u>x&&(p-=y.y,u+=y.y):(p-=y.y,u+=y.y);m<0&&p<0?(c=Le,p=-p,m=-m,u-=p,h-=m):m<0?(c=Ue,m=-m,h-=m):p<0&&(c=He,p=-p,u-=p);break;case He:if(o){if(y.x<=0&&(h<=N||M>=D)){A=!1;break}O(Ce),m-=y.x,h+=y.x,p=m/o}else O(Ie),O(Ce),y.x<=0?h>N?(m-=y.x,h+=y.x):y.y>=0&&M>=D&&(A=!1):(m-=y.x,h+=y.x),y.y>=0?M<D&&(p+=y.y):p+=y.y;m<0&&p<0?(c=Ue,p=-p,m=-m,u-=p,h-=m):m<0?(c=Le,m=-m,h-=m):p<0&&(c=ze,p=-p,u-=p);break;case Le:if(o){if(y.x>=0&&(V>=E||M>=D)){A=!1;break}O(xe),m+=y.x,p=m/o}else O(Ie),O(xe),y.x>=0?V<E?m+=y.x:y.y>=0&&M>=D&&(A=!1):m+=y.x,y.y>=0?M<D&&(p+=y.y):p+=y.y;m<0&&p<0?(c=ze,p=-p,m=-m,u-=p,h-=m):m<0?(c=He,m=-m,h-=m):p<0&&(c=Ue,p=-p,u-=p);break;case _a:this.move(y.x,y.y),A=!1;break;case wa:this.zoom(fr(r),e),A=!1;break;case ya:if(!y.x||!y.y){A=!1;break}F=Ia(this.cropper),h=Z.startX-F.left,u=Z.startY-F.top,m=s.minWidth,p=s.minHeight,y.x>0?c=y.y>0?Le:Ue:y.x<0&&(h-=m,c=y.y>0?He:ze),y.y<0&&(u-=p),this.cropped||(ue(this.cropBox,ae),this.cropped=!0,this.limited&&this.limitCropBox(!0,!0));break}A&&(s.width=m,s.height=p,s.left=h,s.top=u,this.action=c,this.renderCropBox()),W(r,function(L){L.startX=L.endX,L.startY=L.endY})}},Ir={crop:function(){return this.ready&&!this.cropped&&!this.disabled&&(this.cropped=!0,this.limitCropBox(!0,!0),this.options.modal&&K(this.dragBox,at),ue(this.cropBox,ae),this.setCropBoxData(this.initialCropBoxData)),this},reset:function(){return this.ready&&!this.disabled&&(this.imageData=j({},this.initialImageData),this.canvasData=j({},this.initialCanvasData),this.cropBoxData=j({},this.initialCropBoxData),this.renderCanvas(),this.cropped&&this.renderCropBox()),this},clear:function(){return this.cropped&&!this.disabled&&(j(this.cropBoxData,{left:0,top:0,width:0,height:0}),this.cropped=!1,this.renderCropBox(),this.limitCanvas(!0,!0),this.renderCanvas(),ue(this.dragBox,at),K(this.cropBox,ae)),this},replace:function(e){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return!this.disabled&&e&&(this.isImg&&(this.element.src=e),a?(this.url=e,this.image.src=e,this.ready&&(this.viewBoxImage.src=e,W(this.previews,function(t){t.getElementsByTagName("img")[0].src=e}))):(this.isImg&&(this.replaced=!0),this.options.data=null,this.uncreate(),this.load(e))),this},enable:function(){return this.ready&&this.disabled&&(this.disabled=!1,ue(this.cropper,Xt)),this},disable:function(){return this.ready&&!this.disabled&&(this.disabled=!0,K(this.cropper,Xt)),this},destroy:function(){var e=this.element;return e[H]?(e[H]=void 0,this.isImg&&this.replaced&&(e.src=this.originalUrl),this.uncreate(),this):this},move:function(e){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,t=this.canvasData,l=t.left,s=t.top;return this.moveTo(ut(e)?e:l+Number(e),ut(a)?a:s+Number(a))},moveTo:function(e){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,t=this.canvasData,l=!1;return e=Number(e),a=Number(a),this.ready&&!this.disabled&&this.options.movable&&(R(e)&&(t.left=e,l=!0),R(a)&&(t.top=a,l=!0),l&&this.renderCanvas(!0)),this},zoom:function(e,a){var t=this.canvasData;return e=Number(e),e<0?e=1/(1-e):e=1+e,this.zoomTo(t.width*e/t.naturalWidth,null,a)},zoomTo:function(e,a,t){var l=this.options,s=this.canvasData,r=s.width,c=s.height,o=s.naturalWidth,h=s.naturalHeight;if(e=Number(e),e>=0&&this.ready&&!this.disabled&&l.zoomable){var u=o*e,m=h*e;if(Ae(this.element,xt,{ratio:e,oldRatio:r/o,originalEvent:t})===!1)return this;if(t){var p=this.pointers,V=Ia(this.cropper),M=p&&Object.keys(p).length?pr(p):{pageX:t.pageX,pageY:t.pageY};s.left-=(u-r)*((M.pageX-V.left-s.left)/r),s.top-=(m-c)*((M.pageY-V.top-s.top)/c)}else ke(a)&&R(a.x)&&R(a.y)?(s.left-=(u-r)*((a.x-s.left)/r),s.top-=(m-c)*((a.y-s.top)/c)):(s.left-=(u-r)/2,s.top-=(m-c)/2);s.width=u,s.height=m,this.renderCanvas(!0)}return this},rotate:function(e){return this.rotateTo((this.imageData.rotate||0)+Number(e))},rotateTo:function(e){return e=Number(e),R(e)&&this.ready&&!this.disabled&&this.options.rotatable&&(this.imageData.rotate=e%360,this.renderCanvas(!0,!0)),this},scaleX:function(e){var a=this.imageData.scaleY;return this.scale(e,R(a)?a:1)},scaleY:function(e){var a=this.imageData.scaleX;return this.scale(R(a)?a:1,e)},scale:function(e){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,t=this.imageData,l=!1;return e=Number(e),a=Number(a),this.ready&&!this.disabled&&this.options.scalable&&(R(e)&&(t.scaleX=e,l=!0),R(a)&&(t.scaleY=a,l=!0),l&&this.renderCanvas(!0,!0)),this},getData:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,a=this.options,t=this.imageData,l=this.canvasData,s=this.cropBoxData,r;if(this.ready&&this.cropped){r={x:s.left-l.left,y:s.top-l.top,width:s.width,height:s.height};var c=t.width/t.naturalWidth;if(W(r,function(u,m){r[m]=u/c}),e){var o=Math.round(r.y+r.height),h=Math.round(r.x+r.width);r.x=Math.round(r.x),r.y=Math.round(r.y),r.width=h-r.x,r.height=o-r.y}}else r={x:0,y:0,width:0,height:0};return a.rotatable&&(r.rotate=t.rotate||0),a.scalable&&(r.scaleX=t.scaleX||1,r.scaleY=t.scaleY||1),r},setData:function(e){var a=this.options,t=this.imageData,l=this.canvasData,s={};if(this.ready&&!this.disabled&&ke(e)){var r=!1;a.rotatable&&R(e.rotate)&&e.rotate!==t.rotate&&(t.rotate=e.rotate,r=!0),a.scalable&&(R(e.scaleX)&&e.scaleX!==t.scaleX&&(t.scaleX=e.scaleX,r=!0),R(e.scaleY)&&e.scaleY!==t.scaleY&&(t.scaleY=e.scaleY,r=!0)),r&&this.renderCanvas(!0,!0);var c=t.width/t.naturalWidth;R(e.x)&&(s.left=e.x*c+l.left),R(e.y)&&(s.top=e.y*c+l.top),R(e.width)&&(s.width=e.width*c),R(e.height)&&(s.height=e.height*c),this.setCropBoxData(s)}return this},getContainerData:function(){return this.ready?j({},this.containerData):{}},getImageData:function(){return this.sized?j({},this.imageData):{}},getCanvasData:function(){var e=this.canvasData,a={};return this.ready&&W(["left","top","width","height","naturalWidth","naturalHeight"],function(t){a[t]=e[t]}),a},setCanvasData:function(e){var a=this.canvasData,t=a.aspectRatio;return this.ready&&!this.disabled&&ke(e)&&(R(e.left)&&(a.left=e.left),R(e.top)&&(a.top=e.top),R(e.width)?(a.width=e.width,a.height=e.width/t):R(e.height)&&(a.height=e.height,a.width=e.height*t),this.renderCanvas(!0)),this},getCropBoxData:function(){var e=this.cropBoxData,a;return this.ready&&this.cropped&&(a={left:e.left,top:e.top,width:e.width,height:e.height}),a||{}},setCropBoxData:function(e){var a=this.cropBoxData,t=this.options.aspectRatio,l,s;return this.ready&&this.cropped&&!this.disabled&&ke(e)&&(R(e.left)&&(a.left=e.left),R(e.top)&&(a.top=e.top),R(e.width)&&e.width!==a.width&&(l=!0,a.width=e.width),R(e.height)&&e.height!==a.height&&(s=!0,a.height=e.height),t&&(l?a.height=a.width/t:s&&(a.width=a.height*t)),this.renderCropBox()),this},getCroppedCanvas:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!this.ready||!window.HTMLCanvasElement)return null;var a=this.canvasData,t=gr(this.image,this.imageData,a,e);if(!this.cropped)return t;var l=this.getData(e.rounded),s=l.x,r=l.y,c=l.width,o=l.height,h=t.width/Math.floor(a.naturalWidth);h!==1&&(s*=h,r*=h,c*=h,o*=h);var u=c/o,m=ge({aspectRatio:u,width:e.maxWidth||1/0,height:e.maxHeight||1/0}),p=ge({aspectRatio:u,width:e.minWidth||0,height:e.minHeight||0},"cover"),V=ge({aspectRatio:u,width:e.width||(h!==1?t.width:c),height:e.height||(h!==1?t.height:o)}),M=V.width,N=V.height;M=Math.min(m.width,Math.max(p.width,M)),N=Math.min(m.height,Math.max(p.height,N));var x=document.createElement("canvas"),E=x.getContext("2d");x.width=Se(M),x.height=Se(N),E.fillStyle=e.fillColor||"transparent",E.fillRect(0,0,M,N);var D=e.imageSmoothingEnabled,A=D===void 0?!0:D,F=e.imageSmoothingQuality;E.imageSmoothingEnabled=A,F&&(E.imageSmoothingQuality=F);var Z=t.width,y=t.height,O=s,L=r,w,_,v,g,B,z;O<=-c||O>Z?(O=0,w=0,v=0,B=0):O<=0?(v=-O,O=0,w=Math.min(Z,c+O),B=w):O<=Z&&(v=0,w=Math.min(c,Z-O),B=w),w<=0||L<=-o||L>y?(L=0,_=0,g=0,z=0):L<=0?(g=-L,L=0,_=Math.min(y,o+L),z=_):L<=y&&(g=0,_=Math.min(o,y-L),z=_);var Y=[O,L,w,_];if(B>0&&z>0){var J=M/c;Y.push(v*J,g*J,B*J,z*J)}return E.drawImage.apply(E,[t].concat(ba(Y.map(function(le){return Math.floor(Se(le))})))),x},setAspectRatio:function(e){var a=this.options;return!this.disabled&&!ut(e)&&(a.aspectRatio=Math.max(0,e)||NaN,this.ready&&(this.initCropBox(),this.cropped&&this.renderCropBox())),this},setDragMode:function(e){var a=this.options,t=this.dragBox,l=this.face;if(this.ready&&!this.disabled){var s=e===Nt,r=a.movable&&e===xa;e=s||r?e:Ca,a.dragMode=e,We(t,Xe,e),Ne(t,vt,s),Ne(t,gt,r),a.cropBoxMovable||(We(l,Xe,e),Ne(l,vt,s),Ne(l,gt,r))}return this}},kr=he.Cropper,At=function(){function i(e){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(js(this,i),!e||!ir.test(e.tagName))throw new Error("The first argument is required and must be an <img> or <canvas> element.");this.element=e,this.options=j({},aa,ke(a)&&a),this.cropped=!1,this.disabled=!1,this.pointers={},this.ready=!1,this.reloading=!1,this.replaced=!1,this.sized=!1,this.sizing=!1,this.init()}return Fs(i,[{key:"init",value:function(){var a=this.element,t=a.tagName.toLowerCase(),l;if(!a[H]){if(a[H]=this,t==="img"){if(this.isImg=!0,l=a.getAttribute("src")||"",this.originalUrl=l,!l)return;l=a.src}else t==="canvas"&&window.HTMLCanvasElement&&(l=a.toDataURL());this.load(l)}}},{key:"load",value:function(a){var t=this;if(a){this.url=a,this.imageData={};var l=this.element,s=this.options;if(!s.rotatable&&!s.scalable&&(s.checkOrientation=!1),!s.checkOrientation||!window.ArrayBuffer){this.clone();return}if(tr.test(a)){ar.test(a)?this.read(_r(a)):this.clone();return}var r=new XMLHttpRequest,c=this.clone.bind(this);this.reloading=!0,this.xhr=r,r.onabort=c,r.onerror=c,r.ontimeout=c,r.onprogress=function(){r.getResponseHeader("content-type")!==ta&&r.abort()},r.onload=function(){t.read(r.response)},r.onloadend=function(){t.reloading=!1,t.xhr=null},s.checkCrossOrigin&&oa(a)&&l.crossOrigin&&(a=sa(a)),r.open("GET",a,!0),r.responseType="arraybuffer",r.withCredentials=l.crossOrigin==="use-credentials",r.send()}}},{key:"read",value:function(a){var t=this.options,l=this.imageData,s=xr(a),r=0,c=1,o=1;if(s>1){this.url=wr(a,ta);var h=Cr(s);r=h.rotate,c=h.scaleX,o=h.scaleY}t.rotatable&&(l.rotate=r),t.scalable&&(l.scaleX=c,l.scaleY=o),this.clone()}},{key:"clone",value:function(){var a=this.element,t=this.url,l=a.crossOrigin,s=t;this.options.checkCrossOrigin&&oa(t)&&(l||(l="anonymous"),s=sa(t)),this.crossOrigin=l,this.crossOriginUrl=s;var r=document.createElement("img");l&&(r.crossOrigin=l),r.src=s||t,r.alt=a.alt||"The image to crop",this.image=r,r.onload=this.start.bind(this),r.onerror=this.stop.bind(this),K(r,Wt),a.parentNode.insertBefore(r,a.nextSibling)}},{key:"start",value:function(){var a=this,t=this.image;t.onload=null,t.onerror=null,this.sizing=!0;var l=he.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(he.navigator.userAgent),s=function(h,u){j(a.imageData,{naturalWidth:h,naturalHeight:u,aspectRatio:h/u}),a.initialImageData=j({},a.imageData),a.sizing=!1,a.sized=!0,a.build()};if(t.naturalWidth&&!l){s(t.naturalWidth,t.naturalHeight);return}var r=document.createElement("img"),c=document.body||document.documentElement;this.sizingImage=r,r.onload=function(){s(r.width,r.height),l||c.removeChild(r)},r.src=t.src,l||(r.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",c.appendChild(r))}},{key:"stop",value:function(){var a=this.image;a.onload=null,a.onerror=null,a.parentNode.removeChild(a),this.image=null}},{key:"build",value:function(){if(!(!this.sized||this.ready)){var a=this.element,t=this.options,l=this.image,s=a.parentNode,r=document.createElement("div");r.innerHTML=or;var c=r.querySelector(".".concat(H,"-container")),o=c.querySelector(".".concat(H,"-canvas")),h=c.querySelector(".".concat(H,"-drag-box")),u=c.querySelector(".".concat(H,"-crop-box")),m=u.querySelector(".".concat(H,"-face"));this.container=s,this.cropper=c,this.canvas=o,this.dragBox=h,this.cropBox=u,this.viewBox=c.querySelector(".".concat(H,"-view-box")),this.face=m,o.appendChild(l),K(a,ae),s.insertBefore(c,a.nextSibling),ue(l,Wt),this.initPreview(),this.bind(),t.initialAspectRatio=Math.max(0,t.initialAspectRatio)||NaN,t.aspectRatio=Math.max(0,t.aspectRatio)||NaN,t.viewMode=Math.max(0,Math.min(3,Math.round(t.viewMode)))||0,K(u,ae),t.guides||K(u.getElementsByClassName("".concat(H,"-dashed")),ae),t.center||K(u.getElementsByClassName("".concat(H,"-center")),ae),t.background&&K(c,"".concat(H,"-bg")),t.highlight||K(m,Ks),t.cropBoxMovable&&(K(m,gt),We(m,Xe,kt)),t.cropBoxResizable||(K(u.getElementsByClassName("".concat(H,"-line")),ae),K(u.getElementsByClassName("".concat(H,"-point")),ae)),this.render(),this.ready=!0,this.setDragMode(t.dragMode),t.autoCrop&&this.crop(),this.setData(t.data),ee(t.ready)&&re(a,Zt,t.ready,{once:!0}),Ae(a,Zt)}}},{key:"unbuild",value:function(){if(this.ready){this.ready=!1,this.unbind(),this.resetPreview();var a=this.cropper.parentNode;a&&a.removeChild(this.cropper),ue(this.element,ae)}}},{key:"uncreate",value:function(){this.ready?(this.unbuild(),this.ready=!1,this.cropped=!1):this.sizing?(this.sizingImage.onload=null,this.sizing=!1,this.sized=!1):this.reloading?(this.xhr.onabort=null,this.xhr.abort()):this.image&&this.stop()}}],[{key:"noConflict",value:function(){return window.Cropper=kr,i}},{key:"setDefaults",value:function(a){j(aa,ke(a)&&a)}}])}();j(At.prototype,Dr,Er,Vr,Mr,Tr,Ir);async function Na(i){return i.size<=40960?i:new Promise((a,t)=>{const l=new Image,s=URL.createObjectURL(i);l.src=s,l.onload=async()=>{try{const r=document.createElement("canvas"),c=r.getContext("2d");r.width=l.width,r.height=l.height,c.drawImage(l,0,0,r.width,r.height);let o=.9,h;do h=await new Promise(m=>r.toBlob(p=>m(p),"image/jpeg",o)),o-=.1;while(h.size>40960&&o>0);const u=new File([h],i.name,{type:"image/jpeg"});URL.revokeObjectURL(s),a(u)}catch(r){t("Error durante la compresión: "+r.message)}},l.onerror=r=>{t("Error al cargar la imagen: "+r.message)}})}const Nr=i=>(st("data-v-1206a680"),i=i(),rt(),i),Sr=Nr(()=>f("span",{class:"text-h6"},"Subir y Recortar Imagen",-1)),Ar={key:0,class:"cropper-container"},Rr=["src"],Or={__name:"SelectorImg",setup(i){const e=Ge(),a=U(null),t=U(null);let l=null;const s=()=>{if(a.value){const o=a.value[0];if(o&&o.type.startsWith("image/")){const h=new FileReader;h.onload=u=>{t.value=u.target.result,l&&(l.destroy(),l=null),Mt(()=>{const m=document.querySelector(".cropper-container img");l=new At(m,{aspectRatio:1,viewMode:1,dragMode:"move",autoCropArea:.8,background:!0,responsive:!0,zoomable:!0,rotatable:!0,guides:!0,cropBoxResizable:!1,cropBoxMovable:!0,minContainerWidth:300,minContainerHeight:300,center:!0})})},h.readAsDataURL(o)}else alert("Por favor selecciona un archivo de imagen válido (JPG, PNG, GIF, etc.)."),a.value=null}else alert("Por favor selecciona un archivo de imagen.")},r=async()=>{if(l)try{const o=l.getCroppedCanvas({width:500,height:500}),h=await new Promise(u=>o.toBlob(m=>u(m),"image/jpeg",.8));if(h){const u=new File([h],"imagen_recortada.jpg",{type:h.type}),m=await Na(u);e.selectImg.img=m,e.selectImg.urlImg=URL.createObjectURL(m),c()}}catch(o){console.error("Error al recortar y comprimir la imagen:",o)}},c=()=>{e.selectImg.display=!1,a.value=null,t.value=null,l&&(l.destroy(),l=null)};return(o,h)=>(T(),Q("div",null,[n(Be,{modelValue:b(e).selectImg.display,"onUpdate:modelValue":h[1]||(h[1]=u=>b(e).selectImg.display=u),"max-width":"800"},{default:d(()=>[n(ye,null,{default:d(()=>[n(ot,null,{default:d(()=>[Sr]),_:1}),n(Oe,null,{default:d(()=>[n(pa,{label:"Seleccionar Imagen",accept:"image/*",modelValue:a.value,"onUpdate:modelValue":h[0]||(h[0]=u=>a.value=u),outlined:"",dense:"",onChange:s},null,8,["modelValue"]),t.value?(T(),Q("div",Ar,[f("img",{ref:"image",src:t.value,alt:"Imagen para recortar"},null,8,Rr)])):$("",!0)]),_:1}),n(_e,null,{default:d(()=>[n(X,{color:"grey",text:"",onClick:c},{default:d(()=>[S("Cancelar")]),_:1}),n(X,{color:"primary",onClick:r,disabled:!t.value},{default:d(()=>[S(" Confirmar Recorte ")]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]))}},Pr=it(Or,[["__scopeId","data-v-1206a680"]]);const Br=i=>(st("data-v-d016aba1"),i=i(),rt(),i),$r={class:"camera-capture"},Ur=Br(()=>f("span",{class:"text-h6"},"Tomar Foto",-1)),zr={key:0},Lr={key:1},Hr=["src"],jr={__name:"tomarFoto",setup(i){const e=Ge();U(!1);const a=U(!1),t=U(null),l=U(null),s=U(null),r=U(null),c=()=>{e.tomarFoto=!1,a.value=!1,t.value=null,h()},o=async()=>{try{if(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)throw new Error("La cámara no está soportada por este navegador.");l.value=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}}),s.value.srcObject=l.value}catch(p){p.name==="NotAllowedError"?alert("Permiso de cámara denegado. Asegúrate de habilitar el acceso a la cámara en la configuración de tu navegador."):p.name==="NotFoundError"?alert("No se encontró una cámara disponible."):alert("Error al acceder a la cámara: "+p.message)}},h=()=>{l.value&&l.value.getTracks().forEach(V=>V.stop())},u=()=>{const p=document.createElement("canvas");p.width=s.value.videoWidth,p.height=s.value.videoHeight,p.getContext("2d").drawImage(s.value,0,0,p.width,p.height),t.value=p.toDataURL("image/png"),a.value=!0,h(),Mt(()=>{const M=document.querySelector(".captured-photo");r.value=new At(M,{aspectRatio:1,viewMode:1})})},m=async()=>{if(r.value)try{const p=r.value.getCroppedCanvas(),V=await new Promise(N=>p.toBlob(x=>N(x),"image/jpeg",.8)),M=new File([V],"imagen_recortada.jpg",{type:V.type});e.selectImg.img=await Na(M),e.selectImg.urlImg=URL.createObjectURL(e.selectImg.img)}catch(p){console.error("Error al confirmar y comprimir la imagen:",p)}finally{r.value.destroy(),r.value=null,c()}};return ua(()=>{Re(()=>e.tomarFoto,p=>{p?o():h()})}),ai(()=>{h(),r.value&&r.value.destroy()}),(p,V)=>(T(),Q("div",null,[f("div",$r,[n(Be,{modelValue:b(e).tomarFoto,"onUpdate:modelValue":V[0]||(V[0]=M=>b(e).tomarFoto=M),"max-width":"512"},{default:d(()=>[n(ye,null,{default:d(()=>[n(ot,null,{default:d(()=>[Ur]),_:1}),n(Oe,null,{default:d(()=>[a.value?(T(),Q("div",Lr,[f("img",{src:t.value,alt:"Foto capturada",class:"captured-photo"},null,8,Hr)])):(T(),Q("div",zr,[f("video",{ref_key:"video",ref:s,autoplay:"",playsinline:"",class:"camera-view"},null,512)]))]),_:1}),n(_e,null,{default:d(()=>[n(X,{color:"grey",text:"",onClick:c},{default:d(()=>[S("Cancelar")]),_:1}),a.value?(T(),P(X,{key:1,color:"primary",onClick:m},{default:d(()=>[S("Confirmar")]),_:1})):(T(),P(X,{key:0,color:"primary",onClick:u},{default:d(()=>[S("Tomar Foto")]),_:1}))]),_:1})]),_:1})]),_:1},8,["modelValue"])])]))}},Fr=it(jr,[["__scopeId","data-v-d016aba1"]]),rl={__name:"Miembros",setup(i){return(e,a)=>(T(),P(Pa,null,{default:d(()=>[n(ki),n(Fr),n(uo),n(Ls),n(Pr)]),_:1}))}};export{rl as default};
