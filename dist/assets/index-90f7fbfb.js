(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function qd(t,e){const n=Object.create(null),r=t.split(",");for(let s=0;s<r.length;s++)n[r[s]]=!0;return e?s=>!!n[s.toLowerCase()]:s=>!!n[s]}const Fe={},Gs=[],an=()=>{},Pb=()=>!1,Sb=/^on[^a-z]/,Sl=t=>Sb.test(t),Kd=t=>t.startsWith("onUpdate:"),et=Object.assign,Hd=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},Cb=Object.prototype.hasOwnProperty,Te=(t,e)=>Cb.call(t,e),te=Array.isArray,Ws=t=>fa(t)==="[object Map]",Ei=t=>fa(t)==="[object Set]",fg=t=>fa(t)==="[object Date]",de=t=>typeof t=="function",He=t=>typeof t=="string",Po=t=>typeof t=="symbol",De=t=>t!==null&&typeof t=="object",sv=t=>De(t)&&de(t.then)&&de(t.catch),iv=Object.prototype.toString,fa=t=>iv.call(t),xb=t=>fa(t).slice(8,-1),ov=t=>fa(t)==="[object Object]",Gd=t=>He(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Ic=qd(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Cl=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},kb=/-(\w)/g,ln=Cl(t=>t.replace(kb,(e,n)=>n?n.toUpperCase():"")),Db=/\B([A-Z])/g,Ii=Cl(t=>t.replace(Db,"-$1").toLowerCase()),wi=Cl(t=>t.charAt(0).toUpperCase()+t.slice(1)),Ou=Cl(t=>t?`on${wi(t)}`:""),So=(t,e)=>!Object.is(t,e),wc=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},Bc=(t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})},$c=t=>{const e=parseFloat(t);return isNaN(e)?t:e},Vb=t=>{const e=He(t)?Number(t):NaN;return isNaN(e)?t:e};let mg;const Ah=()=>mg||(mg=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Wd(t){if(te(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],s=He(r)?Lb(r):Wd(r);if(s)for(const i in s)e[i]=s[i]}return e}else{if(He(t))return t;if(De(t))return t}}const Ob=/;(?![^(]*\))/g,Nb=/:([^]+)/,Mb=/\/\*[^]*?\*\//g;function Lb(t){const e={};return t.replace(Mb,"").split(Ob).forEach(n=>{if(n){const r=n.split(Nb);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function Qd(t){let e="";if(He(t))e=t;else if(te(t))for(let n=0;n<t.length;n++){const r=Qd(t[n]);r&&(e+=r+" ")}else if(De(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const Fb="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Ub=qd(Fb);function av(t){return!!t||t===""}function Bb(t,e){if(t.length!==e.length)return!1;let n=!0;for(let r=0;n&&r<t.length;r++)n=ns(t[r],e[r]);return n}function ns(t,e){if(t===e)return!0;let n=fg(t),r=fg(e);if(n||r)return n&&r?t.getTime()===e.getTime():!1;if(n=Po(t),r=Po(e),n||r)return t===e;if(n=te(t),r=te(e),n||r)return n&&r?Bb(t,e):!1;if(n=De(t),r=De(e),n||r){if(!n||!r)return!1;const s=Object.keys(t).length,i=Object.keys(e).length;if(s!==i)return!1;for(const o in t){const a=t.hasOwnProperty(o),c=e.hasOwnProperty(o);if(a&&!c||!a&&c||!ns(t[o],e[o]))return!1}}return String(t)===String(e)}function Yd(t,e){return t.findIndex(n=>ns(n,e))}const uU=t=>He(t)?t:t==null?"":te(t)||De(t)&&(t.toString===iv||!de(t.toString))?JSON.stringify(t,cv,2):String(t),cv=(t,e)=>e&&e.__v_isRef?cv(t,e.value):Ws(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,s])=>(n[`${r} =>`]=s,n),{})}:Ei(e)?{[`Set(${e.size})`]:[...e.values()]}:De(e)&&!te(e)&&!ov(e)?String(e):e;let jt;class lv{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=jt,!e&&jt&&(this.index=(jt.scopes||(jt.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const n=jt;try{return jt=this,e()}finally{jt=n}}}on(){jt=this}off(){jt=this.parent}stop(e){if(this._active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0,this._active=!1}}}function ma(t){return new lv(t)}function $b(t,e=jt){e&&e.active&&e.effects.push(t)}function uv(){return jt}function Ht(t){jt&&jt.cleanups.push(t)}const Xd=t=>{const e=new Set(t);return e.w=0,e.n=0,e},hv=t=>(t.w&vr)>0,dv=t=>(t.n&vr)>0,jb=({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=vr},zb=t=>{const{deps:e}=t;if(e.length){let n=0;for(let r=0;r<e.length;r++){const s=e[r];hv(s)&&!dv(s)?s.delete(t):e[n++]=s,s.w&=~vr,s.n&=~vr}e.length=n}},jc=new WeakMap;let Zi=0,vr=1;const Rh=30;let sn;const Yr=Symbol(""),Ph=Symbol("");class Jd{constructor(e,n=null,r){this.fn=e,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,$b(this,r)}run(){if(!this.active)return this.fn();let e=sn,n=dr;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=sn,sn=this,dr=!0,vr=1<<++Zi,Zi<=Rh?jb(this):gg(this),this.fn()}finally{Zi<=Rh&&zb(this),vr=1<<--Zi,sn=this.parent,dr=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){sn===this?this.deferStop=!0:this.active&&(gg(this),this.onStop&&this.onStop(),this.active=!1)}}function gg(t){const{deps:e}=t;if(e.length){for(let n=0;n<e.length;n++)e[n].delete(t);e.length=0}}let dr=!0;const fv=[];function Ti(){fv.push(dr),dr=!1}function bi(){const t=fv.pop();dr=t===void 0?!0:t}function Ut(t,e,n){if(dr&&sn){let r=jc.get(t);r||jc.set(t,r=new Map);let s=r.get(n);s||r.set(n,s=Xd()),mv(s)}}function mv(t,e){let n=!1;Zi<=Rh?dv(t)||(t.n|=vr,n=!hv(t)):n=!t.has(sn),n&&(t.add(sn),sn.deps.push(t))}function qn(t,e,n,r,s,i){const o=jc.get(t);if(!o)return;let a=[];if(e==="clear")a=[...o.values()];else if(n==="length"&&te(t)){const c=Number(r);o.forEach((l,u)=>{(u==="length"||u>=c)&&a.push(l)})}else switch(n!==void 0&&a.push(o.get(n)),e){case"add":te(t)?Gd(n)&&a.push(o.get("length")):(a.push(o.get(Yr)),Ws(t)&&a.push(o.get(Ph)));break;case"delete":te(t)||(a.push(o.get(Yr)),Ws(t)&&a.push(o.get(Ph)));break;case"set":Ws(t)&&a.push(o.get(Yr));break}if(a.length===1)a[0]&&Sh(a[0]);else{const c=[];for(const l of a)l&&c.push(...l);Sh(Xd(c))}}function Sh(t,e){const n=te(t)?t:[...t];for(const r of n)r.computed&&pg(r);for(const r of n)r.computed||pg(r)}function pg(t,e){(t!==sn||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}function qb(t,e){var n;return(n=jc.get(t))==null?void 0:n.get(e)}const Kb=qd("__proto__,__v_isRef,__isVue"),gv=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Po)),Hb=Zd(),Gb=Zd(!1,!0),Wb=Zd(!0),_g=Qb();function Qb(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...n){const r=ge(this);for(let i=0,o=this.length;i<o;i++)Ut(r,"get",i+"");const s=r[e](...n);return s===-1||s===!1?r[e](...n.map(ge)):s}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...n){Ti();const r=ge(this)[e].apply(this,n);return bi(),r}}),t}function Yb(t){const e=ge(this);return Ut(e,"has",t),e.hasOwnProperty(t)}function Zd(t=!1,e=!1){return function(r,s,i){if(s==="__v_isReactive")return!t;if(s==="__v_isReadonly")return t;if(s==="__v_isShallow")return e;if(s==="__v_raw"&&i===(t?e?dA:Ev:e?vv:yv).get(r))return r;const o=te(r);if(!t){if(o&&Te(_g,s))return Reflect.get(_g,s,i);if(s==="hasOwnProperty")return Yb}const a=Reflect.get(r,s,i);return(Po(s)?gv.has(s):Kb(s))||(t||Ut(r,"get",s),e)?a:Oe(a)?o&&Gd(s)?a:a.value:De(a)?t?kl(a):kn(a):a}}const Xb=pv(),Jb=pv(!0);function pv(t=!1){return function(n,r,s,i){let o=n[r];if(ni(o)&&Oe(o)&&!Oe(s))return!1;if(!t&&(!zc(s)&&!ni(s)&&(o=ge(o),s=ge(s)),!te(n)&&Oe(o)&&!Oe(s)))return o.value=s,!0;const a=te(n)&&Gd(r)?Number(r)<n.length:Te(n,r),c=Reflect.set(n,r,s,i);return n===ge(i)&&(a?So(s,o)&&qn(n,"set",r,s):qn(n,"add",r,s)),c}}function Zb(t,e){const n=Te(t,e);t[e];const r=Reflect.deleteProperty(t,e);return r&&n&&qn(t,"delete",e,void 0),r}function eA(t,e){const n=Reflect.has(t,e);return(!Po(e)||!gv.has(e))&&Ut(t,"has",e),n}function tA(t){return Ut(t,"iterate",te(t)?"length":Yr),Reflect.ownKeys(t)}const _v={get:Hb,set:Xb,deleteProperty:Zb,has:eA,ownKeys:tA},nA={get:Wb,set(t,e){return!0},deleteProperty(t,e){return!0}},rA=et({},_v,{get:Gb,set:Jb}),ef=t=>t,xl=t=>Reflect.getPrototypeOf(t);function Qa(t,e,n=!1,r=!1){t=t.__v_raw;const s=ge(t),i=ge(e);n||(e!==i&&Ut(s,"get",e),Ut(s,"get",i));const{has:o}=xl(s),a=r?ef:n?rf:Co;if(o.call(s,e))return a(t.get(e));if(o.call(s,i))return a(t.get(i));t!==s&&t.get(e)}function Ya(t,e=!1){const n=this.__v_raw,r=ge(n),s=ge(t);return e||(t!==s&&Ut(r,"has",t),Ut(r,"has",s)),t===s?n.has(t):n.has(t)||n.has(s)}function Xa(t,e=!1){return t=t.__v_raw,!e&&Ut(ge(t),"iterate",Yr),Reflect.get(t,"size",t)}function yg(t){t=ge(t);const e=ge(this);return xl(e).has.call(e,t)||(e.add(t),qn(e,"add",t,t)),this}function vg(t,e){e=ge(e);const n=ge(this),{has:r,get:s}=xl(n);let i=r.call(n,t);i||(t=ge(t),i=r.call(n,t));const o=s.call(n,t);return n.set(t,e),i?So(e,o)&&qn(n,"set",t,e):qn(n,"add",t,e),this}function Eg(t){const e=ge(this),{has:n,get:r}=xl(e);let s=n.call(e,t);s||(t=ge(t),s=n.call(e,t)),r&&r.call(e,t);const i=e.delete(t);return s&&qn(e,"delete",t,void 0),i}function Ig(){const t=ge(this),e=t.size!==0,n=t.clear();return e&&qn(t,"clear",void 0,void 0),n}function Ja(t,e){return function(r,s){const i=this,o=i.__v_raw,a=ge(o),c=e?ef:t?rf:Co;return!t&&Ut(a,"iterate",Yr),o.forEach((l,u)=>r.call(s,c(l),c(u),i))}}function Za(t,e,n){return function(...r){const s=this.__v_raw,i=ge(s),o=Ws(i),a=t==="entries"||t===Symbol.iterator&&o,c=t==="keys"&&o,l=s[t](...r),u=n?ef:e?rf:Co;return!e&&Ut(i,"iterate",c?Ph:Yr),{next(){const{value:h,done:d}=l.next();return d?{value:h,done:d}:{value:a?[u(h[0]),u(h[1])]:u(h),done:d}},[Symbol.iterator](){return this}}}}function Qn(t){return function(...e){return t==="delete"?!1:this}}function sA(){const t={get(i){return Qa(this,i)},get size(){return Xa(this)},has:Ya,add:yg,set:vg,delete:Eg,clear:Ig,forEach:Ja(!1,!1)},e={get(i){return Qa(this,i,!1,!0)},get size(){return Xa(this)},has:Ya,add:yg,set:vg,delete:Eg,clear:Ig,forEach:Ja(!1,!0)},n={get(i){return Qa(this,i,!0)},get size(){return Xa(this,!0)},has(i){return Ya.call(this,i,!0)},add:Qn("add"),set:Qn("set"),delete:Qn("delete"),clear:Qn("clear"),forEach:Ja(!0,!1)},r={get(i){return Qa(this,i,!0,!0)},get size(){return Xa(this,!0)},has(i){return Ya.call(this,i,!0)},add:Qn("add"),set:Qn("set"),delete:Qn("delete"),clear:Qn("clear"),forEach:Ja(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(i=>{t[i]=Za(i,!1,!1),n[i]=Za(i,!0,!1),e[i]=Za(i,!1,!0),r[i]=Za(i,!0,!0)}),[t,n,e,r]}const[iA,oA,aA,cA]=sA();function tf(t,e){const n=e?t?cA:aA:t?oA:iA;return(r,s,i)=>s==="__v_isReactive"?!t:s==="__v_isReadonly"?t:s==="__v_raw"?r:Reflect.get(Te(n,s)&&s in r?n:r,s,i)}const lA={get:tf(!1,!1)},uA={get:tf(!1,!0)},hA={get:tf(!0,!1)},yv=new WeakMap,vv=new WeakMap,Ev=new WeakMap,dA=new WeakMap;function fA(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function mA(t){return t.__v_skip||!Object.isExtensible(t)?0:fA(xb(t))}function kn(t){return ni(t)?t:nf(t,!1,_v,lA,yv)}function Iv(t){return nf(t,!1,rA,uA,vv)}function kl(t){return nf(t,!0,nA,hA,Ev)}function nf(t,e,n,r,s){if(!De(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=s.get(t);if(i)return i;const o=mA(t);if(o===0)return t;const a=new Proxy(t,o===2?r:n);return s.set(t,a),a}function fr(t){return ni(t)?fr(t.__v_raw):!!(t&&t.__v_isReactive)}function ni(t){return!!(t&&t.__v_isReadonly)}function zc(t){return!!(t&&t.__v_isShallow)}function wv(t){return fr(t)||ni(t)}function ge(t){const e=t&&t.__v_raw;return e?ge(e):t}function Dl(t){return Bc(t,"__v_skip",!0),t}const Co=t=>De(t)?kn(t):t,rf=t=>De(t)?kl(t):t;function Tv(t){dr&&sn&&(t=ge(t),mv(t.dep||(t.dep=Xd())))}function bv(t,e){t=ge(t);const n=t.dep;n&&Sh(n)}function Oe(t){return!!(t&&t.__v_isRef===!0)}function Me(t){return Av(t,!1)}function rt(t){return Av(t,!0)}function Av(t,e){return Oe(t)?t:new gA(t,e)}class gA{constructor(e,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?e:ge(e),this._value=n?e:Co(e)}get value(){return Tv(this),this._value}set value(e){const n=this.__v_isShallow||zc(e)||ni(e);e=n?e:ge(e),So(e,this._rawValue)&&(this._rawValue=e,this._value=n?e:Co(e),bv(this))}}function Ct(t){return Oe(t)?t.value:t}const pA={get:(t,e,n)=>Ct(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const s=t[e];return Oe(s)&&!Oe(n)?(s.value=n,!0):Reflect.set(t,e,n,r)}};function Rv(t){return fr(t)?t:new Proxy(t,pA)}function Vl(t){const e=te(t)?new Array(t.length):{};for(const n in t)e[n]=Pv(t,n);return e}class _A{constructor(e,n,r){this._object=e,this._key=n,this._defaultValue=r,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return qb(ge(this._object),this._key)}}class yA{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function xo(t,e,n){return Oe(t)?t:de(t)?new yA(t):De(t)&&arguments.length>1?Pv(t,e,n):Me(t)}function Pv(t,e,n){const r=t[e];return Oe(r)?r:new _A(t,e,n)}class vA{constructor(e,n,r,s){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new Jd(e,()=>{this._dirty||(this._dirty=!0,bv(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!s,this.__v_isReadonly=r}get value(){const e=ge(this);return Tv(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function EA(t,e,n=!1){let r,s;const i=de(t);return i?(r=t,s=an):(r=t.get,s=t.set),new vA(r,s,i||!s,n)}function mr(t,e,n,r){let s;try{s=r?t(...r):t()}catch(i){Ol(i,e,n)}return s}function Zt(t,e,n,r){if(de(t)){const i=mr(t,e,n,r);return i&&sv(i)&&i.catch(o=>{Ol(o,e,n)}),i}const s=[];for(let i=0;i<t.length;i++)s.push(Zt(t[i],e,n,r));return s}function Ol(t,e,n,r=!0){const s=e?e.vnode:null;if(e){let i=e.parent;const o=e.proxy,a=n;for(;i;){const l=i.ec;if(l){for(let u=0;u<l.length;u++)if(l[u](t,o,a)===!1)return}i=i.parent}const c=e.appContext.config.errorHandler;if(c){mr(c,null,10,[t,o,a]);return}}IA(t,n,s,r)}function IA(t,e,n,r=!0){console.error(t)}let ko=!1,Ch=!1;const Tt=[];let vn=0;const Qs=[];let Nn=null,Br=0;const Sv=Promise.resolve();let sf=null;function fn(t){const e=sf||Sv;return t?e.then(this?t.bind(this):t):e}function wA(t){let e=vn+1,n=Tt.length;for(;e<n;){const r=e+n>>>1;Do(Tt[r])<t?e=r+1:n=r}return e}function of(t){(!Tt.length||!Tt.includes(t,ko&&t.allowRecurse?vn+1:vn))&&(t.id==null?Tt.push(t):Tt.splice(wA(t.id),0,t),Cv())}function Cv(){!ko&&!Ch&&(Ch=!0,sf=Sv.then(kv))}function TA(t){const e=Tt.indexOf(t);e>vn&&Tt.splice(e,1)}function bA(t){te(t)?Qs.push(...t):(!Nn||!Nn.includes(t,t.allowRecurse?Br+1:Br))&&Qs.push(t),Cv()}function wg(t,e=ko?vn+1:0){for(;e<Tt.length;e++){const n=Tt[e];n&&n.pre&&(Tt.splice(e,1),e--,n())}}function xv(t){if(Qs.length){const e=[...new Set(Qs)];if(Qs.length=0,Nn){Nn.push(...e);return}for(Nn=e,Nn.sort((n,r)=>Do(n)-Do(r)),Br=0;Br<Nn.length;Br++)Nn[Br]();Nn=null,Br=0}}const Do=t=>t.id==null?1/0:t.id,AA=(t,e)=>{const n=Do(t)-Do(e);if(n===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return n};function kv(t){Ch=!1,ko=!0,Tt.sort(AA);const e=an;try{for(vn=0;vn<Tt.length;vn++){const n=Tt[vn];n&&n.active!==!1&&mr(n,null,14)}}finally{vn=0,Tt.length=0,xv(),ko=!1,sf=null,(Tt.length||Qs.length)&&kv()}}function RA(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||Fe;let s=n;const i=e.startsWith("update:"),o=i&&e.slice(7);if(o&&o in r){const u=`${o==="modelValue"?"model":o}Modifiers`,{number:h,trim:d}=r[u]||Fe;d&&(s=n.map(f=>He(f)?f.trim():f)),h&&(s=n.map($c))}let a,c=r[a=Ou(e)]||r[a=Ou(ln(e))];!c&&i&&(c=r[a=Ou(Ii(e))]),c&&Zt(c,t,6,s);const l=r[a+"Once"];if(l){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,Zt(l,t,6,s)}}function Dv(t,e,n=!1){const r=e.emitsCache,s=r.get(t);if(s!==void 0)return s;const i=t.emits;let o={},a=!1;if(!de(t)){const c=l=>{const u=Dv(l,e,!0);u&&(a=!0,et(o,u))};!n&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}return!i&&!a?(De(t)&&r.set(t,null),null):(te(i)?i.forEach(c=>o[c]=null):et(o,i),De(t)&&r.set(t,o),o)}function Nl(t,e){return!t||!Sl(e)?!1:(e=e.slice(2).replace(/Once$/,""),Te(t,e[0].toLowerCase()+e.slice(1))||Te(t,Ii(e))||Te(t,e))}let lt=null,Ml=null;function qc(t){const e=lt;return lt=t,Ml=t&&t.type.__scopeId||null,e}function PA(t){Ml=t}function SA(){Ml=null}function Tc(t,e=lt,n){if(!e||t._n)return t;const r=(...s)=>{r._d&&Ng(-1);const i=qc(e);let o;try{o=t(...s)}finally{qc(i),r._d&&Ng(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function Nu(t){const{type:e,vnode:n,proxy:r,withProxy:s,props:i,propsOptions:[o],slots:a,attrs:c,emit:l,render:u,renderCache:h,data:d,setupState:f,ctx:m,inheritAttrs:p}=t;let y,T;const w=qc(t);try{if(n.shapeFlag&4){const b=s||r;y=yn(u.call(b,b,h,i,f,d,m)),T=c}else{const b=e;y=yn(b.length>1?b(i,{attrs:c,slots:a,emit:l}):b(i,null)),T=e.props?c:CA(c)}}catch(b){mo.length=0,Ol(b,t,1),y=x(en)}let v=y;if(T&&p!==!1){const b=Object.keys(T),{shapeFlag:D}=v;b.length&&D&7&&(o&&b.some(Kd)&&(T=xA(T,o)),v=Er(v,T))}return n.dirs&&(v=Er(v),v.dirs=v.dirs?v.dirs.concat(n.dirs):n.dirs),n.transition&&(v.transition=n.transition),y=v,qc(w),y}const CA=t=>{let e;for(const n in t)(n==="class"||n==="style"||Sl(n))&&((e||(e={}))[n]=t[n]);return e},xA=(t,e)=>{const n={};for(const r in t)(!Kd(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function kA(t,e,n){const{props:r,children:s,component:i}=t,{props:o,children:a,patchFlag:c}=e,l=i.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&c>=0){if(c&1024)return!0;if(c&16)return r?Tg(r,o,l):!!o;if(c&8){const u=e.dynamicProps;for(let h=0;h<u.length;h++){const d=u[h];if(o[d]!==r[d]&&!Nl(l,d))return!0}}}else return(s||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?Tg(r,o,l):!0:!!o;return!1}function Tg(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let s=0;s<r.length;s++){const i=r[s];if(e[i]!==t[i]&&!Nl(n,i))return!0}return!1}function DA({vnode:t,parent:e},n){for(;e&&e.subTree===t;)(t=e.vnode).el=n,e=e.parent}const VA=t=>t.__isSuspense;function OA(t,e){e&&e.pendingBranch?te(t)?e.effects.push(...t):e.effects.push(t):bA(t)}function Pr(t,e){return af(t,null,e)}const ec={};function ke(t,e,n){return af(t,e,n)}function af(t,e,{immediate:n,deep:r,flush:s,onTrack:i,onTrigger:o}=Fe){var a;const c=uv()===((a=st)==null?void 0:a.scope)?st:null;let l,u=!1,h=!1;if(Oe(t)?(l=()=>t.value,u=zc(t)):fr(t)?(l=()=>t,r=!0):te(t)?(h=!0,u=t.some(b=>fr(b)||zc(b)),l=()=>t.map(b=>{if(Oe(b))return b.value;if(fr(b))return Gr(b);if(de(b))return mr(b,c,2)})):de(t)?e?l=()=>mr(t,c,2):l=()=>{if(!(c&&c.isUnmounted))return d&&d(),Zt(t,c,3,[f])}:l=an,e&&r){const b=l;l=()=>Gr(b())}let d,f=b=>{d=w.onStop=()=>{mr(b,c,4)}},m;if(Lo)if(f=an,e?n&&Zt(e,c,3,[l(),h?[]:void 0,f]):l(),s==="sync"){const b=kR();m=b.__watcherHandles||(b.__watcherHandles=[])}else return an;let p=h?new Array(t.length).fill(ec):ec;const y=()=>{if(w.active)if(e){const b=w.run();(r||u||(h?b.some((D,j)=>So(D,p[j])):So(b,p)))&&(d&&d(),Zt(e,c,3,[b,p===ec?void 0:h&&p[0]===ec?[]:p,f]),p=b)}else w.run()};y.allowRecurse=!!e;let T;s==="sync"?T=y:s==="post"?T=()=>Nt(y,c&&c.suspense):(y.pre=!0,c&&(y.id=c.uid),T=()=>of(y));const w=new Jd(l,T);e?n?y():p=w.run():s==="post"?Nt(w.run.bind(w),c&&c.suspense):w.run();const v=()=>{w.stop(),c&&c.scope&&Hd(c.scope.effects,w)};return m&&m.push(v),v}function NA(t,e,n){const r=this.proxy,s=He(t)?t.includes(".")?Vv(r,t):()=>r[t]:t.bind(r,r);let i;de(e)?i=e:(i=e.handler,n=e);const o=st;ri(this);const a=af(s,i.bind(r),n);return o?ri(o):Xr(),a}function Vv(t,e){const n=e.split(".");return()=>{let r=t;for(let s=0;s<n.length&&r;s++)r=r[n[s]];return r}}function Gr(t,e){if(!De(t)||t.__v_skip||(e=e||new Set,e.has(t)))return t;if(e.add(t),Oe(t))Gr(t.value,e);else if(te(t))for(let n=0;n<t.length;n++)Gr(t[n],e);else if(Ei(t)||Ws(t))t.forEach(n=>{Gr(n,e)});else if(ov(t))for(const n in t)Gr(t[n],e);return t}function Kc(t,e){const n=lt;if(n===null)return t;const r=zl(n)||n.proxy,s=t.dirs||(t.dirs=[]);for(let i=0;i<e.length;i++){let[o,a,c,l=Fe]=e[i];o&&(de(o)&&(o={mounted:o,updated:o}),o.deep&&Gr(a),s.push({dir:o,instance:r,value:a,oldValue:void 0,arg:c,modifiers:l}))}return t}function Dr(t,e,n,r){const s=t.dirs,i=e&&e.dirs;for(let o=0;o<s.length;o++){const a=s[o];i&&(a.oldValue=i[o].value);let c=a.dir[r];c&&(Ti(),Zt(c,n,8,[t.el,a,t,e]),bi())}}function Ov(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return uf(()=>{t.isMounted=!0}),Ul(()=>{t.isUnmounting=!0}),t}const Qt=[Function,Array],Nv={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Qt,onEnter:Qt,onAfterEnter:Qt,onEnterCancelled:Qt,onBeforeLeave:Qt,onLeave:Qt,onAfterLeave:Qt,onLeaveCancelled:Qt,onBeforeAppear:Qt,onAppear:Qt,onAfterAppear:Qt,onAppearCancelled:Qt},MA={name:"BaseTransition",props:Nv,setup(t,{slots:e}){const n=vf(),r=Ov();let s;return()=>{const i=e.default&&cf(e.default(),!0);if(!i||!i.length)return;let o=i[0];if(i.length>1){for(const p of i)if(p.type!==en){o=p;break}}const a=ge(t),{mode:c}=a;if(r.isLeaving)return Mu(o);const l=bg(o);if(!l)return Mu(o);const u=Vo(l,a,r,n);Oo(l,u);const h=n.subTree,d=h&&bg(h);let f=!1;const{getTransitionKey:m}=l.type;if(m){const p=m();s===void 0?s=p:p!==s&&(s=p,f=!0)}if(d&&d.type!==en&&(!$r(l,d)||f)){const p=Vo(d,a,r,n);if(Oo(d,p),c==="out-in")return r.isLeaving=!0,p.afterLeave=()=>{r.isLeaving=!1,n.update.active!==!1&&n.update()},Mu(o);c==="in-out"&&l.type!==en&&(p.delayLeave=(y,T,w)=>{const v=Mv(r,d);v[String(d.key)]=d,y._leaveCb=()=>{T(),y._leaveCb=void 0,delete u.delayedLeave},u.delayedLeave=w})}return o}}},LA=MA;function Mv(t,e){const{leavingVNodes:n}=t;let r=n.get(e.type);return r||(r=Object.create(null),n.set(e.type,r)),r}function Vo(t,e,n,r){const{appear:s,mode:i,persisted:o=!1,onBeforeEnter:a,onEnter:c,onAfterEnter:l,onEnterCancelled:u,onBeforeLeave:h,onLeave:d,onAfterLeave:f,onLeaveCancelled:m,onBeforeAppear:p,onAppear:y,onAfterAppear:T,onAppearCancelled:w}=e,v=String(t.key),b=Mv(n,t),D=(R,V)=>{R&&Zt(R,r,9,V)},j=(R,V)=>{const K=V[1];D(R,V),te(R)?R.every(J=>J.length<=1)&&K():R.length<=1&&K()},G={mode:i,persisted:o,beforeEnter(R){let V=a;if(!n.isMounted)if(s)V=p||a;else return;R._leaveCb&&R._leaveCb(!0);const K=b[v];K&&$r(t,K)&&K.el._leaveCb&&K.el._leaveCb(),D(V,[R])},enter(R){let V=c,K=l,J=u;if(!n.isMounted)if(s)V=y||c,K=T||l,J=w||u;else return;let O=!1;const Y=R._enterCb=fe=>{O||(O=!0,fe?D(J,[R]):D(K,[R]),G.delayedLeave&&G.delayedLeave(),R._enterCb=void 0)};V?j(V,[R,Y]):Y()},leave(R,V){const K=String(t.key);if(R._enterCb&&R._enterCb(!0),n.isUnmounting)return V();D(h,[R]);let J=!1;const O=R._leaveCb=Y=>{J||(J=!0,V(),Y?D(m,[R]):D(f,[R]),R._leaveCb=void 0,b[K]===t&&delete b[K])};b[K]=t,d?j(d,[R,O]):O()},clone(R){return Vo(R,e,n,r)}};return G}function Mu(t){if(Ll(t))return t=Er(t),t.children=null,t}function bg(t){return Ll(t)?t.children?t.children[0]:void 0:t}function Oo(t,e){t.shapeFlag&6&&t.component?Oo(t.component.subTree,e):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function cf(t,e=!1,n){let r=[],s=0;for(let i=0;i<t.length;i++){let o=t[i];const a=n==null?o.key:String(n)+String(o.key!=null?o.key:i);o.type===ct?(o.patchFlag&128&&s++,r=r.concat(cf(o.children,e,a))):(e||o.type!==en)&&r.push(a!=null?Er(o,{key:a}):o)}if(s>1)for(let i=0;i<r.length;i++)r[i].patchFlag=-2;return r}function lf(t,e){return de(t)?(()=>et({name:t.name},e,{setup:t}))():t}const uo=t=>!!t.type.__asyncLoader,Ll=t=>t.type.__isKeepAlive;function FA(t,e){Lv(t,"a",e)}function UA(t,e){Lv(t,"da",e)}function Lv(t,e,n=st){const r=t.__wdc||(t.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return t()});if(Fl(e,r,n),n){let s=n.parent;for(;s&&s.parent;)Ll(s.parent.vnode)&&BA(r,e,n,s),s=s.parent}}function BA(t,e,n,r){const s=Fl(e,t,r,!0);Bv(()=>{Hd(r[e],s)},n)}function Fl(t,e,n=st,r=!1){if(n){const s=n[t]||(n[t]=[]),i=e.__weh||(e.__weh=(...o)=>{if(n.isUnmounted)return;Ti(),ri(n);const a=Zt(e,n,t,o);return Xr(),bi(),a});return r?s.unshift(i):s.push(i),i}}const Gn=t=>(e,n=st)=>(!Lo||t==="sp")&&Fl(t,(...r)=>e(...r),n),Fv=Gn("bm"),uf=Gn("m"),$A=Gn("bu"),Uv=Gn("u"),Ul=Gn("bum"),Bv=Gn("um"),jA=Gn("sp"),zA=Gn("rtg"),qA=Gn("rtc");function KA(t,e=st){Fl("ec",t,e)}const hf="components",HA="directives";function GA(t,e){return ff(hf,t,!0,e)||t}const $v=Symbol.for("v-ndc");function WA(t){return He(t)?ff(hf,t,!1)||t:t||$v}function df(t){return ff(HA,t)}function ff(t,e,n=!0,r=!1){const s=lt||st;if(s){const i=s.type;if(t===hf){const a=SR(i,!1);if(a&&(a===e||a===ln(e)||a===wi(ln(e))))return i}const o=Ag(s[t]||i[t],e)||Ag(s.appContext[t],e);return!o&&r?i:o}}function Ag(t,e){return t&&(t[e]||t[ln(e)]||t[wi(ln(e))])}function hU(t,e,n,r){let s;const i=n&&n[r];if(te(t)||He(t)){s=new Array(t.length);for(let o=0,a=t.length;o<a;o++)s[o]=e(t[o],o,void 0,i&&i[o])}else if(typeof t=="number"){s=new Array(t);for(let o=0;o<t;o++)s[o]=e(o+1,o,void 0,i&&i[o])}else if(De(t))if(t[Symbol.iterator])s=Array.from(t,(o,a)=>e(o,a,void 0,i&&i[a]));else{const o=Object.keys(t);s=new Array(o.length);for(let a=0,c=o.length;a<c;a++){const l=o[a];s[a]=e(t[l],l,a,i&&i[a])}}else s=[];return n&&(n[r]=s),s}function dU(t,e,n={},r,s){if(lt.isCE||lt.parent&&uo(lt.parent)&&lt.parent.isCE)return e!=="default"&&(n.name=e),x("slot",n,r&&r());let i=t[e];i&&i._c&&(i._d=!1),Bl();const o=i&&jv(i(n)),a=_f(ct,{key:n.key||o&&o.key||`_${e}`},o||(r?r():[]),o&&t._===1?64:-2);return!s&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),i&&i._c&&(i._d=!0),a}function jv(t){return t.some(e=>Gc(e)?!(e.type===en||e.type===ct&&!jv(e.children)):!0)?t:null}const xh=t=>t?Zv(t)?zl(t)||t.proxy:xh(t.parent):null,ho=et(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>xh(t.parent),$root:t=>xh(t.root),$emit:t=>t.emit,$options:t=>mf(t),$forceUpdate:t=>t.f||(t.f=()=>of(t.update)),$nextTick:t=>t.n||(t.n=fn.bind(t.proxy)),$watch:t=>NA.bind(t)}),Lu=(t,e)=>t!==Fe&&!t.__isScriptSetup&&Te(t,e),QA={get({_:t},e){const{ctx:n,setupState:r,data:s,props:i,accessCache:o,type:a,appContext:c}=t;let l;if(e[0]!=="$"){const f=o[e];if(f!==void 0)switch(f){case 1:return r[e];case 2:return s[e];case 4:return n[e];case 3:return i[e]}else{if(Lu(r,e))return o[e]=1,r[e];if(s!==Fe&&Te(s,e))return o[e]=2,s[e];if((l=t.propsOptions[0])&&Te(l,e))return o[e]=3,i[e];if(n!==Fe&&Te(n,e))return o[e]=4,n[e];kh&&(o[e]=0)}}const u=ho[e];let h,d;if(u)return e==="$attrs"&&Ut(t,"get",e),u(t);if((h=a.__cssModules)&&(h=h[e]))return h;if(n!==Fe&&Te(n,e))return o[e]=4,n[e];if(d=c.config.globalProperties,Te(d,e))return d[e]},set({_:t},e,n){const{data:r,setupState:s,ctx:i}=t;return Lu(s,e)?(s[e]=n,!0):r!==Fe&&Te(r,e)?(r[e]=n,!0):Te(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:s,propsOptions:i}},o){let a;return!!n[o]||t!==Fe&&Te(t,o)||Lu(e,o)||(a=i[0])&&Te(a,o)||Te(r,o)||Te(ho,o)||Te(s.config.globalProperties,o)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:Te(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function Rg(t){return te(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let kh=!0;function YA(t){const e=mf(t),n=t.proxy,r=t.ctx;kh=!1,e.beforeCreate&&Pg(e.beforeCreate,t,"bc");const{data:s,computed:i,methods:o,watch:a,provide:c,inject:l,created:u,beforeMount:h,mounted:d,beforeUpdate:f,updated:m,activated:p,deactivated:y,beforeDestroy:T,beforeUnmount:w,destroyed:v,unmounted:b,render:D,renderTracked:j,renderTriggered:G,errorCaptured:R,serverPrefetch:V,expose:K,inheritAttrs:J,components:O,directives:Y,filters:fe}=e;if(l&&XA(l,r,null),o)for(const Ee in o){const ie=o[Ee];de(ie)&&(r[Ee]=ie.bind(n))}if(s){const Ee=s.call(n,n);De(Ee)&&(t.data=kn(Ee))}if(kh=!0,i)for(const Ee in i){const ie=i[Ee],ve=de(ie)?ie.bind(n,n):de(ie.get)?ie.get.bind(n,n):an,Ye=!de(ie)&&de(ie.set)?ie.set.bind(n):an,ot=U({get:ve,set:Ye});Object.defineProperty(r,Ee,{enumerable:!0,configurable:!0,get:()=>ot.value,set:Ot=>ot.value=Ot})}if(a)for(const Ee in a)zv(a[Ee],r,n,Ee);if(c){const Ee=de(c)?c.call(n):c;Reflect.ownKeys(Ee).forEach(ie=>{gr(ie,Ee[ie])})}u&&Pg(u,t,"c");function ae(Ee,ie){te(ie)?ie.forEach(ve=>Ee(ve.bind(n))):ie&&Ee(ie.bind(n))}if(ae(Fv,h),ae(uf,d),ae($A,f),ae(Uv,m),ae(FA,p),ae(UA,y),ae(KA,R),ae(qA,j),ae(zA,G),ae(Ul,w),ae(Bv,b),ae(jA,V),te(K))if(K.length){const Ee=t.exposed||(t.exposed={});K.forEach(ie=>{Object.defineProperty(Ee,ie,{get:()=>n[ie],set:ve=>n[ie]=ve})})}else t.exposed||(t.exposed={});D&&t.render===an&&(t.render=D),J!=null&&(t.inheritAttrs=J),O&&(t.components=O),Y&&(t.directives=Y)}function XA(t,e,n=an){te(t)&&(t=Dh(t));for(const r in t){const s=t[r];let i;De(s)?"default"in s?i=Ze(s.from||r,s.default,!0):i=Ze(s.from||r):i=Ze(s),Oe(i)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):e[r]=i}}function Pg(t,e,n){Zt(te(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function zv(t,e,n,r){const s=r.includes(".")?Vv(n,r):()=>n[r];if(He(t)){const i=e[t];de(i)&&ke(s,i)}else if(de(t))ke(s,t.bind(n));else if(De(t))if(te(t))t.forEach(i=>zv(i,e,n,r));else{const i=de(t.handler)?t.handler.bind(n):e[t.handler];de(i)&&ke(s,i,t)}}function mf(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:s,optionsCache:i,config:{optionMergeStrategies:o}}=t.appContext,a=i.get(e);let c;return a?c=a:!s.length&&!n&&!r?c=e:(c={},s.length&&s.forEach(l=>Hc(c,l,o,!0)),Hc(c,e,o)),De(e)&&i.set(e,c),c}function Hc(t,e,n,r=!1){const{mixins:s,extends:i}=e;i&&Hc(t,i,n,!0),s&&s.forEach(o=>Hc(t,o,n,!0));for(const o in e)if(!(r&&o==="expose")){const a=JA[o]||n&&n[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const JA={data:Sg,props:Cg,emits:Cg,methods:eo,computed:eo,beforeCreate:Pt,created:Pt,beforeMount:Pt,mounted:Pt,beforeUpdate:Pt,updated:Pt,beforeDestroy:Pt,beforeUnmount:Pt,destroyed:Pt,unmounted:Pt,activated:Pt,deactivated:Pt,errorCaptured:Pt,serverPrefetch:Pt,components:eo,directives:eo,watch:eR,provide:Sg,inject:ZA};function Sg(t,e){return e?t?function(){return et(de(t)?t.call(this,this):t,de(e)?e.call(this,this):e)}:e:t}function ZA(t,e){return eo(Dh(t),Dh(e))}function Dh(t){if(te(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Pt(t,e){return t?[...new Set([].concat(t,e))]:e}function eo(t,e){return t?et(Object.create(null),t,e):e}function Cg(t,e){return t?te(t)&&te(e)?[...new Set([...t,...e])]:et(Object.create(null),Rg(t),Rg(e??{})):e}function eR(t,e){if(!t)return e;if(!e)return t;const n=et(Object.create(null),t);for(const r in e)n[r]=Pt(t[r],e[r]);return n}function qv(){return{app:null,config:{isNativeTag:Pb,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let tR=0;function nR(t,e){return function(r,s=null){de(r)||(r=et({},r)),s!=null&&!De(s)&&(s=null);const i=qv(),o=new Set;let a=!1;const c=i.app={_uid:tR++,_component:r,_props:s,_container:null,_context:i,_instance:null,version:DR,get config(){return i.config},set config(l){},use(l,...u){return o.has(l)||(l&&de(l.install)?(o.add(l),l.install(c,...u)):de(l)&&(o.add(l),l(c,...u))),c},mixin(l){return i.mixins.includes(l)||i.mixins.push(l),c},component(l,u){return u?(i.components[l]=u,c):i.components[l]},directive(l,u){return u?(i.directives[l]=u,c):i.directives[l]},mount(l,u,h){if(!a){const d=x(r,s);return d.appContext=i,u&&e?e(d,l):t(d,l,h),a=!0,c._container=l,l.__vue_app__=c,zl(d.component)||d.component.proxy}},unmount(){a&&(t(null,c._container),delete c._container.__vue_app__)},provide(l,u){return i.provides[l]=u,c},runWithContext(l){No=c;try{return l()}finally{No=null}}};return c}}let No=null;function gr(t,e){if(st){let n=st.provides;const r=st.parent&&st.parent.provides;r===n&&(n=st.provides=Object.create(r)),n[t]=e}}function Ze(t,e,n=!1){const r=st||lt;if(r||No){const s=r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:No._context.provides;if(s&&t in s)return s[t];if(arguments.length>1)return n&&de(e)?e.call(r&&r.proxy):e}}function rR(){return!!(st||lt||No)}function sR(t,e,n,r=!1){const s={},i={};Bc(i,$l,1),t.propsDefaults=Object.create(null),Kv(t,e,s,i);for(const o in t.propsOptions[0])o in s||(s[o]=void 0);n?t.props=r?s:Iv(s):t.type.props?t.props=s:t.props=i,t.attrs=i}function iR(t,e,n,r){const{props:s,attrs:i,vnode:{patchFlag:o}}=t,a=ge(s),[c]=t.propsOptions;let l=!1;if((r||o>0)&&!(o&16)){if(o&8){const u=t.vnode.dynamicProps;for(let h=0;h<u.length;h++){let d=u[h];if(Nl(t.emitsOptions,d))continue;const f=e[d];if(c)if(Te(i,d))f!==i[d]&&(i[d]=f,l=!0);else{const m=ln(d);s[m]=Vh(c,a,m,f,t,!1)}else f!==i[d]&&(i[d]=f,l=!0)}}}else{Kv(t,e,s,i)&&(l=!0);let u;for(const h in a)(!e||!Te(e,h)&&((u=Ii(h))===h||!Te(e,u)))&&(c?n&&(n[h]!==void 0||n[u]!==void 0)&&(s[h]=Vh(c,a,h,void 0,t,!0)):delete s[h]);if(i!==a)for(const h in i)(!e||!Te(e,h))&&(delete i[h],l=!0)}l&&qn(t,"set","$attrs")}function Kv(t,e,n,r){const[s,i]=t.propsOptions;let o=!1,a;if(e)for(let c in e){if(Ic(c))continue;const l=e[c];let u;s&&Te(s,u=ln(c))?!i||!i.includes(u)?n[u]=l:(a||(a={}))[u]=l:Nl(t.emitsOptions,c)||(!(c in r)||l!==r[c])&&(r[c]=l,o=!0)}if(i){const c=ge(n),l=a||Fe;for(let u=0;u<i.length;u++){const h=i[u];n[h]=Vh(s,c,h,l[h],t,!Te(l,h))}}return o}function Vh(t,e,n,r,s,i){const o=t[n];if(o!=null){const a=Te(o,"default");if(a&&r===void 0){const c=o.default;if(o.type!==Function&&!o.skipFactory&&de(c)){const{propsDefaults:l}=s;n in l?r=l[n]:(ri(s),r=l[n]=c.call(null,e),Xr())}else r=c}o[0]&&(i&&!a?r=!1:o[1]&&(r===""||r===Ii(n))&&(r=!0))}return r}function Hv(t,e,n=!1){const r=e.propsCache,s=r.get(t);if(s)return s;const i=t.props,o={},a=[];let c=!1;if(!de(t)){const u=h=>{c=!0;const[d,f]=Hv(h,e,!0);et(o,d),f&&a.push(...f)};!n&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}if(!i&&!c)return De(t)&&r.set(t,Gs),Gs;if(te(i))for(let u=0;u<i.length;u++){const h=ln(i[u]);xg(h)&&(o[h]=Fe)}else if(i)for(const u in i){const h=ln(u);if(xg(h)){const d=i[u],f=o[h]=te(d)||de(d)?{type:d}:et({},d);if(f){const m=Vg(Boolean,f.type),p=Vg(String,f.type);f[0]=m>-1,f[1]=p<0||m<p,(m>-1||Te(f,"default"))&&a.push(h)}}}const l=[o,a];return De(t)&&r.set(t,l),l}function xg(t){return t[0]!=="$"}function kg(t){const e=t&&t.toString().match(/^\s*(function|class) (\w+)/);return e?e[2]:t===null?"null":""}function Dg(t,e){return kg(t)===kg(e)}function Vg(t,e){return te(e)?e.findIndex(n=>Dg(n,t)):de(e)&&Dg(e,t)?0:-1}const Gv=t=>t[0]==="_"||t==="$stable",gf=t=>te(t)?t.map(yn):[yn(t)],oR=(t,e,n)=>{if(e._n)return e;const r=Tc((...s)=>gf(e(...s)),n);return r._c=!1,r},Wv=(t,e,n)=>{const r=t._ctx;for(const s in t){if(Gv(s))continue;const i=t[s];if(de(i))e[s]=oR(s,i,r);else if(i!=null){const o=gf(i);e[s]=()=>o}}},Qv=(t,e)=>{const n=gf(e);t.slots.default=()=>n},aR=(t,e)=>{if(t.vnode.shapeFlag&32){const n=e._;n?(t.slots=ge(e),Bc(e,"_",n)):Wv(e,t.slots={})}else t.slots={},e&&Qv(t,e);Bc(t.slots,$l,1)},cR=(t,e,n)=>{const{vnode:r,slots:s}=t;let i=!0,o=Fe;if(r.shapeFlag&32){const a=e._;a?n&&a===1?i=!1:(et(s,e),!n&&a===1&&delete s._):(i=!e.$stable,Wv(e,s)),o=e}else e&&(Qv(t,e),o={default:1});if(i)for(const a in s)!Gv(a)&&!(a in o)&&delete s[a]};function Oh(t,e,n,r,s=!1){if(te(t)){t.forEach((d,f)=>Oh(d,e&&(te(e)?e[f]:e),n,r,s));return}if(uo(r)&&!s)return;const i=r.shapeFlag&4?zl(r.component)||r.component.proxy:r.el,o=s?null:i,{i:a,r:c}=t,l=e&&e.r,u=a.refs===Fe?a.refs={}:a.refs,h=a.setupState;if(l!=null&&l!==c&&(He(l)?(u[l]=null,Te(h,l)&&(h[l]=null)):Oe(l)&&(l.value=null)),de(c))mr(c,a,12,[o,u]);else{const d=He(c),f=Oe(c);if(d||f){const m=()=>{if(t.f){const p=d?Te(h,c)?h[c]:u[c]:c.value;s?te(p)&&Hd(p,i):te(p)?p.includes(i)||p.push(i):d?(u[c]=[i],Te(h,c)&&(h[c]=u[c])):(c.value=[i],t.k&&(u[t.k]=c.value))}else d?(u[c]=o,Te(h,c)&&(h[c]=o)):f&&(c.value=o,t.k&&(u[t.k]=o))};o?(m.id=-1,Nt(m,n)):m()}}}const Nt=OA;function lR(t){return uR(t)}function uR(t,e){const n=Ah();n.__VUE__=!0;const{insert:r,remove:s,patchProp:i,createElement:o,createText:a,createComment:c,setText:l,setElementText:u,parentNode:h,nextSibling:d,setScopeId:f=an,insertStaticContent:m}=t,p=(g,_,E,P=null,C=null,k=null,H=!1,F=null,B=!!_.dynamicChildren)=>{if(g===_)return;g&&!$r(g,_)&&(P=S(g),Ot(g,C,k,!0),g=null),_.patchFlag===-2&&(B=!1,_.dynamicChildren=null);const{type:N,ref:re,shapeFlag:X}=_;switch(N){case ga:y(g,_,E,P);break;case en:T(g,_,E,P);break;case Fu:g==null&&w(_,E,P,H);break;case ct:O(g,_,E,P,C,k,H,F,B);break;default:X&1?D(g,_,E,P,C,k,H,F,B):X&6?Y(g,_,E,P,C,k,H,F,B):(X&64||X&128)&&N.process(g,_,E,P,C,k,H,F,B,$)}re!=null&&C&&Oh(re,g&&g.ref,k,_||g,!_)},y=(g,_,E,P)=>{if(g==null)r(_.el=a(_.children),E,P);else{const C=_.el=g.el;_.children!==g.children&&l(C,_.children)}},T=(g,_,E,P)=>{g==null?r(_.el=c(_.children||""),E,P):_.el=g.el},w=(g,_,E,P)=>{[g.el,g.anchor]=m(g.children,_,E,P,g.el,g.anchor)},v=({el:g,anchor:_},E,P)=>{let C;for(;g&&g!==_;)C=d(g),r(g,E,P),g=C;r(_,E,P)},b=({el:g,anchor:_})=>{let E;for(;g&&g!==_;)E=d(g),s(g),g=E;s(_)},D=(g,_,E,P,C,k,H,F,B)=>{H=H||_.type==="svg",g==null?j(_,E,P,C,k,H,F,B):V(g,_,C,k,H,F,B)},j=(g,_,E,P,C,k,H,F)=>{let B,N;const{type:re,props:X,shapeFlag:se,transition:ue,dirs:pe}=g;if(B=g.el=o(g.type,k,X&&X.is,X),se&8?u(B,g.children):se&16&&R(g.children,B,null,P,C,k&&re!=="foreignObject",H,F),pe&&Dr(g,null,P,"created"),G(B,g,g.scopeId,H,P),X){for(const xe in X)xe!=="value"&&!Ic(xe)&&i(B,xe,null,X[xe],k,g.children,P,C,It);"value"in X&&i(B,"value",null,X.value),(N=X.onVnodeBeforeMount)&&_n(N,P,g)}pe&&Dr(g,null,P,"beforeMount");const Ne=(!C||C&&!C.pendingBranch)&&ue&&!ue.persisted;Ne&&ue.beforeEnter(B),r(B,_,E),((N=X&&X.onVnodeMounted)||Ne||pe)&&Nt(()=>{N&&_n(N,P,g),Ne&&ue.enter(B),pe&&Dr(g,null,P,"mounted")},C)},G=(g,_,E,P,C)=>{if(E&&f(g,E),P)for(let k=0;k<P.length;k++)f(g,P[k]);if(C){let k=C.subTree;if(_===k){const H=C.vnode;G(g,H,H.scopeId,H.slotScopeIds,C.parent)}}},R=(g,_,E,P,C,k,H,F,B=0)=>{for(let N=B;N<g.length;N++){const re=g[N]=F?rr(g[N]):yn(g[N]);p(null,re,_,E,P,C,k,H,F)}},V=(g,_,E,P,C,k,H)=>{const F=_.el=g.el;let{patchFlag:B,dynamicChildren:N,dirs:re}=_;B|=g.patchFlag&16;const X=g.props||Fe,se=_.props||Fe;let ue;E&&Vr(E,!1),(ue=se.onVnodeBeforeUpdate)&&_n(ue,E,_,g),re&&Dr(_,g,E,"beforeUpdate"),E&&Vr(E,!0);const pe=C&&_.type!=="foreignObject";if(N?K(g.dynamicChildren,N,F,E,P,pe,k):H||ie(g,_,F,null,E,P,pe,k,!1),B>0){if(B&16)J(F,_,X,se,E,P,C);else if(B&2&&X.class!==se.class&&i(F,"class",null,se.class,C),B&4&&i(F,"style",X.style,se.style,C),B&8){const Ne=_.dynamicProps;for(let xe=0;xe<Ne.length;xe++){const tt=Ne[xe],rn=X[tt],Ps=se[tt];(Ps!==rn||tt==="value")&&i(F,tt,rn,Ps,C,g.children,E,P,It)}}B&1&&g.children!==_.children&&u(F,_.children)}else!H&&N==null&&J(F,_,X,se,E,P,C);((ue=se.onVnodeUpdated)||re)&&Nt(()=>{ue&&_n(ue,E,_,g),re&&Dr(_,g,E,"updated")},P)},K=(g,_,E,P,C,k,H)=>{for(let F=0;F<_.length;F++){const B=g[F],N=_[F],re=B.el&&(B.type===ct||!$r(B,N)||B.shapeFlag&70)?h(B.el):E;p(B,N,re,null,P,C,k,H,!0)}},J=(g,_,E,P,C,k,H)=>{if(E!==P){if(E!==Fe)for(const F in E)!Ic(F)&&!(F in P)&&i(g,F,E[F],null,H,_.children,C,k,It);for(const F in P){if(Ic(F))continue;const B=P[F],N=E[F];B!==N&&F!=="value"&&i(g,F,N,B,H,_.children,C,k,It)}"value"in P&&i(g,"value",E.value,P.value)}},O=(g,_,E,P,C,k,H,F,B)=>{const N=_.el=g?g.el:a(""),re=_.anchor=g?g.anchor:a("");let{patchFlag:X,dynamicChildren:se,slotScopeIds:ue}=_;ue&&(F=F?F.concat(ue):ue),g==null?(r(N,E,P),r(re,E,P),R(_.children,E,re,C,k,H,F,B)):X>0&&X&64&&se&&g.dynamicChildren?(K(g.dynamicChildren,se,E,C,k,H,F),(_.key!=null||C&&_===C.subTree)&&pf(g,_,!0)):ie(g,_,E,re,C,k,H,F,B)},Y=(g,_,E,P,C,k,H,F,B)=>{_.slotScopeIds=F,g==null?_.shapeFlag&512?C.ctx.activate(_,E,P,H,B):fe(_,E,P,C,k,H,B):Ve(g,_,B)},fe=(g,_,E,P,C,k,H)=>{const F=g.component=TR(g,P,C);if(Ll(g)&&(F.ctx.renderer=$),bR(F),F.asyncDep){if(C&&C.registerDep(F,ae),!g.el){const B=F.subTree=x(en);T(null,B,_,E)}return}ae(F,g,_,E,C,k,H)},Ve=(g,_,E)=>{const P=_.component=g.component;if(kA(g,_,E))if(P.asyncDep&&!P.asyncResolved){Ee(P,_,E);return}else P.next=_,TA(P.update),P.update();else _.el=g.el,P.vnode=_},ae=(g,_,E,P,C,k,H)=>{const F=()=>{if(g.isMounted){let{next:re,bu:X,u:se,parent:ue,vnode:pe}=g,Ne=re,xe;Vr(g,!1),re?(re.el=pe.el,Ee(g,re,H)):re=pe,X&&wc(X),(xe=re.props&&re.props.onVnodeBeforeUpdate)&&_n(xe,ue,re,pe),Vr(g,!0);const tt=Nu(g),rn=g.subTree;g.subTree=tt,p(rn,tt,h(rn.el),S(rn),g,C,k),re.el=tt.el,Ne===null&&DA(g,tt.el),se&&Nt(se,C),(xe=re.props&&re.props.onVnodeUpdated)&&Nt(()=>_n(xe,ue,re,pe),C)}else{let re;const{el:X,props:se}=_,{bm:ue,m:pe,parent:Ne}=g,xe=uo(_);if(Vr(g,!1),ue&&wc(ue),!xe&&(re=se&&se.onVnodeBeforeMount)&&_n(re,Ne,_),Vr(g,!0),X&&Ae){const tt=()=>{g.subTree=Nu(g),Ae(X,g.subTree,g,C,null)};xe?_.type.__asyncLoader().then(()=>!g.isUnmounted&&tt()):tt()}else{const tt=g.subTree=Nu(g);p(null,tt,E,P,g,C,k),_.el=tt.el}if(pe&&Nt(pe,C),!xe&&(re=se&&se.onVnodeMounted)){const tt=_;Nt(()=>_n(re,Ne,tt),C)}(_.shapeFlag&256||Ne&&uo(Ne.vnode)&&Ne.vnode.shapeFlag&256)&&g.a&&Nt(g.a,C),g.isMounted=!0,_=E=P=null}},B=g.effect=new Jd(F,()=>of(N),g.scope),N=g.update=()=>B.run();N.id=g.uid,Vr(g,!0),N()},Ee=(g,_,E)=>{_.component=g;const P=g.vnode.props;g.vnode=_,g.next=null,iR(g,_.props,P,E),cR(g,_.children,E),Ti(),wg(),bi()},ie=(g,_,E,P,C,k,H,F,B=!1)=>{const N=g&&g.children,re=g?g.shapeFlag:0,X=_.children,{patchFlag:se,shapeFlag:ue}=_;if(se>0){if(se&128){Ye(N,X,E,P,C,k,H,F,B);return}else if(se&256){ve(N,X,E,P,C,k,H,F,B);return}}ue&8?(re&16&&It(N,C,k),X!==N&&u(E,X)):re&16?ue&16?Ye(N,X,E,P,C,k,H,F,B):It(N,C,k,!0):(re&8&&u(E,""),ue&16&&R(X,E,P,C,k,H,F,B))},ve=(g,_,E,P,C,k,H,F,B)=>{g=g||Gs,_=_||Gs;const N=g.length,re=_.length,X=Math.min(N,re);let se;for(se=0;se<X;se++){const ue=_[se]=B?rr(_[se]):yn(_[se]);p(g[se],ue,E,null,C,k,H,F,B)}N>re?It(g,C,k,!0,!1,X):R(_,E,P,C,k,H,F,B,X)},Ye=(g,_,E,P,C,k,H,F,B)=>{let N=0;const re=_.length;let X=g.length-1,se=re-1;for(;N<=X&&N<=se;){const ue=g[N],pe=_[N]=B?rr(_[N]):yn(_[N]);if($r(ue,pe))p(ue,pe,E,null,C,k,H,F,B);else break;N++}for(;N<=X&&N<=se;){const ue=g[X],pe=_[se]=B?rr(_[se]):yn(_[se]);if($r(ue,pe))p(ue,pe,E,null,C,k,H,F,B);else break;X--,se--}if(N>X){if(N<=se){const ue=se+1,pe=ue<re?_[ue].el:P;for(;N<=se;)p(null,_[N]=B?rr(_[N]):yn(_[N]),E,pe,C,k,H,F,B),N++}}else if(N>se)for(;N<=X;)Ot(g[N],C,k,!0),N++;else{const ue=N,pe=N,Ne=new Map;for(N=pe;N<=se;N++){const Bt=_[N]=B?rr(_[N]):yn(_[N]);Bt.key!=null&&Ne.set(Bt.key,N)}let xe,tt=0;const rn=se-pe+1;let Ps=!1,ug=0;const Mi=new Array(rn);for(N=0;N<rn;N++)Mi[N]=0;for(N=ue;N<=X;N++){const Bt=g[N];if(tt>=rn){Ot(Bt,C,k,!0);continue}let pn;if(Bt.key!=null)pn=Ne.get(Bt.key);else for(xe=pe;xe<=se;xe++)if(Mi[xe-pe]===0&&$r(Bt,_[xe])){pn=xe;break}pn===void 0?Ot(Bt,C,k,!0):(Mi[pn-pe]=N+1,pn>=ug?ug=pn:Ps=!0,p(Bt,_[pn],E,null,C,k,H,F,B),tt++)}const hg=Ps?hR(Mi):Gs;for(xe=hg.length-1,N=rn-1;N>=0;N--){const Bt=pe+N,pn=_[Bt],dg=Bt+1<re?_[Bt+1].el:P;Mi[N]===0?p(null,pn,E,dg,C,k,H,F,B):Ps&&(xe<0||N!==hg[xe]?ot(pn,E,dg,2):xe--)}}},ot=(g,_,E,P,C=null)=>{const{el:k,type:H,transition:F,children:B,shapeFlag:N}=g;if(N&6){ot(g.component.subTree,_,E,P);return}if(N&128){g.suspense.move(_,E,P);return}if(N&64){H.move(g,_,E,$);return}if(H===ct){r(k,_,E);for(let X=0;X<B.length;X++)ot(B[X],_,E,P);r(g.anchor,_,E);return}if(H===Fu){v(g,_,E);return}if(P!==2&&N&1&&F)if(P===0)F.beforeEnter(k),r(k,_,E),Nt(()=>F.enter(k),C);else{const{leave:X,delayLeave:se,afterLeave:ue}=F,pe=()=>r(k,_,E),Ne=()=>{X(k,()=>{pe(),ue&&ue()})};se?se(k,pe,Ne):Ne()}else r(k,_,E)},Ot=(g,_,E,P=!1,C=!1)=>{const{type:k,props:H,ref:F,children:B,dynamicChildren:N,shapeFlag:re,patchFlag:X,dirs:se}=g;if(F!=null&&Oh(F,null,E,g,!0),re&256){_.ctx.deactivate(g);return}const ue=re&1&&se,pe=!uo(g);let Ne;if(pe&&(Ne=H&&H.onVnodeBeforeUnmount)&&_n(Ne,_,g),re&6)Wa(g.component,E,P);else{if(re&128){g.suspense.unmount(E,P);return}ue&&Dr(g,null,_,"beforeUnmount"),re&64?g.type.remove(g,_,E,C,$,P):N&&(k!==ct||X>0&&X&64)?It(N,_,E,!1,!0):(k===ct&&X&384||!C&&re&16)&&It(B,_,E),P&&As(g)}(pe&&(Ne=H&&H.onVnodeUnmounted)||ue)&&Nt(()=>{Ne&&_n(Ne,_,g),ue&&Dr(g,null,_,"unmounted")},E)},As=g=>{const{type:_,el:E,anchor:P,transition:C}=g;if(_===ct){Rs(E,P);return}if(_===Fu){b(g);return}const k=()=>{s(E),C&&!C.persisted&&C.afterLeave&&C.afterLeave()};if(g.shapeFlag&1&&C&&!C.persisted){const{leave:H,delayLeave:F}=C,B=()=>H(E,k);F?F(g.el,k,B):B()}else k()},Rs=(g,_)=>{let E;for(;g!==_;)E=d(g),s(g),g=E;s(_)},Wa=(g,_,E)=>{const{bum:P,scope:C,update:k,subTree:H,um:F}=g;P&&wc(P),C.stop(),k&&(k.active=!1,Ot(H,g,_,E)),F&&Nt(F,_),Nt(()=>{g.isUnmounted=!0},_),_&&_.pendingBranch&&!_.isUnmounted&&g.asyncDep&&!g.asyncResolved&&g.suspenseId===_.pendingId&&(_.deps--,_.deps===0&&_.resolve())},It=(g,_,E,P=!1,C=!1,k=0)=>{for(let H=k;H<g.length;H++)Ot(g[H],_,E,P,C)},S=g=>g.shapeFlag&6?S(g.component.subTree):g.shapeFlag&128?g.suspense.next():d(g.anchor||g.el),W=(g,_,E)=>{g==null?_._vnode&&Ot(_._vnode,null,null,!0):p(_._vnode||null,g,_,null,null,null,E),wg(),xv(),_._vnode=g},$={p,um:Ot,m:ot,r:As,mt:fe,mc:R,pc:ie,pbc:K,n:S,o:t};let ne,Ae;return e&&([ne,Ae]=e($)),{render:W,hydrate:ne,createApp:nR(W,ne)}}function Vr({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function pf(t,e,n=!1){const r=t.children,s=e.children;if(te(r)&&te(s))for(let i=0;i<r.length;i++){const o=r[i];let a=s[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=s[i]=rr(s[i]),a.el=o.el),n||pf(o,a)),a.type===ga&&(a.el=o.el)}}function hR(t){const e=t.slice(),n=[0];let r,s,i,o,a;const c=t.length;for(r=0;r<c;r++){const l=t[r];if(l!==0){if(s=n[n.length-1],t[s]<l){e[r]=s,n.push(r);continue}for(i=0,o=n.length-1;i<o;)a=i+o>>1,t[n[a]]<l?i=a+1:o=a;l<t[n[i]]&&(i>0&&(e[r]=n[i-1]),n[i]=r)}}for(i=n.length,o=n[i-1];i-- >0;)n[i]=o,o=e[o];return n}const dR=t=>t.__isTeleport,fo=t=>t&&(t.disabled||t.disabled===""),Og=t=>typeof SVGElement<"u"&&t instanceof SVGElement,Nh=(t,e)=>{const n=t&&t.to;return He(n)?e?e(n):null:n},fR={__isTeleport:!0,process(t,e,n,r,s,i,o,a,c,l){const{mc:u,pc:h,pbc:d,o:{insert:f,querySelector:m,createText:p,createComment:y}}=l,T=fo(e.props);let{shapeFlag:w,children:v,dynamicChildren:b}=e;if(t==null){const D=e.el=p(""),j=e.anchor=p("");f(D,n,r),f(j,n,r);const G=e.target=Nh(e.props,m),R=e.targetAnchor=p("");G&&(f(R,G),o=o||Og(G));const V=(K,J)=>{w&16&&u(v,K,J,s,i,o,a,c)};T?V(n,j):G&&V(G,R)}else{e.el=t.el;const D=e.anchor=t.anchor,j=e.target=t.target,G=e.targetAnchor=t.targetAnchor,R=fo(t.props),V=R?n:j,K=R?D:G;if(o=o||Og(j),b?(d(t.dynamicChildren,b,V,s,i,o,a),pf(t,e,!0)):c||h(t,e,V,K,s,i,o,a,!1),T)R||tc(e,n,D,l,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const J=e.target=Nh(e.props,m);J&&tc(e,J,null,l,0)}else R&&tc(e,j,G,l,1)}Yv(e)},remove(t,e,n,r,{um:s,o:{remove:i}},o){const{shapeFlag:a,children:c,anchor:l,targetAnchor:u,target:h,props:d}=t;if(h&&i(u),(o||!fo(d))&&(i(l),a&16))for(let f=0;f<c.length;f++){const m=c[f];s(m,e,n,!0,!!m.dynamicChildren)}},move:tc,hydrate:mR};function tc(t,e,n,{o:{insert:r},m:s},i=2){i===0&&r(t.targetAnchor,e,n);const{el:o,anchor:a,shapeFlag:c,children:l,props:u}=t,h=i===2;if(h&&r(o,e,n),(!h||fo(u))&&c&16)for(let d=0;d<l.length;d++)s(l[d],e,n,2);h&&r(a,e,n)}function mR(t,e,n,r,s,i,{o:{nextSibling:o,parentNode:a,querySelector:c}},l){const u=e.target=Nh(e.props,c);if(u){const h=u._lpa||u.firstChild;if(e.shapeFlag&16)if(fo(e.props))e.anchor=l(o(t),e,a(t),n,r,s,i),e.targetAnchor=h;else{e.anchor=o(t);let d=h;for(;d;)if(d=o(d),d&&d.nodeType===8&&d.data==="teleport anchor"){e.targetAnchor=d,u._lpa=e.targetAnchor&&o(e.targetAnchor);break}l(h,e,u,n,r,s,i)}Yv(e)}return e.anchor&&o(e.anchor)}const gR=fR;function Yv(t){const e=t.ctx;if(e&&e.ut){let n=t.children[0].el;for(;n!==t.targetAnchor;)n.nodeType===1&&n.setAttribute("data-v-owner",e.uid),n=n.nextSibling;e.ut()}}const ct=Symbol.for("v-fgt"),ga=Symbol.for("v-txt"),en=Symbol.for("v-cmt"),Fu=Symbol.for("v-stc"),mo=[];let on=null;function Bl(t=!1){mo.push(on=t?null:[])}function pR(){mo.pop(),on=mo[mo.length-1]||null}let Mo=1;function Ng(t){Mo+=t}function Xv(t){return t.dynamicChildren=Mo>0?on||Gs:null,pR(),Mo>0&&on&&on.push(t),t}function _R(t,e,n,r,s,i){return Xv(jl(t,e,n,r,s,i,!0))}function _f(t,e,n,r,s){return Xv(x(t,e,n,r,s,!0))}function Gc(t){return t?t.__v_isVNode===!0:!1}function $r(t,e){return t.type===e.type&&t.key===e.key}const $l="__vInternal",Jv=({key:t})=>t??null,bc=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?He(t)||Oe(t)||de(t)?{i:lt,r:t,k:e,f:!!n}:t:null);function jl(t,e=null,n=null,r=0,s=null,i=t===ct?0:1,o=!1,a=!1){const c={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Jv(e),ref:e&&bc(e),scopeId:Ml,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:lt};return a?(yf(c,n),i&128&&t.normalize(c)):n&&(c.shapeFlag|=He(n)?8:16),Mo>0&&!o&&on&&(c.patchFlag>0||i&6)&&c.patchFlag!==32&&on.push(c),c}const x=yR;function yR(t,e=null,n=null,r=0,s=null,i=!1){if((!t||t===$v)&&(t=en),Gc(t)){const a=Er(t,e,!0);return n&&yf(a,n),Mo>0&&!i&&on&&(a.shapeFlag&6?on[on.indexOf(t)]=a:on.push(a)),a.patchFlag|=-2,a}if(CR(t)&&(t=t.__vccOpts),e){e=vR(e);let{class:a,style:c}=e;a&&!He(a)&&(e.class=Qd(a)),De(c)&&(wv(c)&&!te(c)&&(c=et({},c)),e.style=Wd(c))}const o=He(t)?1:VA(t)?128:dR(t)?64:De(t)?4:de(t)?2:0;return jl(t,e,n,r,s,o,i,!0)}function vR(t){return t?wv(t)||$l in t?et({},t):t:null}function Er(t,e,n=!1){const{props:r,ref:s,patchFlag:i,children:o}=t,a=e?Lt(r||{},e):r;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:a,key:a&&Jv(a),ref:e&&e.ref?n&&s?te(s)?s.concat(bc(e)):[s,bc(e)]:bc(e):s,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:o,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==ct?i===-1?16:i|16:i,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Er(t.ssContent),ssFallback:t.ssFallback&&Er(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce}}function ER(t=" ",e=0){return x(ga,null,t,e)}function fU(t="",e=!1){return e?(Bl(),_f(en,null,t)):x(en,null,t)}function yn(t){return t==null||typeof t=="boolean"?x(en):te(t)?x(ct,null,t.slice()):typeof t=="object"?rr(t):x(ga,null,String(t))}function rr(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Er(t)}function yf(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(te(e))n=16;else if(typeof e=="object")if(r&65){const s=e.default;s&&(s._c&&(s._d=!1),yf(t,s()),s._c&&(s._d=!0));return}else{n=32;const s=e._;!s&&!($l in e)?e._ctx=lt:s===3&&lt&&(lt.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else de(e)?(e={default:e,_ctx:lt},n=32):(e=String(e),r&64?(n=16,e=[ER(e)]):n=8);t.children=e,t.shapeFlag|=n}function Lt(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const s in r)if(s==="class")e.class!==r.class&&(e.class=Qd([e.class,r.class]));else if(s==="style")e.style=Wd([e.style,r.style]);else if(Sl(s)){const i=e[s],o=r[s];o&&i!==o&&!(te(i)&&i.includes(o))&&(e[s]=i?[].concat(i,o):o)}else s!==""&&(e[s]=r[s])}return e}function _n(t,e,n,r=null){Zt(t,e,7,[n,r])}const IR=qv();let wR=0;function TR(t,e,n){const r=t.type,s=(e?e.appContext:t.appContext)||IR,i={uid:wR++,vnode:t,type:r,parent:e,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,scope:new lv(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(s.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Hv(r,s),emitsOptions:Dv(r,s),emit:null,emitted:null,propsDefaults:Fe,inheritAttrs:r.inheritAttrs,ctx:Fe,data:Fe,props:Fe,attrs:Fe,slots:Fe,refs:Fe,setupState:Fe,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=RA.bind(null,i),t.ce&&t.ce(i),i}let st=null;const vf=()=>st||lt;let Ef,Ss,Mg="__VUE_INSTANCE_SETTERS__";(Ss=Ah()[Mg])||(Ss=Ah()[Mg]=[]),Ss.push(t=>st=t),Ef=t=>{Ss.length>1?Ss.forEach(e=>e(t)):Ss[0](t)};const ri=t=>{Ef(t),t.scope.on()},Xr=()=>{st&&st.scope.off(),Ef(null)};function Zv(t){return t.vnode.shapeFlag&4}let Lo=!1;function bR(t,e=!1){Lo=e;const{props:n,children:r}=t.vnode,s=Zv(t);sR(t,n,s,e),aR(t,r);const i=s?AR(t,e):void 0;return Lo=!1,i}function AR(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=Dl(new Proxy(t.ctx,QA));const{setup:r}=n;if(r){const s=t.setupContext=r.length>1?PR(t):null;ri(t),Ti();const i=mr(r,t,0,[t.props,s]);if(bi(),Xr(),sv(i)){if(i.then(Xr,Xr),e)return i.then(o=>{Lg(t,o,e)}).catch(o=>{Ol(o,t,0)});t.asyncDep=i}else Lg(t,i,e)}else eE(t,e)}function Lg(t,e,n){de(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:De(e)&&(t.setupState=Rv(e)),eE(t,n)}let Fg;function eE(t,e,n){const r=t.type;if(!t.render){if(!e&&Fg&&!r.render){const s=r.template||mf(t).template;if(s){const{isCustomElement:i,compilerOptions:o}=t.appContext.config,{delimiters:a,compilerOptions:c}=r,l=et(et({isCustomElement:i,delimiters:a},o),c);r.render=Fg(s,l)}}t.render=r.render||an}ri(t),Ti(),YA(t),bi(),Xr()}function RR(t){return t.attrsProxy||(t.attrsProxy=new Proxy(t.attrs,{get(e,n){return Ut(t,"get","$attrs"),e[n]}}))}function PR(t){const e=n=>{t.exposed=n||{}};return{get attrs(){return RR(t)},slots:t.slots,emit:t.emit,expose:e}}function zl(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(Rv(Dl(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in ho)return ho[n](t)},has(e,n){return n in e||n in ho}}))}function SR(t,e=!0){return de(t)?t.displayName||t.name:t.name||e&&t.__name}function CR(t){return de(t)&&"__vccOpts"in t}const U=(t,e)=>EA(t,e,Lo);function Ai(t,e,n){const r=arguments.length;return r===2?De(e)&&!te(e)?Gc(e)?x(t,null,[e]):x(t,e):x(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&Gc(n)&&(n=[n]),x(t,e,n))}const xR=Symbol.for("v-scx"),kR=()=>Ze(xR),DR="3.3.4",VR="http://www.w3.org/2000/svg",jr=typeof document<"u"?document:null,Ug=jr&&jr.createElement("template"),OR={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const s=e?jr.createElementNS(VR,t):jr.createElement(t,n?{is:n}:void 0);return t==="select"&&r&&r.multiple!=null&&s.setAttribute("multiple",r.multiple),s},createText:t=>jr.createTextNode(t),createComment:t=>jr.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>jr.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,s,i){const o=n?n.previousSibling:e.lastChild;if(s&&(s===i||s.nextSibling))for(;e.insertBefore(s.cloneNode(!0),n),!(s===i||!(s=s.nextSibling)););else{Ug.innerHTML=r?`<svg>${t}</svg>`:t;const a=Ug.content;if(r){const c=a.firstChild;for(;c.firstChild;)a.appendChild(c.firstChild);a.removeChild(c)}e.insertBefore(a,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}};function NR(t,e,n){const r=t._vtc;r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}function MR(t,e,n){const r=t.style,s=He(n);if(n&&!s){if(e&&!He(e))for(const i in e)n[i]==null&&Mh(r,i,"");for(const i in n)Mh(r,i,n[i])}else{const i=r.display;s?e!==n&&(r.cssText=n):e&&t.removeAttribute("style"),"_vod"in t&&(r.display=i)}}const Bg=/\s*!important$/;function Mh(t,e,n){if(te(n))n.forEach(r=>Mh(t,e,r));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=LR(t,e);Bg.test(n)?t.setProperty(Ii(r),n.replace(Bg,""),"important"):t[r]=n}}const $g=["Webkit","Moz","ms"],Uu={};function LR(t,e){const n=Uu[e];if(n)return n;let r=ln(e);if(r!=="filter"&&r in t)return Uu[e]=r;r=wi(r);for(let s=0;s<$g.length;s++){const i=$g[s]+r;if(i in t)return Uu[e]=i}return e}const jg="http://www.w3.org/1999/xlink";function FR(t,e,n,r,s){if(r&&e.startsWith("xlink:"))n==null?t.removeAttributeNS(jg,e.slice(6,e.length)):t.setAttributeNS(jg,e,n);else{const i=Ub(e);n==null||i&&!av(n)?t.removeAttribute(e):t.setAttribute(e,i?"":n)}}function UR(t,e,n,r,s,i,o){if(e==="innerHTML"||e==="textContent"){r&&o(r,s,i),t[e]=n??"";return}const a=t.tagName;if(e==="value"&&a!=="PROGRESS"&&!a.includes("-")){t._value=n;const l=a==="OPTION"?t.getAttribute("value"):t.value,u=n??"";l!==u&&(t.value=u),n==null&&t.removeAttribute(e);return}let c=!1;if(n===""||n==null){const l=typeof t[e];l==="boolean"?n=av(n):n==null&&l==="string"?(n="",c=!0):l==="number"&&(n=0,c=!0)}try{t[e]=n}catch{}c&&t.removeAttribute(e)}function Mn(t,e,n,r){t.addEventListener(e,n,r)}function BR(t,e,n,r){t.removeEventListener(e,n,r)}function $R(t,e,n,r,s=null){const i=t._vei||(t._vei={}),o=i[e];if(r&&o)o.value=r;else{const[a,c]=jR(e);if(r){const l=i[e]=KR(r,s);Mn(t,a,l,c)}else o&&(BR(t,a,o,c),i[e]=void 0)}}const zg=/(?:Once|Passive|Capture)$/;function jR(t){let e;if(zg.test(t)){e={};let r;for(;r=t.match(zg);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Ii(t.slice(2)),e]}let Bu=0;const zR=Promise.resolve(),qR=()=>Bu||(zR.then(()=>Bu=0),Bu=Date.now());function KR(t,e){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;Zt(HR(r,n.value),e,5,[r])};return n.value=t,n.attached=qR(),n}function HR(t,e){if(te(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>s=>!s._stopped&&r&&r(s))}else return e}const qg=/^on[a-z]/,GR=(t,e,n,r,s=!1,i,o,a,c)=>{e==="class"?NR(t,r,s):e==="style"?MR(t,n,r):Sl(e)?Kd(e)||$R(t,e,n,r,o):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):WR(t,e,r,s))?UR(t,e,r,i,o,a,c):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),FR(t,e,r,s))};function WR(t,e,n,r){return r?!!(e==="innerHTML"||e==="textContent"||e in t&&qg.test(e)&&de(n)):e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA"||qg.test(e)&&He(n)?!1:e in t}const Yn="transition",Li="animation",rs=(t,{slots:e})=>Ai(LA,nE(t),e);rs.displayName="Transition";const tE={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},QR=rs.props=et({},Nv,tE),Or=(t,e=[])=>{te(t)?t.forEach(n=>n(...e)):t&&t(...e)},Kg=t=>t?te(t)?t.some(e=>e.length>1):t.length>1:!1;function nE(t){const e={};for(const O in t)O in tE||(e[O]=t[O]);if(t.css===!1)return e;const{name:n="v",type:r,duration:s,enterFromClass:i=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:c=i,appearActiveClass:l=o,appearToClass:u=a,leaveFromClass:h=`${n}-leave-from`,leaveActiveClass:d=`${n}-leave-active`,leaveToClass:f=`${n}-leave-to`}=t,m=YR(s),p=m&&m[0],y=m&&m[1],{onBeforeEnter:T,onEnter:w,onEnterCancelled:v,onLeave:b,onLeaveCancelled:D,onBeforeAppear:j=T,onAppear:G=w,onAppearCancelled:R=v}=e,V=(O,Y,fe)=>{tr(O,Y?u:a),tr(O,Y?l:o),fe&&fe()},K=(O,Y)=>{O._isLeaving=!1,tr(O,h),tr(O,f),tr(O,d),Y&&Y()},J=O=>(Y,fe)=>{const Ve=O?G:w,ae=()=>V(Y,O,fe);Or(Ve,[Y,ae]),Hg(()=>{tr(Y,O?c:i),On(Y,O?u:a),Kg(Ve)||Gg(Y,r,p,ae)})};return et(e,{onBeforeEnter(O){Or(T,[O]),On(O,i),On(O,o)},onBeforeAppear(O){Or(j,[O]),On(O,c),On(O,l)},onEnter:J(!1),onAppear:J(!0),onLeave(O,Y){O._isLeaving=!0;const fe=()=>K(O,Y);On(O,h),sE(),On(O,d),Hg(()=>{O._isLeaving&&(tr(O,h),On(O,f),Kg(b)||Gg(O,r,y,fe))}),Or(b,[O,fe])},onEnterCancelled(O){V(O,!1),Or(v,[O])},onAppearCancelled(O){V(O,!0),Or(R,[O])},onLeaveCancelled(O){K(O),Or(D,[O])}})}function YR(t){if(t==null)return null;if(De(t))return[$u(t.enter),$u(t.leave)];{const e=$u(t);return[e,e]}}function $u(t){return Vb(t)}function On(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t._vtc||(t._vtc=new Set)).add(e)}function tr(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.remove(r));const{_vtc:n}=t;n&&(n.delete(e),n.size||(t._vtc=void 0))}function Hg(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let XR=0;function Gg(t,e,n,r){const s=t._endId=++XR,i=()=>{s===t._endId&&r()};if(n)return setTimeout(i,n);const{type:o,timeout:a,propCount:c}=rE(t,e);if(!o)return r();const l=o+"end";let u=0;const h=()=>{t.removeEventListener(l,d),i()},d=f=>{f.target===t&&++u>=c&&h()};setTimeout(()=>{u<c&&h()},a+1),t.addEventListener(l,d)}function rE(t,e){const n=window.getComputedStyle(t),r=m=>(n[m]||"").split(", "),s=r(`${Yn}Delay`),i=r(`${Yn}Duration`),o=Wg(s,i),a=r(`${Li}Delay`),c=r(`${Li}Duration`),l=Wg(a,c);let u=null,h=0,d=0;e===Yn?o>0&&(u=Yn,h=o,d=i.length):e===Li?l>0&&(u=Li,h=l,d=c.length):(h=Math.max(o,l),u=h>0?o>l?Yn:Li:null,d=u?u===Yn?i.length:c.length:0);const f=u===Yn&&/\b(transform|all)(,|$)/.test(r(`${Yn}Property`).toString());return{type:u,timeout:h,propCount:d,hasTransform:f}}function Wg(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,r)=>Qg(n)+Qg(t[r])))}function Qg(t){return Number(t.slice(0,-1).replace(",","."))*1e3}function sE(){return document.body.offsetHeight}const iE=new WeakMap,oE=new WeakMap,aE={name:"TransitionGroup",props:et({},QR,{tag:String,moveClass:String}),setup(t,{slots:e}){const n=vf(),r=Ov();let s,i;return Uv(()=>{if(!s.length)return;const o=t.moveClass||`${t.name||"v"}-move`;if(!nP(s[0].el,n.vnode.el,o))return;s.forEach(ZR),s.forEach(eP);const a=s.filter(tP);sE(),a.forEach(c=>{const l=c.el,u=l.style;On(l,o),u.transform=u.webkitTransform=u.transitionDuration="";const h=l._moveCb=d=>{d&&d.target!==l||(!d||/transform$/.test(d.propertyName))&&(l.removeEventListener("transitionend",h),l._moveCb=null,tr(l,o))};l.addEventListener("transitionend",h)})}),()=>{const o=ge(t),a=nE(o);let c=o.tag||ct;s=i,i=e.default?cf(e.default()):[];for(let l=0;l<i.length;l++){const u=i[l];u.key!=null&&Oo(u,Vo(u,a,r,n))}if(s)for(let l=0;l<s.length;l++){const u=s[l];Oo(u,Vo(u,a,r,n)),iE.set(u,u.el.getBoundingClientRect())}return x(c,null,i)}}},JR=t=>delete t.mode;aE.props;const mU=aE;function ZR(t){const e=t.el;e._moveCb&&e._moveCb(),e._enterCb&&e._enterCb()}function eP(t){oE.set(t,t.el.getBoundingClientRect())}function tP(t){const e=iE.get(t),n=oE.get(t),r=e.left-n.left,s=e.top-n.top;if(r||s){const i=t.el.style;return i.transform=i.webkitTransform=`translate(${r}px,${s}px)`,i.transitionDuration="0s",t}}function nP(t,e,n){const r=t.cloneNode();t._vtc&&t._vtc.forEach(o=>{o.split(/\s+/).forEach(a=>a&&r.classList.remove(a))}),n.split(/\s+/).forEach(o=>o&&r.classList.add(o)),r.style.display="none";const s=e.nodeType===1?e:e.parentNode;s.appendChild(r);const{hasTransform:i}=rE(r);return s.removeChild(r),i}const Ir=t=>{const e=t.props["onUpdate:modelValue"]||!1;return te(e)?n=>wc(e,n):e};function rP(t){t.target.composing=!0}function Yg(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Xg={created(t,{modifiers:{lazy:e,trim:n,number:r}},s){t._assign=Ir(s);const i=r||s.props&&s.props.type==="number";Mn(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;n&&(a=a.trim()),i&&(a=$c(a)),t._assign(a)}),n&&Mn(t,"change",()=>{t.value=t.value.trim()}),e||(Mn(t,"compositionstart",rP),Mn(t,"compositionend",Yg),Mn(t,"change",Yg))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,modifiers:{lazy:n,trim:r,number:s}},i){if(t._assign=Ir(i),t.composing||document.activeElement===t&&t.type!=="range"&&(n||r&&t.value.trim()===e||(s||t.type==="number")&&$c(t.value)===e))return;const o=e??"";t.value!==o&&(t.value=o)}},sP={deep:!0,created(t,e,n){t._assign=Ir(n),Mn(t,"change",()=>{const r=t._modelValue,s=si(t),i=t.checked,o=t._assign;if(te(r)){const a=Yd(r,s),c=a!==-1;if(i&&!c)o(r.concat(s));else if(!i&&c){const l=[...r];l.splice(a,1),o(l)}}else if(Ei(r)){const a=new Set(r);i?a.add(s):a.delete(s),o(a)}else o(cE(t,i))})},mounted:Jg,beforeUpdate(t,e,n){t._assign=Ir(n),Jg(t,e,n)}};function Jg(t,{value:e,oldValue:n},r){t._modelValue=e,te(e)?t.checked=Yd(e,r.props.value)>-1:Ei(e)?t.checked=e.has(r.props.value):e!==n&&(t.checked=ns(e,cE(t,!0)))}const iP={created(t,{value:e},n){t.checked=ns(e,n.props.value),t._assign=Ir(n),Mn(t,"change",()=>{t._assign(si(t))})},beforeUpdate(t,{value:e,oldValue:n},r){t._assign=Ir(r),e!==n&&(t.checked=ns(e,r.props.value))}},oP={deep:!0,created(t,{value:e,modifiers:{number:n}},r){const s=Ei(e);Mn(t,"change",()=>{const i=Array.prototype.filter.call(t.options,o=>o.selected).map(o=>n?$c(si(o)):si(o));t._assign(t.multiple?s?new Set(i):i:i[0])}),t._assign=Ir(r)},mounted(t,{value:e}){Zg(t,e)},beforeUpdate(t,e,n){t._assign=Ir(n)},updated(t,{value:e}){Zg(t,e)}};function Zg(t,e){const n=t.multiple;if(!(n&&!te(e)&&!Ei(e))){for(let r=0,s=t.options.length;r<s;r++){const i=t.options[r],o=si(i);if(n)te(e)?i.selected=Yd(e,o)>-1:i.selected=e.has(o);else if(ns(si(i),e)){t.selectedIndex!==r&&(t.selectedIndex=r);return}}!n&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function si(t){return"_value"in t?t._value:t.value}function cE(t,e){const n=e?"_trueValue":"_falseValue";return n in t?t[n]:e}const gU={created(t,e,n){nc(t,e,n,null,"created")},mounted(t,e,n){nc(t,e,n,null,"mounted")},beforeUpdate(t,e,n,r){nc(t,e,n,r,"beforeUpdate")},updated(t,e,n,r){nc(t,e,n,r,"updated")}};function aP(t,e){switch(t){case"SELECT":return oP;case"TEXTAREA":return Xg;default:switch(e){case"checkbox":return sP;case"radio":return iP;default:return Xg}}}function nc(t,e,n,r,s){const o=aP(t.tagName,n.props&&n.props.type)[s];o&&o(t,e,n,r)}const cP=["ctrl","shift","alt","meta"],lP={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>cP.some(n=>t[`${n}Key`]&&!e.includes(n))},pU=(t,e)=>(n,...r)=>{for(let s=0;s<e.length;s++){const i=lP[e[s]];if(i&&i(n,e))return}return t(n,...r)},lE={beforeMount(t,{value:e},{transition:n}){t._vod=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):Fi(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:r}){!e!=!n&&(r?e?(r.beforeEnter(t),Fi(t,!0),r.enter(t)):r.leave(t,()=>{Fi(t,!1)}):Fi(t,e))},beforeUnmount(t,{value:e}){Fi(t,e)}};function Fi(t,e){t.style.display=e?t._vod:"none"}const uP=et({patchProp:GR},OR);let ep;function hP(){return ep||(ep=lR(uP))}const dP=(...t)=>{const e=hP().createApp(...t),{mount:n}=e;return e.mount=r=>{const s=fP(r);if(!s)return;const i=e._component;!de(i)&&!i.render&&!i.template&&(i.template=s.innerHTML),s.innerHTML="";const o=n(s,!1,s instanceof SVGElement);return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),o},e};function fP(t){return He(t)?document.querySelector(t):t}var mP=!1;/*!
 * pinia v2.1.6
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */let uE;const ql=t=>uE=t,hE=Symbol();function Lh(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var go;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(go||(go={}));function gP(){const t=ma(!0),e=t.run(()=>Me({}));let n=[],r=[];const s=Dl({install(i){ql(s),s._a=i,i.provide(hE,s),i.config.globalProperties.$pinia=s,r.forEach(o=>n.push(o)),r=[]},use(i){return!this._a&&!mP?r.push(i):n.push(i),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return s}const dE=()=>{};function tp(t,e,n,r=dE){t.push(e);const s=()=>{const i=t.indexOf(e);i>-1&&(t.splice(i,1),r())};return!n&&uv()&&Ht(s),s}function Cs(t,...e){t.slice().forEach(n=>{n(...e)})}const pP=t=>t();function Fh(t,e){t instanceof Map&&e instanceof Map&&e.forEach((n,r)=>t.set(r,n)),t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const n in e){if(!e.hasOwnProperty(n))continue;const r=e[n],s=t[n];Lh(s)&&Lh(r)&&t.hasOwnProperty(n)&&!Oe(r)&&!fr(r)?t[n]=Fh(s,r):t[n]=r}return t}const _P=Symbol();function yP(t){return!Lh(t)||!t.hasOwnProperty(_P)}const{assign:nr}=Object;function vP(t){return!!(Oe(t)&&t.effect)}function EP(t,e,n,r){const{state:s,actions:i,getters:o}=e,a=n.state.value[t];let c;function l(){a||(n.state.value[t]=s?s():{});const u=Vl(n.state.value[t]);return nr(u,i,Object.keys(o||{}).reduce((h,d)=>(h[d]=Dl(U(()=>{ql(n);const f=n._s.get(t);return o[d].call(f,f)})),h),{}))}return c=fE(t,l,e,n,r,!0),c}function fE(t,e,n={},r,s,i){let o;const a=nr({actions:{}},n),c={deep:!0};let l,u,h=[],d=[],f;const m=r.state.value[t];!i&&!m&&(r.state.value[t]={}),Me({});let p;function y(R){let V;l=u=!1,typeof R=="function"?(R(r.state.value[t]),V={type:go.patchFunction,storeId:t,events:f}):(Fh(r.state.value[t],R),V={type:go.patchObject,payload:R,storeId:t,events:f});const K=p=Symbol();fn().then(()=>{p===K&&(l=!0)}),u=!0,Cs(h,V,r.state.value[t])}const T=i?function(){const{state:V}=n,K=V?V():{};this.$patch(J=>{nr(J,K)})}:dE;function w(){o.stop(),h=[],d=[],r._s.delete(t)}function v(R,V){return function(){ql(r);const K=Array.from(arguments),J=[],O=[];function Y(ae){J.push(ae)}function fe(ae){O.push(ae)}Cs(d,{args:K,name:R,store:D,after:Y,onError:fe});let Ve;try{Ve=V.apply(this&&this.$id===t?this:D,K)}catch(ae){throw Cs(O,ae),ae}return Ve instanceof Promise?Ve.then(ae=>(Cs(J,ae),ae)).catch(ae=>(Cs(O,ae),Promise.reject(ae))):(Cs(J,Ve),Ve)}}const b={_p:r,$id:t,$onAction:tp.bind(null,d),$patch:y,$reset:T,$subscribe(R,V={}){const K=tp(h,R,V.detached,()=>J()),J=o.run(()=>ke(()=>r.state.value[t],O=>{(V.flush==="sync"?u:l)&&R({storeId:t,type:go.direct,events:f},O)},nr({},c,V)));return K},$dispose:w},D=kn(b);r._s.set(t,D);const j=r._a&&r._a.runWithContext||pP,G=r._e.run(()=>(o=ma(),j(()=>o.run(e))));for(const R in G){const V=G[R];if(Oe(V)&&!vP(V)||fr(V))i||(m&&yP(V)&&(Oe(V)?V.value=m[R]:Fh(V,m[R])),r.state.value[t][R]=V);else if(typeof V=="function"){const K=v(R,V);G[R]=K,a.actions[R]=V}}return nr(D,G),nr(ge(D),G),Object.defineProperty(D,"$state",{get:()=>r.state.value[t],set:R=>{y(V=>{nr(V,R)})}}),r._p.forEach(R=>{nr(D,o.run(()=>R({store:D,app:r._a,pinia:r,options:a})))}),m&&i&&n.hydrate&&n.hydrate(D.$state,m),l=!0,u=!0,D}function IP(t,e,n){let r,s;const i=typeof e=="function";typeof t=="string"?(r=t,s=i?n:e):(s=t,r=t.id);function o(a,c){const l=rR();return a=a||(l?Ze(hE,null):null),a&&ql(a),a=uE,a._s.has(r)||(i?fE(r,e,s,a):EP(r,s,a)),a._s.get(r)}return o.$id=r,o}const wP="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOEAAADhCAMAAAAJbSJIAAAAM1BMVEXk5ueutLfn6eqrsbTp6+zg4uOwtrnJzc/j5earsbW0uby4vcDQ09XGyszU19jd3+G/xMamCvwDAAAFLklEQVR4nO2d2bLbIAxAbYE3sDH//7WFbPfexG4MiCAcnWmnrzkjIRaD2jQMwzAMwzAMwzAMwzAMwzAMwzAMwzAMwzAMwzAMw5wQkHJczewxZh2lhNK/CBOQo1n0JIT74/H/qMV0Z7GU3aCcVPuEE1XDCtVLAhgtpme7H0s1N1U7QjO0L8F7llzGeh1hEG/8Lo7TUmmuSrOfns9xnGXpXxsONPpA/B6OqqstjC6Ax/0ujkNdYQQbKNi2k64qiiEZ+ohi35X+2YcZw/WujmslYewiAliVYrxgJYrdwUmwXsU+RdApUi83oNIE27YvrfB/ZPg8+BJETXnqh9CVzBbTQHgojgiCvtqU9thFJg/CKz3VIMKMEkIXxIWqIpIg2SkjYj+xC816mrJae2aiWGykxRNsW0UwiJghJDljYI5CD8GRiCtIsJxizYUPQ2pzItZy5pcisTRdk/a9m4amtNNfBuQkdVhSaYqfpNTSFGfb9GRIakrE2Pm+GFLaCQPqiu0OpWP+HMPQQcgQMiQprWXNmsVwIjQjYi/ZrhAqNTCgr2gu0Jnz85RSSjso0HkMFZ0YZjKkc26a/jlmh9JiDyDxi9oeorTYAzZkwwoMz19pzj9bnH/GP/+qbchjSGflneWYhtTuKdMOmNKZcJ5TjInQKcYXnESd/jQxy0ENpULTNGOGgxpap/oyw9pbUAqhfx2Dbkhovvfgz4iUzoM9+GlK6/Mh4q29hyC1mwro30hpVVLPF9wYQr71RazOeM5/cw81iBRD+A03aM9/C/obbrKjbYSpCmIVG3qT/Q8oeUo3Rz0IL7vI1tEbCB9pSiu8I/aV8x3Kg/BGWrWp4ZVs0nZfmAoEG4h/61yHYIJiFSl6Q0Vk6tTW1N8kYp8hdOkfHYYMXd2Qft+8CYwqYDSKvqIh+MCF8Wgca2u/cwdgeW3TtuVn6+1oBs3yLo5C2JpK6CvQzGpfUkz9UG/87gCsi5o2LIXolxN0FbwAsjOLEr+YJmXn7iR6N0BCt5p5cMxm7eAsfS+/CACQf4CTpKjzgkvr2cVarVTf96372yut7XLJ1sa7lv6VcfgYrWaxqr3Wlo1S6pvStr22sxOtTNPLzdY3nj20bPP+ejFdJYkLsjGLdtPBEbe/mr2bQKiXWJDroA+vtzc0p9aahuwqHMDYrQEXHEw9jwQl3drMpts9JBU1SdktPe5FBRdJQ6bwXBpa57ib2A8kukQDzMjh++Uo7Fo6Wd02Pkf4fknqoo4HtvAIjsqUcjx6DIPgWCaOML9rKI/oqD9/lgNrn+eF+p7j8tnzHBiR7+kdUGw/+V1Kzkc75mMy6U+FMaxjPibiM1U1uGM+puInHpmALZCgP4pt7i840MV8+0R1zPsRB6UTcqpizncYwZ89syDydfyWCwXB1l8/zRNGWbTG/GHKUm9AkxHMc/EGSk3z2+ArEhPEV5TUBLEvUGFcjEUH80J/jveTGOAJEljJbILWGQT3zRYiwuKsUXN1EEJAzBhRJFll7mBUG7KD8EqPkKekBREaL8hMDZLQSG6AQjtHPYmvTQnX0TtpC1SYCe2YdkkyLP3jj5BSbKiuR585eQhTgoje6yIb0Yb0C+mV6EYvebqw5SDy2WmubogZiF2AVxPC2FpDf8H2Q9QWo6IkjUxTWVEI3WY/wrCeSuqJ+eRWzXR/JXwgVjUMozbCOfoEZiSiKVGepqv5CJ8RyR4D7xBeamqa7z3BJ/z17JxuBPdv93d/a2Ki878MMAzDMAzDMAzDMAzDMF/KP09VUmxBAiI3AAAAAElFTkSuQmCC";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mE=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},TP=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],c=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},gE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,c=s+2<t.length,l=c?t[s+2]:0,u=i>>2,h=(i&3)<<4|a>>4;let d=(a&15)<<2|l>>6,f=l&63;c||(f=64,o||(d=64)),r.push(n[u],n[h],n[d],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(mE(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):TP(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const l=s<t.length?n[t.charAt(s)]:64;++s;const h=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||l==null||h==null)throw new bP;const d=i<<2|a>>4;if(r.push(d),l!==64){const f=a<<4&240|l>>2;if(r.push(f),h!==64){const m=l<<6&192|h;r.push(m)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class bP extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const AP=function(t){const e=mE(t);return gE.encodeByteArray(e,!0)},Wc=function(t){return AP(t).replace(/\./g,"")},pE=function(t){try{return gE.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RP(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PP=()=>RP().__FIREBASE_DEFAULTS__,SP=()=>{if(typeof process>"u"||typeof{}>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},CP=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&pE(t[1]);return e&&JSON.parse(e)},Kl=()=>{try{return PP()||SP()||CP()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},_E=t=>{var e,n;return(n=(e=Kl())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},yE=t=>{const e=_E(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},vE=()=>{var t;return(t=Kl())===null||t===void 0?void 0:t.config},EE=t=>{var e;return(e=Kl())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xP{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IE(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[Wc(JSON.stringify(n)),Wc(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function it(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function kP(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(it())}function wE(){var t;const e=(t=Kl())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function DP(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function VP(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function OP(){const t=it();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function NP(){return!wE()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function TE(){try{return typeof indexedDB=="object"}catch{return!1}}function MP(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LP="FirebaseError";class Dn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=LP,Object.setPrototypeOf(this,Dn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,pa.prototype.create)}}class pa{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?FP(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new Dn(s,a,r)}}function FP(t,e){return t.replace(UP,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const UP=/\{\$([^}]+)}/g;function BP(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Fo(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(np(i)&&np(o)){if(!Fo(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function np(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _a(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function to(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function no(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function $P(t,e){const n=new jP(t,e);return n.subscribe.bind(n)}class jP{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");zP(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=ju),s.error===void 0&&(s.error=ju),s.complete===void 0&&(s.complete=ju);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function zP(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function ju(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $e(t){return t&&t._delegate?t._delegate:t}class wr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qP{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new xP;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(HP(e))try{this.getOrInitializeService({instanceIdentifier:Fr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Fr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Fr){return this.instances.has(e)}getOptions(e=Fr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:KP(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Fr){return this.component?this.component.multipleInstances?e:Fr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function KP(t){return t===Fr?void 0:t}function HP(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GP{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new qP(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _e;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(_e||(_e={}));const WP={debug:_e.DEBUG,verbose:_e.VERBOSE,info:_e.INFO,warn:_e.WARN,error:_e.ERROR,silent:_e.SILENT},QP=_e.INFO,YP={[_e.DEBUG]:"log",[_e.VERBOSE]:"log",[_e.INFO]:"info",[_e.WARN]:"warn",[_e.ERROR]:"error"},XP=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=YP[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class If{constructor(e){this.name=e,this._logLevel=QP,this._logHandler=XP,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in _e))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?WP[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,_e.DEBUG,...e),this._logHandler(this,_e.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,_e.VERBOSE,...e),this._logHandler(this,_e.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,_e.INFO,...e),this._logHandler(this,_e.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,_e.WARN,...e),this._logHandler(this,_e.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,_e.ERROR,...e),this._logHandler(this,_e.ERROR,...e)}}const JP=(t,e)=>e.some(n=>t instanceof n);let rp,sp;function ZP(){return rp||(rp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function eS(){return sp||(sp=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const bE=new WeakMap,Uh=new WeakMap,AE=new WeakMap,zu=new WeakMap,wf=new WeakMap;function tS(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(pr(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&bE.set(n,t)}).catch(()=>{}),wf.set(e,t),e}function nS(t){if(Uh.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Uh.set(t,e)}let Bh={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Uh.get(t);if(e==="objectStoreNames")return t.objectStoreNames||AE.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return pr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function rS(t){Bh=t(Bh)}function sS(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(qu(this),e,...n);return AE.set(r,e.sort?e.sort():[e]),pr(r)}:eS().includes(t)?function(...e){return t.apply(qu(this),e),pr(bE.get(this))}:function(...e){return pr(t.apply(qu(this),e))}}function iS(t){return typeof t=="function"?sS(t):(t instanceof IDBTransaction&&nS(t),JP(t,ZP())?new Proxy(t,Bh):t)}function pr(t){if(t instanceof IDBRequest)return tS(t);if(zu.has(t))return zu.get(t);const e=iS(t);return e!==t&&(zu.set(t,e),wf.set(e,t)),e}const qu=t=>wf.get(t);function oS(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=pr(o);return r&&o.addEventListener("upgradeneeded",c=>{r(pr(o.result),c.oldVersion,c.newVersion,pr(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{i&&c.addEventListener("close",()=>i()),s&&c.addEventListener("versionchange",l=>s(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}const aS=["get","getKey","getAll","getAllKeys","count"],cS=["put","add","delete","clear"],Ku=new Map;function ip(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Ku.get(e))return Ku.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=cS.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||aS.includes(n)))return;const i=async function(o,...a){const c=this.transaction(o,s?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(a.shift())),(await Promise.all([l[n](...a),s&&c.done]))[0]};return Ku.set(e,i),i}rS(t=>({...t,get:(e,n,r)=>ip(e,n)||t.get(e,n,r),has:(e,n)=>!!ip(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(uS(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function uS(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const $h="@firebase/app",op="0.9.18";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ss=new If("@firebase/app"),hS="@firebase/app-compat",dS="@firebase/analytics-compat",fS="@firebase/analytics",mS="@firebase/app-check-compat",gS="@firebase/app-check",pS="@firebase/auth",_S="@firebase/auth-compat",yS="@firebase/database",vS="@firebase/database-compat",ES="@firebase/functions",IS="@firebase/functions-compat",wS="@firebase/installations",TS="@firebase/installations-compat",bS="@firebase/messaging",AS="@firebase/messaging-compat",RS="@firebase/performance",PS="@firebase/performance-compat",SS="@firebase/remote-config",CS="@firebase/remote-config-compat",xS="@firebase/storage",kS="@firebase/storage-compat",DS="@firebase/firestore",VS="@firebase/firestore-compat",OS="firebase",NS="10.3.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jh="[DEFAULT]",MS={[$h]:"fire-core",[hS]:"fire-core-compat",[fS]:"fire-analytics",[dS]:"fire-analytics-compat",[gS]:"fire-app-check",[mS]:"fire-app-check-compat",[pS]:"fire-auth",[_S]:"fire-auth-compat",[yS]:"fire-rtdb",[vS]:"fire-rtdb-compat",[ES]:"fire-fn",[IS]:"fire-fn-compat",[wS]:"fire-iid",[TS]:"fire-iid-compat",[bS]:"fire-fcm",[AS]:"fire-fcm-compat",[RS]:"fire-perf",[PS]:"fire-perf-compat",[SS]:"fire-rc",[CS]:"fire-rc-compat",[xS]:"fire-gcs",[kS]:"fire-gcs-compat",[DS]:"fire-fst",[VS]:"fire-fst-compat","fire-js":"fire-js",[OS]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qc=new Map,zh=new Map;function LS(t,e){try{t.container.addComponent(e)}catch(n){ss.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function is(t){const e=t.name;if(zh.has(e))return ss.debug(`There were multiple attempts to register component ${e}.`),!1;zh.set(e,t);for(const n of Qc.values())LS(n,t);return!0}function ya(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},_r=new pa("app","Firebase",FS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class US{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new wr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw _r.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _s=NS;function RE(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:jh,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw _r.create("bad-app-name",{appName:String(s)});if(n||(n=vE()),!n)throw _r.create("no-options");const i=Qc.get(s);if(i){if(Fo(n,i.options)&&Fo(r,i.config))return i;throw _r.create("duplicate-app",{appName:s})}const o=new GP(s);for(const c of zh.values())o.addComponent(c);const a=new US(n,r,o);return Qc.set(s,a),a}function Tf(t=jh){const e=Qc.get(t);if(!e&&t===jh&&vE())return RE();if(!e)throw _r.create("no-app",{appName:t});return e}function Rn(t,e,n){var r;let s=(r=MS[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ss.warn(a.join(" "));return}is(new wr(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BS="firebase-heartbeat-database",$S=1,Uo="firebase-heartbeat-store";let Hu=null;function PE(){return Hu||(Hu=oS(BS,$S,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Uo)}}}).catch(t=>{throw _r.create("idb-open",{originalErrorMessage:t.message})})),Hu}async function jS(t){try{return await(await PE()).transaction(Uo).objectStore(Uo).get(SE(t))}catch(e){if(e instanceof Dn)ss.warn(e.message);else{const n=_r.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ss.warn(n.message)}}}async function ap(t,e){try{const r=(await PE()).transaction(Uo,"readwrite");await r.objectStore(Uo).put(e,SE(t)),await r.done}catch(n){if(n instanceof Dn)ss.warn(n.message);else{const r=_r.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ss.warn(r.message)}}}function SE(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zS=1024,qS=30*24*60*60*1e3;class KS{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new GS(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=cp();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(s=>s.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const i=new Date(s.date).valueOf();return Date.now()-i<=qS}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=cp(),{heartbeatsToSend:n,unsentEntries:r}=HS(this._heartbeatsCache.heartbeats),s=Wc(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function cp(){return new Date().toISOString().substring(0,10)}function HS(t,e=zS){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),lp(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),lp(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class GS{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return TE()?MP().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await jS(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return ap(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return ap(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function lp(t){return Wc(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WS(t){is(new wr("platform-logger",e=>new lS(e),"PRIVATE")),is(new wr("heartbeat",e=>new KS(e),"PRIVATE")),Rn($h,op,t),Rn($h,op,"esm2017"),Rn("fire-js","")}WS("");var QS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},q,bf=bf||{},ce=QS||self;function Hl(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function va(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function YS(t){return Object.prototype.hasOwnProperty.call(t,Gu)&&t[Gu]||(t[Gu]=++XS)}var Gu="closure_uid_"+(1e9*Math.random()>>>0),XS=0;function JS(t,e,n){return t.call.apply(t.bind,arguments)}function ZS(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,r),t.apply(e,s)}}return function(){return t.apply(e,arguments)}}function bt(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?bt=JS:bt=ZS,bt.apply(null,arguments)}function rc(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function dt(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,s,i){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[s].apply(r,o)}}function Sr(){this.s=this.s,this.o=this.o}var eC=0;Sr.prototype.s=!1;Sr.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),eC!=0)&&YS(this)};Sr.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const CE=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Af(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function up(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Hl(r)){const s=t.length||0,i=r.length||0;t.length=s+i;for(let o=0;o<i;o++)t[s+o]=r[o]}else t.push(r)}}function At(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}At.prototype.h=function(){this.defaultPrevented=!0};var tC=function(){if(!ce.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{ce.addEventListener("test",()=>{},e),ce.removeEventListener("test",()=>{},e)}catch{}return t}();function Bo(t){return/^[\s\xa0]*$/.test(t)}function Gl(){var t=ce.navigator;return t&&(t=t.userAgent)?t:""}function En(t){return Gl().indexOf(t)!=-1}function Rf(t){return Rf[" "](t),t}Rf[" "]=function(){};function nC(t,e){var n=WC;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var rC=En("Opera"),ii=En("Trident")||En("MSIE"),xE=En("Edge"),qh=xE||ii,kE=En("Gecko")&&!(Gl().toLowerCase().indexOf("webkit")!=-1&&!En("Edge"))&&!(En("Trident")||En("MSIE"))&&!En("Edge"),sC=Gl().toLowerCase().indexOf("webkit")!=-1&&!En("Edge");function DE(){var t=ce.document;return t?t.documentMode:void 0}var Kh;e:{var Wu="",Qu=function(){var t=Gl();if(kE)return/rv:([^\);]+)(\)|;)/.exec(t);if(xE)return/Edge\/([\d\.]+)/.exec(t);if(ii)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(sC)return/WebKit\/(\S+)/.exec(t);if(rC)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(Qu&&(Wu=Qu?Qu[1]:""),ii){var Yu=DE();if(Yu!=null&&Yu>parseFloat(Wu)){Kh=String(Yu);break e}}Kh=Wu}var Hh;if(ce.document&&ii){var hp=DE();Hh=hp||parseInt(Kh,10)||void 0}else Hh=void 0;var iC=Hh;function $o(t,e){if(At.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(kE){e:{try{Rf(e.nodeName);var s=!0;break e}catch{}s=!1}s||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:oC[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&$o.$.h.call(this)}}dt($o,At);var oC={2:"touch",3:"pen",4:"mouse"};$o.prototype.h=function(){$o.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Ea="closure_listenable_"+(1e6*Math.random()|0),aC=0;function cC(t,e,n,r,s){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=s,this.key=++aC,this.fa=this.ia=!1}function Wl(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function Pf(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function lC(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function VE(t){const e={};for(const n in t)e[n]=t[n];return e}const dp="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function OE(t,e){let n,r;for(let s=1;s<arguments.length;s++){r=arguments[s];for(n in r)t[n]=r[n];for(let i=0;i<dp.length;i++)n=dp[i],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Ql(t){this.src=t,this.g={},this.h=0}Ql.prototype.add=function(t,e,n,r,s){var i=t.toString();t=this.g[i],t||(t=this.g[i]=[],this.h++);var o=Wh(t,e,r,s);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new cC(e,this.src,i,!!r,s),e.ia=n,t.push(e)),e};function Gh(t,e){var n=e.type;if(n in t.g){var r=t.g[n],s=CE(r,e),i;(i=0<=s)&&Array.prototype.splice.call(r,s,1),i&&(Wl(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Wh(t,e,n,r){for(var s=0;s<t.length;++s){var i=t[s];if(!i.fa&&i.listener==e&&i.capture==!!n&&i.la==r)return s}return-1}var Sf="closure_lm_"+(1e6*Math.random()|0),Xu={};function NE(t,e,n,r,s){if(r&&r.once)return LE(t,e,n,r,s);if(Array.isArray(e)){for(var i=0;i<e.length;i++)NE(t,e[i],n,r,s);return null}return n=kf(n),t&&t[Ea]?t.O(e,n,va(r)?!!r.capture:!!r,s):ME(t,e,n,!1,r,s)}function ME(t,e,n,r,s,i){if(!e)throw Error("Invalid event type");var o=va(s)?!!s.capture:!!s,a=xf(t);if(a||(t[Sf]=a=new Ql(t)),n=a.add(e,n,r,o,i),n.proxy)return n;if(r=uC(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)tC||(s=o),s===void 0&&(s=!1),t.addEventListener(e.toString(),r,s);else if(t.attachEvent)t.attachEvent(UE(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function uC(){function t(n){return e.call(t.src,t.listener,n)}const e=hC;return t}function LE(t,e,n,r,s){if(Array.isArray(e)){for(var i=0;i<e.length;i++)LE(t,e[i],n,r,s);return null}return n=kf(n),t&&t[Ea]?t.P(e,n,va(r)?!!r.capture:!!r,s):ME(t,e,n,!0,r,s)}function FE(t,e,n,r,s){if(Array.isArray(e))for(var i=0;i<e.length;i++)FE(t,e[i],n,r,s);else r=va(r)?!!r.capture:!!r,n=kf(n),t&&t[Ea]?(t=t.i,e=String(e).toString(),e in t.g&&(i=t.g[e],n=Wh(i,n,r,s),-1<n&&(Wl(i[n]),Array.prototype.splice.call(i,n,1),i.length==0&&(delete t.g[e],t.h--)))):t&&(t=xf(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Wh(e,n,r,s)),(n=-1<t?e[t]:null)&&Cf(n))}function Cf(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Ea])Gh(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(UE(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=xf(e))?(Gh(n,t),n.h==0&&(n.src=null,e[Sf]=null)):Wl(t)}}}function UE(t){return t in Xu?Xu[t]:Xu[t]="on"+t}function hC(t,e){if(t.fa)t=!0;else{e=new $o(e,this);var n=t.listener,r=t.la||t.src;t.ia&&Cf(t),t=n.call(r,e)}return t}function xf(t){return t=t[Sf],t instanceof Ql?t:null}var Ju="__closure_events_fn_"+(1e9*Math.random()>>>0);function kf(t){return typeof t=="function"?t:(t[Ju]||(t[Ju]=function(e){return t.handleEvent(e)}),t[Ju])}function ht(){Sr.call(this),this.i=new Ql(this),this.S=this,this.J=null}dt(ht,Sr);ht.prototype[Ea]=!0;ht.prototype.removeEventListener=function(t,e,n,r){FE(this,t,e,n,r)};function yt(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new At(e,t);else if(e instanceof At)e.target=e.target||t;else{var s=e;e=new At(r,t),OE(e,s)}if(s=!0,n)for(var i=n.length-1;0<=i;i--){var o=e.g=n[i];s=sc(o,r,!0,e)&&s}if(o=e.g=t,s=sc(o,r,!0,e)&&s,s=sc(o,r,!1,e)&&s,n)for(i=0;i<n.length;i++)o=e.g=n[i],s=sc(o,r,!1,e)&&s}ht.prototype.N=function(){if(ht.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Wl(n[r]);delete t.g[e],t.h--}}this.J=null};ht.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};ht.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function sc(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var s=!0,i=0;i<e.length;++i){var o=e[i];if(o&&!o.fa&&o.capture==n){var a=o.listener,c=o.la||o.src;o.ia&&Gh(t.i,o),s=a.call(c,r)!==!1&&s}}return s&&!r.defaultPrevented}var Df=ce.JSON.stringify;class dC{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function fC(){var t=Vf;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class mC{constructor(){this.h=this.g=null}add(e,n){const r=BE.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var BE=new dC(()=>new gC,t=>t.reset());class gC{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function pC(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function _C(t){ce.setTimeout(()=>{throw t},0)}let jo,zo=!1,Vf=new mC,$E=()=>{const t=ce.Promise.resolve(void 0);jo=()=>{t.then(yC)}};var yC=()=>{for(var t;t=fC();){try{t.h.call(t.g)}catch(n){_C(n)}var e=BE;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}zo=!1};function Yl(t,e){ht.call(this),this.h=t||1,this.g=e||ce,this.j=bt(this.qb,this),this.l=Date.now()}dt(Yl,ht);q=Yl.prototype;q.ga=!1;q.T=null;q.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),yt(this,"tick"),this.ga&&(Of(this),this.start()))}};q.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Of(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}q.N=function(){Yl.$.N.call(this),Of(this),delete this.g};function Nf(t,e,n){if(typeof t=="function")n&&(t=bt(t,n));else if(t&&typeof t.handleEvent=="function")t=bt(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:ce.setTimeout(t,e||0)}function jE(t){t.g=Nf(()=>{t.g=null,t.i&&(t.i=!1,jE(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class vC extends Sr{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:jE(this)}N(){super.N(),this.g&&(ce.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function qo(t){Sr.call(this),this.h=t,this.g={}}dt(qo,Sr);var fp=[];function zE(t,e,n,r){Array.isArray(n)||(n&&(fp[0]=n.toString()),n=fp);for(var s=0;s<n.length;s++){var i=NE(e,n[s],r||t.handleEvent,!1,t.h||t);if(!i)break;t.g[i.key]=i}}function qE(t){Pf(t.g,function(e,n){this.g.hasOwnProperty(n)&&Cf(e)},t),t.g={}}qo.prototype.N=function(){qo.$.N.call(this),qE(this)};qo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Xl(){this.g=!0}Xl.prototype.Ea=function(){this.g=!1};function EC(t,e,n,r,s,i){t.info(function(){if(t.g)if(i)for(var o="",a=i.split("&"),c=0;c<a.length;c++){var l=a[c].split("=");if(1<l.length){var u=l[0];l=l[1];var h=u.split("_");o=2<=h.length&&h[1]=="type"?o+(u+"="+l+"&"):o+(u+"=redacted&")}}else o=null;else o=i;return"XMLHTTP REQ ("+r+") [attempt "+s+"]: "+e+`
`+n+`
`+o})}function IC(t,e,n,r,s,i,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+s+"]: "+e+`
`+n+`
`+i+" "+o})}function qs(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+TC(t,n)+(r?" "+r:"")})}function wC(t,e){t.info(function(){return"TIMEOUT: "+e})}Xl.prototype.info=function(){};function TC(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var s=r[1];if(Array.isArray(s)&&!(1>s.length)){var i=s[0];if(i!="noop"&&i!="stop"&&i!="close")for(var o=1;o<s.length;o++)s[o]=""}}}}return Df(n)}catch{return e}}var ys={},mp=null;function Jl(){return mp=mp||new ht}ys.Ta="serverreachability";function KE(t){At.call(this,ys.Ta,t)}dt(KE,At);function Ko(t){const e=Jl();yt(e,new KE(e))}ys.STAT_EVENT="statevent";function HE(t,e){At.call(this,ys.STAT_EVENT,t),this.stat=e}dt(HE,At);function xt(t){const e=Jl();yt(e,new HE(e,t))}ys.Ua="timingevent";function GE(t,e){At.call(this,ys.Ua,t),this.size=e}dt(GE,At);function Ia(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return ce.setTimeout(function(){t()},e)}var Zl={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},WE={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Mf(){}Mf.prototype.h=null;function gp(t){return t.h||(t.h=t.i())}function QE(){}var wa={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Lf(){At.call(this,"d")}dt(Lf,At);function Ff(){At.call(this,"c")}dt(Ff,At);var Qh;function eu(){}dt(eu,Mf);eu.prototype.g=function(){return new XMLHttpRequest};eu.prototype.i=function(){return{}};Qh=new eu;function Ta(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new qo(this),this.P=bC,t=qh?125:void 0,this.V=new Yl(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new YE}function YE(){this.i=null,this.g="",this.h=!1}var bC=45e3,Yh={},Yc={};q=Ta.prototype;q.setTimeout=function(t){this.P=t};function Xh(t,e,n){t.L=1,t.v=nu(Kn(e)),t.s=n,t.S=!0,XE(t,null)}function XE(t,e){t.G=Date.now(),ba(t),t.A=Kn(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),iI(n.i,"t",r),t.C=0,n=t.l.J,t.h=new YE,t.g=RI(t.l,n?e:null,!t.s),0<t.O&&(t.M=new vC(bt(t.Pa,t,t.g),t.O)),zE(t.U,t.g,"readystatechange",t.nb),e=t.I?VE(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),Ko(),EC(t.j,t.u,t.A,t.m,t.W,t.s)}q.nb=function(t){t=t.target;const e=this.M;e&&In(t)==3?e.l():this.Pa(t)};q.Pa=function(t){try{if(t==this.g)e:{const u=In(this.g);var e=this.g.Ia();const h=this.g.da();if(!(3>u)&&(u!=3||qh||this.g&&(this.h.h||this.g.ja()||vp(this.g)))){this.J||u!=4||e==7||(e==8||0>=h?Ko(3):Ko(2)),tu(this);var n=this.g.da();this.ca=n;t:if(JE(this)){var r=vp(this.g);t="";var s=r.length,i=In(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Wr(this),po(this);var o="";break t}this.h.i=new ce.TextDecoder}for(e=0;e<s;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:i&&e==s-1});r.splice(0,s),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,IC(this.j,this.u,this.A,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Bo(a)){var l=a;break t}}l=null}if(n=l)qs(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Jh(this,n);else{this.i=!1,this.o=3,xt(12),Wr(this),po(this);break e}}this.S?(ZE(this,u,o),qh&&this.i&&u==3&&(zE(this.U,this.V,"tick",this.mb),this.V.start())):(qs(this.j,this.m,o,null),Jh(this,o)),u==4&&Wr(this),this.i&&!this.J&&(u==4?wI(this.l,this):(this.i=!1,ba(this)))}else KC(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.o=3,xt(12)):(this.o=0,xt(13)),Wr(this),po(this)}}}catch{}finally{}};function JE(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function ZE(t,e,n){let r=!0,s;for(;!t.J&&t.C<n.length;)if(s=AC(t,n),s==Yc){e==4&&(t.o=4,xt(14),r=!1),qs(t.j,t.m,null,"[Incomplete Response]");break}else if(s==Yh){t.o=4,xt(15),qs(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else qs(t.j,t.m,s,null),Jh(t,s);JE(t)&&s!=Yc&&s!=Yh&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,xt(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),qf(e),e.M=!0,xt(11))):(qs(t.j,t.m,n,"[Invalid Chunked Response]"),Wr(t),po(t))}q.mb=function(){if(this.g){var t=In(this.g),e=this.g.ja();this.C<e.length&&(tu(this),ZE(this,t,e),this.i&&t!=4&&ba(this))}};function AC(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?Yc:(n=Number(e.substring(n,r)),isNaN(n)?Yh:(r+=1,r+n>e.length?Yc:(e=e.slice(r,r+n),t.C=r+n,e)))}q.cancel=function(){this.J=!0,Wr(this)};function ba(t){t.Y=Date.now()+t.P,eI(t,t.P)}function eI(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=Ia(bt(t.lb,t),e)}function tu(t){t.B&&(ce.clearTimeout(t.B),t.B=null)}q.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(wC(this.j,this.A),this.L!=2&&(Ko(),xt(17)),Wr(this),this.o=2,po(this)):eI(this,this.Y-t)};function po(t){t.l.H==0||t.J||wI(t.l,t)}function Wr(t){tu(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,Of(t.V),qE(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function Jh(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||Zh(n.i,t))){if(!t.K&&Zh(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var s=r;if(s[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Zc(n),ou(n);else break e;zf(n),xt(18)}}else n.Fa=s[1],0<n.Fa-n.V&&37500>s[2]&&n.G&&n.A==0&&!n.v&&(n.v=Ia(bt(n.ib,n),6e3));if(1>=cI(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Qr(n,11)}else if((t.K||n.g==t)&&Zc(n),!Bo(e))for(s=n.Ja.g.parse(e),e=0;e<s.length;e++){let l=s[e];if(n.V=l[0],l=l[1],n.H==2)if(l[0]=="c"){n.K=l[1],n.pa=l[2];const u=l[3];u!=null&&(n.ra=u,n.l.info("VER="+n.ra));const h=l[4];h!=null&&(n.Ga=h,n.l.info("SVER="+n.Ga));const d=l[5];d!=null&&typeof d=="number"&&0<d&&(r=1.5*d,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const m=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(m){var i=r.i;i.g||m.indexOf("spdy")==-1&&m.indexOf("quic")==-1&&m.indexOf("h2")==-1||(i.j=i.l,i.g=new Set,i.h&&(Uf(i,i.h),i.h=null))}if(r.F){const p=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;p&&(r.Da=p,Ue(r.I,r.F,p))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=AI(r,r.J?r.pa:null,r.Y),o.K){lI(r.i,o);var a=o,c=r.L;c&&a.setTimeout(c),a.B&&(tu(a),ba(a)),r.g=o}else EI(r);0<n.j.length&&au(n)}else l[0]!="stop"&&l[0]!="close"||Qr(n,7);else n.H==3&&(l[0]=="stop"||l[0]=="close"?l[0]=="stop"?Qr(n,7):jf(n):l[0]!="noop"&&n.h&&n.h.Aa(l),n.A=0)}}Ko(4)}catch{}}function RC(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Hl(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function PC(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Hl(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function tI(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Hl(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=PC(t),r=RC(t),s=r.length,i=0;i<s;i++)e.call(void 0,r[i],n&&n[i],t)}var nI=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function SC(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),s=null;if(0<=r){var i=t[n].substring(0,r);s=t[n].substring(r+1)}else i=t[n];e(i,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}function Jr(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Jr){this.h=t.h,Xc(this,t.j),this.s=t.s,this.g=t.g,Jc(this,t.m),this.l=t.l;var e=t.i,n=new Ho;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),pp(this,n),this.o=t.o}else t&&(e=String(t).match(nI))?(this.h=!1,Xc(this,e[1]||"",!0),this.s=ro(e[2]||""),this.g=ro(e[3]||"",!0),Jc(this,e[4]),this.l=ro(e[5]||"",!0),pp(this,e[6]||"",!0),this.o=ro(e[7]||"")):(this.h=!1,this.i=new Ho(null,this.h))}Jr.prototype.toString=function(){var t=[],e=this.j;e&&t.push(so(e,_p,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(so(e,_p,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(so(n,n.charAt(0)=="/"?kC:xC,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",so(n,VC)),t.join("")};function Kn(t){return new Jr(t)}function Xc(t,e,n){t.j=n?ro(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Jc(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function pp(t,e,n){e instanceof Ho?(t.i=e,OC(t.i,t.h)):(n||(e=so(e,DC)),t.i=new Ho(e,t.h))}function Ue(t,e,n){t.i.set(e,n)}function nu(t){return Ue(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function ro(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function so(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,CC),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function CC(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var _p=/[#\/\?@]/g,xC=/[#\?:]/g,kC=/[#\?]/g,DC=/[#\?@]/g,VC=/#/g;function Ho(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Cr(t){t.g||(t.g=new Map,t.h=0,t.i&&SC(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}q=Ho.prototype;q.add=function(t,e){Cr(this),this.i=null,t=Ri(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function rI(t,e){Cr(t),e=Ri(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function sI(t,e){return Cr(t),e=Ri(t,e),t.g.has(e)}q.forEach=function(t,e){Cr(this),this.g.forEach(function(n,r){n.forEach(function(s){t.call(e,s,r,this)},this)},this)};q.ta=function(){Cr(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const s=t[r];for(let i=0;i<s.length;i++)n.push(e[r])}return n};q.Z=function(t){Cr(this);let e=[];if(typeof t=="string")sI(this,t)&&(e=e.concat(this.g.get(Ri(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};q.set=function(t,e){return Cr(this),this.i=null,t=Ri(this,t),sI(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};q.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function iI(t,e,n){rI(t,e),0<n.length&&(t.i=null,t.g.set(Ri(t,e),Af(n)),t.h+=n.length)}q.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const i=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var s=i;o[r]!==""&&(s+="="+encodeURIComponent(String(o[r]))),t.push(s)}}return this.i=t.join("&")};function Ri(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function OC(t,e){e&&!t.j&&(Cr(t),t.i=null,t.g.forEach(function(n,r){var s=r.toLowerCase();r!=s&&(rI(this,r),iI(this,s,n))},t)),t.j=e}var NC=class{constructor(t,e){this.g=t,this.map=e}};function oI(t){this.l=t||MC,ce.PerformanceNavigationTiming?(t=ce.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(ce.g&&ce.g.Ka&&ce.g.Ka()&&ce.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var MC=10;function aI(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function cI(t){return t.h?1:t.g?t.g.size:0}function Zh(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Uf(t,e){t.g?t.g.add(e):t.h=e}function lI(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}oI.prototype.cancel=function(){if(this.i=uI(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function uI(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return Af(t.i)}var LC=class{stringify(t){return ce.JSON.stringify(t,void 0)}parse(t){return ce.JSON.parse(t,void 0)}};function FC(){this.g=new LC}function UC(t,e,n){const r=n||"";try{tI(t,function(s,i){let o=s;va(s)&&(o=Df(s)),e.push(r+i+"="+encodeURIComponent(o))})}catch(s){throw e.push(r+"type="+encodeURIComponent("_badmap")),s}}function BC(t,e){const n=new Xl;if(ce.Image){const r=new Image;r.onload=rc(ic,n,r,"TestLoadImage: loaded",!0,e),r.onerror=rc(ic,n,r,"TestLoadImage: error",!1,e),r.onabort=rc(ic,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=rc(ic,n,r,"TestLoadImage: timeout",!1,e),ce.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function ic(t,e,n,r,s){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,s(r)}catch{}}function ru(t){this.l=t.fc||null,this.j=t.ob||!1}dt(ru,Mf);ru.prototype.g=function(){return new su(this.l,this.j)};ru.prototype.i=function(t){return function(){return t}}({});function su(t,e){ht.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=Bf,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}dt(su,ht);var Bf=0;q=su.prototype;q.open=function(t,e){if(this.readyState!=Bf)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Go(this)};q.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||ce).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};q.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Aa(this)),this.readyState=Bf};q.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Go(this)),this.g&&(this.readyState=3,Go(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof ce.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;hI(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function hI(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}q.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Aa(this):Go(this),this.readyState==3&&hI(this)}};q.Za=function(t){this.g&&(this.response=this.responseText=t,Aa(this))};q.Ya=function(t){this.g&&(this.response=t,Aa(this))};q.ka=function(){this.g&&Aa(this)};function Aa(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Go(t)}q.setRequestHeader=function(t,e){this.v.append(t,e)};q.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};q.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Go(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(su.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var $C=ce.JSON.parse;function Ge(t){ht.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=dI,this.L=this.M=!1}dt(Ge,ht);var dI="",jC=/^https?$/i,zC=["POST","PUT"];q=Ge.prototype;q.Oa=function(t){this.M=t};q.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Qh.g(),this.C=this.u?gp(this.u):gp(Qh),this.g.onreadystatechange=bt(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(i){yp(this,i);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)n.set(s,r[s]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const i of r.keys())n.set(i,r.get(i));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(i=>i.toLowerCase()=="content-type"),s=ce.FormData&&t instanceof ce.FormData,!(0<=CE(zC,e))||r||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,o]of n)this.g.setRequestHeader(i,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{gI(this),0<this.B&&((this.L=qC(this.g))?(this.g.timeout=this.B,this.g.ontimeout=bt(this.ua,this)):this.A=Nf(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(i){yp(this,i)}};function qC(t){return ii&&typeof t.timeout=="number"&&t.ontimeout!==void 0}q.ua=function(){typeof bf<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,yt(this,"timeout"),this.abort(8))};function yp(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,fI(t),iu(t)}function fI(t){t.F||(t.F=!0,yt(t,"complete"),yt(t,"error"))}q.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,yt(this,"complete"),yt(this,"abort"),iu(this))};q.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),iu(this,!0)),Ge.$.N.call(this)};q.La=function(){this.s||(this.G||this.v||this.l?mI(this):this.kb())};q.kb=function(){mI(this)};function mI(t){if(t.h&&typeof bf<"u"&&(!t.C[1]||In(t)!=4||t.da()!=2)){if(t.v&&In(t)==4)Nf(t.La,0,t);else if(yt(t,"readystatechange"),In(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var s=String(t.I).match(nI)[1]||null;!s&&ce.self&&ce.self.location&&(s=ce.self.location.protocol.slice(0,-1)),r=!jC.test(s?s.toLowerCase():"")}n=r}if(n)yt(t,"complete"),yt(t,"success");else{t.m=6;try{var i=2<In(t)?t.g.statusText:""}catch{i=""}t.j=i+" ["+t.da()+"]",fI(t)}}finally{iu(t)}}}}function iu(t,e){if(t.g){gI(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||yt(t,"ready");try{n.onreadystatechange=r}catch{}}}function gI(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(ce.clearTimeout(t.A),t.A=null)}q.isActive=function(){return!!this.g};function In(t){return t.g?t.g.readyState:0}q.da=function(){try{return 2<In(this)?this.g.status:-1}catch{return-1}};q.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};q.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),$C(e)}};function vp(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case dI:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function KC(t){const e={};t=(t.g&&2<=In(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(Bo(t[r]))continue;var n=pC(t[r]);const s=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const i=e[s]||[];e[s]=i,i.push(n)}lC(e,function(r){return r.join(", ")})}q.Ia=function(){return this.m};q.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function pI(t){let e="";return Pf(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function $f(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=pI(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Ue(t,e,n))}function Ui(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function _I(t){this.Ga=0,this.j=[],this.l=new Xl,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Ui("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Ui("baseRetryDelayMs",5e3,t),this.hb=Ui("retryDelaySeedMs",1e4,t),this.eb=Ui("forwardChannelMaxRetries",2,t),this.xa=Ui("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new oI(t&&t.concurrentRequestLimit),this.Ja=new FC,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}q=_I.prototype;q.ra=8;q.H=1;function jf(t){if(yI(t),t.H==3){var e=t.W++,n=Kn(t.I);if(Ue(n,"SID",t.K),Ue(n,"RID",e),Ue(n,"TYPE","terminate"),Ra(t,n),e=new Ta(t,t.l,e),e.L=2,e.v=nu(Kn(n)),n=!1,ce.navigator&&ce.navigator.sendBeacon)try{n=ce.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&ce.Image&&(new Image().src=e.v,n=!0),n||(e.g=RI(e.l,null),e.g.ha(e.v)),e.G=Date.now(),ba(e)}bI(t)}function ou(t){t.g&&(qf(t),t.g.cancel(),t.g=null)}function yI(t){ou(t),t.u&&(ce.clearTimeout(t.u),t.u=null),Zc(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&ce.clearTimeout(t.m),t.m=null)}function au(t){if(!aI(t.i)&&!t.m){t.m=!0;var e=t.Na;jo||$E(),zo||(jo(),zo=!0),Vf.add(e,t),t.C=0}}function HC(t,e){return cI(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=Ia(bt(t.Na,t,e),TI(t,t.C)),t.C++,!0)}q.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const s=new Ta(this,this.l,t);let i=this.s;if(this.U&&(i?(i=VE(i),OE(i,this.U)):i=this.U),this.o!==null||this.O||(s.I=i,i=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=vI(this,s,e),n=Kn(this.I),Ue(n,"RID",t),Ue(n,"CVER",22),this.F&&Ue(n,"X-HTTP-Session-Id",this.F),Ra(this,n),i&&(this.O?e="headers="+encodeURIComponent(String(pI(i)))+"&"+e:this.o&&$f(n,this.o,i)),Uf(this.i,s),this.bb&&Ue(n,"TYPE","init"),this.P?(Ue(n,"$req",e),Ue(n,"SID","null"),s.aa=!0,Xh(s,n,null)):Xh(s,n,e),this.H=2}}else this.H==3&&(t?Ep(this,t):this.j.length==0||aI(this.i)||Ep(this))};function Ep(t,e){var n;e?n=e.m:n=t.W++;const r=Kn(t.I);Ue(r,"SID",t.K),Ue(r,"RID",n),Ue(r,"AID",t.V),Ra(t,r),t.o&&t.s&&$f(r,t.o,t.s),n=new Ta(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=vI(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),Uf(t.i,n),Xh(n,r,e)}function Ra(t,e){t.na&&Pf(t.na,function(n,r){Ue(e,r,n)}),t.h&&tI({},function(n,r){Ue(e,r,n)})}function vI(t,e,n){n=Math.min(t.j.length,n);var r=t.h?bt(t.h.Va,t.h,t):null;e:{var s=t.j;let i=-1;for(;;){const o=["count="+n];i==-1?0<n?(i=s[0].g,o.push("ofs="+i)):i=0:o.push("ofs="+i);let a=!0;for(let c=0;c<n;c++){let l=s[c].g;const u=s[c].map;if(l-=i,0>l)i=Math.max(0,s[c].g-100),a=!1;else try{UC(u,o,"req"+l+"_")}catch{r&&r(u)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function EI(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;jo||$E(),zo||(jo(),zo=!0),Vf.add(e,t),t.A=0}}function zf(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=Ia(bt(t.Ma,t),TI(t,t.A)),t.A++,!0)}q.Ma=function(){if(this.u=null,II(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Ia(bt(this.jb,this),t)}};q.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,xt(10),ou(this),II(this))};function qf(t){t.B!=null&&(ce.clearTimeout(t.B),t.B=null)}function II(t){t.g=new Ta(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=Kn(t.wa);Ue(e,"RID","rpc"),Ue(e,"SID",t.K),Ue(e,"AID",t.V),Ue(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Ue(e,"TO",t.qa),Ue(e,"TYPE","xmlhttp"),Ra(t,e),t.o&&t.s&&$f(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=nu(Kn(e)),n.s=null,n.S=!0,XE(n,t)}q.ib=function(){this.v!=null&&(this.v=null,ou(this),zf(this),xt(19))};function Zc(t){t.v!=null&&(ce.clearTimeout(t.v),t.v=null)}function wI(t,e){var n=null;if(t.g==e){Zc(t),qf(t),t.g=null;var r=2}else if(Zh(t.i,e))n=e.F,lI(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.G;var s=t.C;r=Jl(),yt(r,new GE(r,n)),au(t)}else EI(t);else if(s=e.o,s==3||s==0&&0<e.ca||!(r==1&&HC(t,e)||r==2&&zf(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),s){case 1:Qr(t,5);break;case 4:Qr(t,10);break;case 3:Qr(t,6);break;default:Qr(t,2)}}}function TI(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Qr(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=bt(t.pb,t);n||(n=new Jr("//www.google.com/images/cleardot.gif"),ce.location&&ce.location.protocol=="http"||Xc(n,"https"),nu(n)),BC(n.toString(),r)}else xt(2);t.H=0,t.h&&t.h.za(e),bI(t),yI(t)}q.pb=function(t){t?(this.l.info("Successfully pinged google.com"),xt(2)):(this.l.info("Failed to ping google.com"),xt(1))};function bI(t){if(t.H=0,t.ma=[],t.h){const e=uI(t.i);(e.length!=0||t.j.length!=0)&&(up(t.ma,e),up(t.ma,t.j),t.i.i.length=0,Af(t.j),t.j.length=0),t.h.ya()}}function AI(t,e,n){var r=n instanceof Jr?Kn(n):new Jr(n);if(r.g!="")e&&(r.g=e+"."+r.g),Jc(r,r.m);else{var s=ce.location;r=s.protocol,e=e?e+"."+s.hostname:s.hostname,s=+s.port;var i=new Jr(null);r&&Xc(i,r),e&&(i.g=e),s&&Jc(i,s),n&&(i.l=n),r=i}return n=t.F,e=t.Da,n&&e&&Ue(r,n,e),Ue(r,"VER",t.ra),Ra(t,r),r}function RI(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new Ge(new ru({ob:!0})):new Ge(t.va),e.Oa(t.J),e}q.isActive=function(){return!!this.h&&this.h.isActive(this)};function PI(){}q=PI.prototype;q.Ba=function(){};q.Aa=function(){};q.za=function(){};q.ya=function(){};q.isActive=function(){return!0};q.Va=function(){};function el(){if(ii&&!(10<=Number(iC)))throw Error("Environmental error: no available transport.")}el.prototype.g=function(t,e){return new Gt(t,e)};function Gt(t,e){ht.call(this),this.g=new _I(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Bo(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Bo(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Pi(this)}dt(Gt,ht);Gt.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;xt(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=AI(t,null,t.Y),au(t)};Gt.prototype.close=function(){jf(this.g)};Gt.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=Df(t),t=n);e.j.push(new NC(e.fb++,t)),e.H==3&&au(e)};Gt.prototype.N=function(){this.g.h=null,delete this.j,jf(this.g),delete this.g,Gt.$.N.call(this)};function SI(t){Lf.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}dt(SI,Lf);function CI(){Ff.call(this),this.status=1}dt(CI,Ff);function Pi(t){this.g=t}dt(Pi,PI);Pi.prototype.Ba=function(){yt(this.g,"a")};Pi.prototype.Aa=function(t){yt(this.g,new SI(t))};Pi.prototype.za=function(t){yt(this.g,new CI)};Pi.prototype.ya=function(){yt(this.g,"b")};function GC(){this.blockSize=-1}function un(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}dt(un,GC);un.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Zu(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var s=0;16>s;++s)r[s]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(s=0;16>s;++s)r[s]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],s=t.g[2];var i=t.g[3],o=e+(i^n&(s^i))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[1]+3905402710&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[2]+606105819&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[3]+3250441966&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(i^n&(s^i))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[5]+1200080426&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[6]+2821735955&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[7]+4249261313&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(i^n&(s^i))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[9]+2336552879&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[10]+4294925233&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[11]+2304563134&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(i^n&(s^i))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[13]+4254626195&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[14]+2792965006&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[15]+1236535329&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(s^i&(n^s))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[6]+3225465664&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[11]+643717713&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[0]+3921069994&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(s^i&(n^s))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[10]+38016083&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[15]+3634488961&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[4]+3889429448&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(s^i&(n^s))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[14]+3275163606&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[3]+4107603335&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[8]+1163531501&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(s^i&(n^s))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[2]+4243563512&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[7]+1735328473&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[12]+2368359562&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(n^s^i)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[8]+2272392833&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[11]+1839030562&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[14]+4259657740&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(n^s^i)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[4]+1272893353&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[7]+4139469664&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[10]+3200236656&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(n^s^i)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[0]+3936430074&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[3]+3572445317&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[6]+76029189&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(n^s^i)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[12]+3873151461&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[15]+530742520&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[2]+3299628645&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(s^(n|~i))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[7]+1126891415&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[14]+2878612391&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[5]+4237533241&4294967295,n=s+(o<<21&4294967295|o>>>11),o=e+(s^(n|~i))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[3]+2399980690&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[10]+4293915773&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[1]+2240044497&4294967295,n=s+(o<<21&4294967295|o>>>11),o=e+(s^(n|~i))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[15]+4264355552&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[6]+2734768916&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[13]+1309151649&4294967295,n=s+(o<<21&4294967295|o>>>11),o=e+(s^(n|~i))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[11]+3174756917&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[2]+718787259&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(s+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+s&4294967295,t.g[3]=t.g[3]+i&4294967295}un.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,s=this.h,i=0;i<e;){if(s==0)for(;i<=n;)Zu(this,t,i),i+=this.blockSize;if(typeof t=="string"){for(;i<e;)if(r[s++]=t.charCodeAt(i++),s==this.blockSize){Zu(this,r),s=0;break}}else for(;i<e;)if(r[s++]=t[i++],s==this.blockSize){Zu(this,r),s=0;break}}this.h=s,this.i+=e};un.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function Ce(t,e){this.h=e;for(var n=[],r=!0,s=t.length-1;0<=s;s--){var i=t[s]|0;r&&i==e||(n[s]=i,r=!1)}this.g=n}var WC={};function Kf(t){return-128<=t&&128>t?nC(t,function(e){return new Ce([e|0],0>e?-1:0)}):new Ce([t|0],0>t?-1:0)}function wn(t){if(isNaN(t)||!isFinite(t))return Ys;if(0>t)return pt(wn(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=ed;return new Ce(e,0)}function xI(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return pt(xI(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=wn(Math.pow(e,8)),r=Ys,s=0;s<t.length;s+=8){var i=Math.min(8,t.length-s),o=parseInt(t.substring(s,s+i),e);8>i?(i=wn(Math.pow(e,i)),r=r.R(i).add(wn(o))):(r=r.R(n),r=r.add(wn(o)))}return r}var ed=4294967296,Ys=Kf(0),td=Kf(1),Ip=Kf(16777216);q=Ce.prototype;q.ea=function(){if(Yt(this))return-pt(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:ed+r)*e,e*=ed}return t};q.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Ln(this))return"0";if(Yt(this))return"-"+pt(this).toString(t);for(var e=wn(Math.pow(t,6)),n=this,r="";;){var s=nl(n,e).g;n=tl(n,s.R(e));var i=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=s,Ln(n))return i+r;for(;6>i.length;)i="0"+i;r=i+r}};q.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function Ln(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Yt(t){return t.h==-1}q.X=function(t){return t=tl(this,t),Yt(t)?-1:Ln(t)?0:1};function pt(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Ce(n,~t.h).add(td)}q.abs=function(){return Yt(this)?pt(this):this};q.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,s=0;s<=e;s++){var i=r+(this.D(s)&65535)+(t.D(s)&65535),o=(i>>>16)+(this.D(s)>>>16)+(t.D(s)>>>16);r=o>>>16,i&=65535,o&=65535,n[s]=o<<16|i}return new Ce(n,n[n.length-1]&-2147483648?-1:0)};function tl(t,e){return t.add(pt(e))}q.R=function(t){if(Ln(this)||Ln(t))return Ys;if(Yt(this))return Yt(t)?pt(this).R(pt(t)):pt(pt(this).R(t));if(Yt(t))return pt(this.R(pt(t)));if(0>this.X(Ip)&&0>t.X(Ip))return wn(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var s=0;s<t.g.length;s++){var i=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(s)>>>16,c=t.D(s)&65535;n[2*r+2*s]+=o*c,oc(n,2*r+2*s),n[2*r+2*s+1]+=i*c,oc(n,2*r+2*s+1),n[2*r+2*s+1]+=o*a,oc(n,2*r+2*s+1),n[2*r+2*s+2]+=i*a,oc(n,2*r+2*s+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Ce(n,0)};function oc(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Bi(t,e){this.g=t,this.h=e}function nl(t,e){if(Ln(e))throw Error("division by zero");if(Ln(t))return new Bi(Ys,Ys);if(Yt(t))return e=nl(pt(t),e),new Bi(pt(e.g),pt(e.h));if(Yt(e))return e=nl(t,pt(e)),new Bi(pt(e.g),e.h);if(30<t.g.length){if(Yt(t)||Yt(e))throw Error("slowDivide_ only works with positive integers.");for(var n=td,r=e;0>=r.X(t);)n=wp(n),r=wp(r);var s=xs(n,1),i=xs(r,1);for(r=xs(r,2),n=xs(n,2);!Ln(r);){var o=i.add(r);0>=o.X(t)&&(s=s.add(n),i=o),r=xs(r,1),n=xs(n,1)}return e=tl(t,s.R(e)),new Bi(s,e)}for(s=Ys;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),i=wn(n),o=i.R(e);Yt(o)||0<o.X(t);)n-=r,i=wn(n),o=i.R(e);Ln(i)&&(i=td),s=s.add(i),t=tl(t,o)}return new Bi(s,t)}q.gb=function(t){return nl(this,t).h};q.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Ce(n,this.h&t.h)};q.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Ce(n,this.h|t.h)};q.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Ce(n,this.h^t.h)};function wp(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Ce(n,t.h)}function xs(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,s=[],i=0;i<r;i++)s[i]=0<e?t.D(i+n)>>>e|t.D(i+n+1)<<32-e:t.D(i+n);return new Ce(s,t.h)}el.prototype.createWebChannel=el.prototype.g;Gt.prototype.send=Gt.prototype.u;Gt.prototype.open=Gt.prototype.m;Gt.prototype.close=Gt.prototype.close;Zl.NO_ERROR=0;Zl.TIMEOUT=8;Zl.HTTP_ERROR=6;WE.COMPLETE="complete";QE.EventType=wa;wa.OPEN="a";wa.CLOSE="b";wa.ERROR="c";wa.MESSAGE="d";ht.prototype.listen=ht.prototype.O;Ge.prototype.listenOnce=Ge.prototype.P;Ge.prototype.getLastError=Ge.prototype.Sa;Ge.prototype.getLastErrorCode=Ge.prototype.Ia;Ge.prototype.getStatus=Ge.prototype.da;Ge.prototype.getResponseJson=Ge.prototype.Wa;Ge.prototype.getResponseText=Ge.prototype.ja;Ge.prototype.send=Ge.prototype.ha;Ge.prototype.setWithCredentials=Ge.prototype.Oa;un.prototype.digest=un.prototype.l;un.prototype.reset=un.prototype.reset;un.prototype.update=un.prototype.j;Ce.prototype.add=Ce.prototype.add;Ce.prototype.multiply=Ce.prototype.R;Ce.prototype.modulo=Ce.prototype.gb;Ce.prototype.compare=Ce.prototype.X;Ce.prototype.toNumber=Ce.prototype.ea;Ce.prototype.toString=Ce.prototype.toString;Ce.prototype.getBits=Ce.prototype.D;Ce.fromNumber=wn;Ce.fromString=xI;var QC=function(){return new el},YC=function(){return Jl()},eh=Zl,XC=WE,JC=ys,Tp={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},ac=QE,ZC=Ge,e1=un,Xs=Ce;const bp="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}mt.UNAUTHENTICATED=new mt(null),mt.GOOGLE_CREDENTIALS=new mt("google-credentials-uid"),mt.FIRST_PARTY=new mt("first-party-uid"),mt.MOCK_USER=new mt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Si="10.3.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const os=new If("@firebase/firestore");function Fs(){return os.logLevel}function M(t,...e){if(os.logLevel<=_e.DEBUG){const n=e.map(Hf);os.debug(`Firestore (${Si}): ${t}`,...n)}}function St(t,...e){if(os.logLevel<=_e.ERROR){const n=e.map(Hf);os.error(`Firestore (${Si}): ${t}`,...n)}}function oi(t,...e){if(os.logLevel<=_e.WARN){const n=e.map(Hf);os.warn(`Firestore (${Si}): ${t}`,...n)}}function Hf(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q(t="Unexpected state"){const e=`FIRESTORE (${Si}) INTERNAL ASSERTION FAILED: `+t;throw St(e),new Error(e)}function ee(t,e){t||Q()}function le(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class L extends Dn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kI{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class t1{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(mt.UNAUTHENTICATED))}shutdown(){}}class n1{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class r1{constructor(e){this.t=e,this.currentUser=mt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const s=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let i=new cn;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new cn,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const c=i;e.enqueueRetryable(async()=>{await c.promise,await s(this.currentUser)})},a=c=>{M("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?a(c):(M("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new cn)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(M("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ee(typeof r.accessToken=="string"),new kI(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return ee(e===null||typeof e=="string"),new mt(e)}}class s1{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=mt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class i1{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new s1(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(mt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class o1{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class a1{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=i=>{i.error!=null&&M("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.R;return this.R=i.token,M("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{M("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):M("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ee(typeof n.token=="string"),this.R=n.token,new o1(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c1(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DI{static V(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=c1(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%e.length))}return r}}function he(t,e){return t<e?-1:t>e?1:0}function ai(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}function VI(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ze{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new L(A.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new L(A.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new L(A.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new L(A.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ze.fromMillis(Date.now())}static fromDate(e){return ze.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new ze(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?he(this.nanoseconds,e.nanoseconds):he(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Z(e)}static min(){return new Z(new ze(0,0))}static max(){return new Z(new ze(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{constructor(e,n,r){n===void 0?n=0:n>e.length&&Q(),r===void 0?r=e.length-n:r>e.length-n&&Q(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Wo.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Wo?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=e.get(s),o=n.get(s);if(i<o)return-1;if(i>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Re extends Wo{construct(e,n,r){return new Re(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new L(A.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Re(n)}static emptyPath(){return new Re([])}}const l1=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xe extends Wo{construct(e,n,r){return new Xe(e,n,r)}static isValidIdentifier(e){return l1.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xe.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Xe(["__name__"])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new L(A.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new L(A.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[s+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new L(A.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new L(A.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Xe(n)}static emptyPath(){return new Xe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z{constructor(e){this.path=e}static fromPath(e){return new z(Re.fromString(e))}static fromName(e){return new z(Re.fromString(e).popFirst(5))}static empty(){return new z(Re.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Re.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Re.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new z(new Re(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl{constructor(e,n,r,s){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=s}}function nd(t){return t.fields.find(e=>e.kind===2)}function Ur(t){return t.fields.filter(e=>e.kind!==2)}rl.UNKNOWN_ID=-1;class Ac{constructor(e,n){this.fieldPath=e,this.kind=n}}class Qo{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new Qo(0,Wt.min())}}function u1(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=Z.fromTimestamp(r===1e9?new ze(n+1,0):new ze(n,r));return new Wt(s,z.empty(),e)}function OI(t){return new Wt(t.readTime,t.key,-1)}class Wt{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Wt(Z.min(),z.empty(),-1)}static max(){return new Wt(Z.max(),z.empty(),-1)}}function Gf(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=z.comparator(t.documentKey,e.documentKey),n!==0?n:he(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class MI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vs(t){if(t.code!==A.FAILED_PRECONDITION||t.message!==NI)throw t;M("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Q(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new I((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof I?n:I.resolve(n)}catch(n){return I.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):I.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):I.reject(n)}static resolve(e){return new I((n,r)=>{n(e)})}static reject(e){return new I((n,r)=>{r(e)})}static waitFor(e){return new I((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},c=>r(c))}),o=!0,i===s&&n()})}static or(e){let n=I.resolve(!1);for(const r of e)n=n.next(s=>s?I.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new I((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let c=0;c<i;c++){const l=c;n(e[l]).next(u=>{o[l]=u,++a,a===i&&r(o)},u=>s(u))}})}static doWhile(e,n){return new I((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.m=new cn,this.transaction.oncomplete=()=>{this.m.resolve()},this.transaction.onabort=()=>{n.error?this.m.reject(new _o(e,n.error)):this.m.resolve()},this.transaction.onerror=r=>{const s=Wf(r.target.error);this.m.reject(new _o(e,s))}}static open(e,n,r,s){try{return new cu(n,e.transaction(s,r))}catch(i){throw new _o(n,i)}}get g(){return this.m.promise}abort(e){e&&this.m.reject(e),this.aborted||(M("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}p(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new d1(n)}}class Fn{constructor(e,n,r){this.name=e,this.version=n,this.S=r,Fn.D(it())===12.2&&St("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return M("SimpleDb","Removing database:",e),zr(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!TE())return!1;if(Fn.v())return!0;const e=it(),n=Fn.D(e),r=0<n&&n<10,s=Fn.F(e),i=0<s&&s<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||i)}static v(){var e;return typeof process<"u"&&((e={})===null||e===void 0?void 0:e.M)==="YES"}static O(e,n){return e.store(n)}static D(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static F(e){const n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}async N(e){return this.db||(M("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const s=indexedDB.open(this.name,this.version);s.onsuccess=i=>{const o=i.target.result;n(o)},s.onblocked=()=>{r(new _o(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=i=>{const o=i.target.error;o.name==="VersionError"?r(new L(A.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new L(A.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new _o(e,o))},s.onupgradeneeded=i=>{M("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',i.oldVersion);const o=i.target.result;this.S.B(o,s.transaction,i.oldVersion,this.version).next(()=>{M("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.L&&(this.db.onversionchange=n=>this.L(n)),this.db}k(e){this.L=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,s){const i=n==="readonly";let o=0;for(;;){++o;try{this.db=await this.N(e);const a=cu.open(this.db,e,i?"readonly":"readwrite",r),c=s(a).next(l=>(a.p(),l)).catch(l=>(a.abort(l),I.reject(l))).toPromise();return c.catch(()=>{}),await a.g,c}catch(a){const c=a,l=c.name!=="FirebaseError"&&o<3;if(M("SimpleDb","Transaction failed with error:",c.message,"Retrying:",l),this.close(),!l)return Promise.reject(c)}}}close(){this.db&&this.db.close(),this.db=void 0}}class h1{constructor(e){this.q=e,this.K=!1,this.$=null}get isDone(){return this.K}get U(){return this.$}set cursor(e){this.q=e}done(){this.K=!0}W(e){this.$=e}delete(){return zr(this.q.delete())}}class _o extends L{constructor(e,n){super(A.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function xr(t){return t.name==="IndexedDbTransactionError"}class d1{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(M("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(M("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),zr(r)}add(e){return M("SimpleDb","ADD",this.store.name,e,e),zr(this.store.add(e))}get(e){return zr(this.store.get(e)).next(n=>(n===void 0&&(n=null),M("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return M("SimpleDb","DELETE",this.store.name,e),zr(this.store.delete(e))}count(){return M("SimpleDb","COUNT",this.store.name),zr(this.store.count())}G(e,n){const r=this.options(e,n);if(r.index||typeof this.store.getAll!="function"){const s=this.cursor(r),i=[];return this.j(s,(o,a)=>{i.push(a)}).next(()=>i)}{const s=this.store.getAll(r.range);return new I((i,o)=>{s.onerror=a=>{o(a.target.error)},s.onsuccess=a=>{i(a.target.result)}})}}H(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new I((s,i)=>{r.onerror=o=>{i(o.target.error)},r.onsuccess=o=>{s(o.target.result)}})}J(e,n){M("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.Y=!1;const s=this.cursor(r);return this.j(s,(i,o,a)=>a.delete())}Z(e,n){let r;n?r=e:(r={},n=e);const s=this.cursor(r);return this.j(s,n)}X(e){const n=this.cursor({});return new I((r,s)=>{n.onerror=i=>{const o=Wf(i.target.error);s(o)},n.onsuccess=i=>{const o=i.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}j(e,n){const r=[];return new I((s,i)=>{e.onerror=o=>{i(o.target.error)},e.onsuccess=o=>{const a=o.target.result;if(!a)return void s();const c=new h1(a),l=n(a.primaryKey,a.value,c);if(l instanceof I){const u=l.catch(h=>(c.done(),I.reject(h)));r.push(u)}c.isDone?s():c.U===null?a.continue():a.continue(c.U)}}).next(()=>I.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.Y?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function zr(t){return new I((e,n)=>{t.onsuccess=r=>{const s=r.target.result;e(s)},t.onerror=r=>{const s=Wf(r.target.error);n(s)}})}let Ap=!1;function Wf(t){const e=Fn.D(it());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new L("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Ap||(Ap=!0,setTimeout(()=>{throw r},0)),r}}return t}class f1{constructor(e,n){this.asyncQueue=e,this.ee=n,this.task=null}start(){this.te(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}te(e){M("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{M("IndexBackiller",`Documents written: ${await this.ee.ne()}`)}catch(n){xr(n)?M("IndexBackiller","Ignoring IndexedDB error during index backfill: ",n):await vs(n)}await this.te(6e4)})}}class m1{constructor(e,n){this.localStore=e,this.persistence=n}async ne(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",n=>this.re(n,e))}re(e,n){const r=new Set;let s=n,i=!0;return I.doWhile(()=>i===!0&&s>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(o=>{if(o!==null&&!r.has(o))return M("IndexBackiller",`Processing collection: ${o}`),this.ie(e,o,s).next(a=>{s-=a,r.add(o)});i=!1})).next(()=>n-s)}ie(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(s=>this.localStore.localDocuments.getNextDocuments(e,n,s,r).next(i=>{const o=i.changes;return this.localStore.indexManager.updateIndexEntries(e,o).next(()=>this.se(s,i)).next(a=>(M("IndexBackiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,n,a))).next(()=>o.size)}))}se(e,n){let r=e;return n.changes.forEach((s,i)=>{const o=OI(i);Gf(o,r)>0&&(r=o)}),new Wt(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.oe(r),this._e=r=>n.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Xt.ae=-1;function Pa(t){return t==null}function Yo(t){return t===0&&1/t==-1/0}function g1(t){return typeof t=="number"&&Number.isInteger(t)&&!Yo(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kt(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Rp(e)),e=p1(t.get(n),e);return Rp(e)}function p1(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case"":n+="";break;default:n+=i}}return n}function Rp(t){return t+""}function Tn(t){const e=t.length;if(ee(e>=2),e===2)return ee(t.charAt(0)===""&&t.charAt(1)===""),Re.emptyPath();const n=e-2,r=[];let s="";for(let i=0;i<e;){const o=t.indexOf("",i);switch((o<0||o>n)&&Q(),t.charAt(o+1)){case"":const a=t.substring(i,o);let c;s.length===0?c=a:(s+=a,c=s,s=""),r.push(c);break;case"":s+=t.substring(i,o),s+="\0";break;case"":s+=t.substring(i,o+1);break;default:Q()}i=o+2}return new Re(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pp=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rc(t,e){return[t,kt(e)]}function LI(t,e,n){return[t,kt(e),n]}const _1={},y1=["prefixPath","collectionGroup","readTime","documentId"],v1=["prefixPath","collectionGroup","documentId"],E1=["collectionGroup","readTime","prefixPath","documentId"],I1=["canonicalId","targetId"],w1=["targetId","path"],T1=["path","targetId"],b1=["collectionId","parent"],A1=["indexId","uid"],R1=["uid","sequenceNumber"],P1=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],S1=["indexId","uid","orderedDocumentKey"],C1=["userId","collectionPath","documentId"],x1=["userId","collectionPath","largestBatchId"],k1=["userId","collectionGroup","largestBatchId"],FI=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],D1=[...FI,"documentOverlays"],UI=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],BI=UI,V1=[...BI,"indexConfiguration","indexState","indexEntries"];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rd extends MI{constructor(e,n){super(),this.ue=e,this.currentSequenceNumber=n}}function ft(t,e){const n=le(t);return Fn.O(n.ue,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sp(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Es(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function $I(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{constructor(e,n){this.comparator=e,this.root=n||gt.EMPTY}insert(e,n){return new je(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,gt.BLACK,null,null))}remove(e){return new je(this.comparator,this.root.remove(e,this.comparator).copy(null,null,gt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new cc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new cc(this.root,e,this.comparator,!1)}getReverseIterator(){return new cc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new cc(this.root,e,this.comparator,!0)}}class cc{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class gt{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??gt.RED,this.left=s??gt.EMPTY,this.right=i??gt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new gt(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return gt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return gt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,gt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,gt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Q();const e=this.left.check();if(e!==this.right.check())throw Q();return e+(this.isRed()?0:1)}}gt.EMPTY=null,gt.RED=!0,gt.BLACK=!1;gt.EMPTY=new class{constructor(){this.size=0}get key(){throw Q()}get value(){throw Q()}get color(){throw Q()}get left(){throw Q()}get right(){throw Q()}copy(e,n,r,s,i){return this}insert(e,n,r){return new gt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Le{constructor(e){this.comparator=e,this.data=new je(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Cp(this.data.getIterator())}getIteratorFrom(e){return new Cp(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Le)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Le(this.comparator);return n.data=e,n}}class Cp{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function ks(t){return t.hasNext()?t.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e){this.fields=e,e.sort(Xe.comparator)}static empty(){return new Ft([])}unionWith(e){let n=new Le(Xe.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Ft(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ai(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jI extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new jI("Invalid base64 string: "+i):i}}(e);return new Et(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new Et(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return he(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Et.EMPTY_BYTE_STRING=new Et("");const O1=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Tr(t){if(ee(!!t),typeof t=="string"){let e=0;const n=O1.exec(t);if(ee(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:qe(t.seconds),nanos:qe(t.nanos)}}function qe(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function br(t){return typeof t=="string"?Et.fromBase64String(t):Et.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qf(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Yf(t){const e=t.mapValue.fields.__previous_value__;return Qf(e)?Yf(e):e}function Xo(t){const e=Tr(t.mapValue.fields.__local_write_time__.timestampValue);return new ze(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N1{constructor(e,n,r,s,i,o,a,c,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=l}}class as{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new as("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof as&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hr={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Pc={nullValue:"NULL_VALUE"};function cs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Qf(t)?4:zI(t)?9007199254740991:10:Q()}function Cn(t,e){if(t===e)return!0;const n=cs(t);if(n!==cs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Xo(t).isEqual(Xo(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=Tr(s.timestampValue),a=Tr(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return br(s.bytesValue).isEqual(br(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return qe(s.geoPointValue.latitude)===qe(i.geoPointValue.latitude)&&qe(s.geoPointValue.longitude)===qe(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return qe(s.integerValue)===qe(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=qe(s.doubleValue),a=qe(i.doubleValue);return o===a?Yo(o)===Yo(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return ai(t.arrayValue.values||[],e.arrayValue.values||[],Cn);case 10:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(Sp(o)!==Sp(a))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(a[c]===void 0||!Cn(o[c],a[c])))return!1;return!0}(t,e);default:return Q()}}function Jo(t,e){return(t.values||[]).find(n=>Cn(n,e))!==void 0}function Ar(t,e){if(t===e)return 0;const n=cs(t),r=cs(e);if(n!==r)return he(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return he(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=qe(i.integerValue||i.doubleValue),c=qe(o.integerValue||o.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return xp(t.timestampValue,e.timestampValue);case 4:return xp(Xo(t),Xo(e));case 5:return he(t.stringValue,e.stringValue);case 6:return function(i,o){const a=br(i),c=br(o);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),c=o.split("/");for(let l=0;l<a.length&&l<c.length;l++){const u=he(a[l],c[l]);if(u!==0)return u}return he(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=he(qe(i.latitude),qe(o.latitude));return a!==0?a:he(qe(i.longitude),qe(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,o){const a=i.values||[],c=o.values||[];for(let l=0;l<a.length&&l<c.length;++l){const u=Ar(a[l],c[l]);if(u)return u}return he(a.length,c.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,o){if(i===hr.mapValue&&o===hr.mapValue)return 0;if(i===hr.mapValue)return 1;if(o===hr.mapValue)return-1;const a=i.fields||{},c=Object.keys(a),l=o.fields||{},u=Object.keys(l);c.sort(),u.sort();for(let h=0;h<c.length&&h<u.length;++h){const d=he(c[h],u[h]);if(d!==0)return d;const f=Ar(a[c[h]],l[u[h]]);if(f!==0)return f}return he(c.length,u.length)}(t.mapValue,e.mapValue);default:throw Q()}}function xp(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return he(t,e);const n=Tr(t),r=Tr(e),s=he(n.seconds,r.seconds);return s!==0?s:he(n.nanos,r.nanos)}function ci(t){return sd(t)}function sd(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Tr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return br(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return z.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=sd(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${sd(n.fields[o])}`;return s+"}"}(t.mapValue):Q()}function Zo(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function id(t){return!!t&&"integerValue"in t}function ea(t){return!!t&&"arrayValue"in t}function kp(t){return!!t&&"nullValue"in t}function Dp(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Sc(t){return!!t&&"mapValue"in t}function yo(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Es(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=yo(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=yo(t.arrayValue.values[n]);return e}return Object.assign({},t)}function zI(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}function M1(t){return"nullValue"in t?Pc:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?Zo(as.empty(),z.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?{mapValue:{}}:Q()}function L1(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?Zo(as.empty(),z.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?{mapValue:{}}:"mapValue"in t?hr:Q()}function Vp(t,e){const n=Ar(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function Op(t,e){const n=Ar(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e){this.value=e}static empty(){return new _t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Sc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=yo(n)}setAll(e){let n=Xe.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const c=this.getFieldsMap(n);this.applyChanges(c,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=yo(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Sc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Cn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Sc(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Es(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new _t(yo(this.value))}}function qI(t){const e=[];return Es(t.fields,(n,r)=>{const s=new Xe([n]);if(Sc(r)){const i=qI(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new Ft(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Be(e,0,Z.min(),Z.min(),Z.min(),_t.empty(),0)}static newFoundDocument(e,n,r,s){return new Be(e,1,n,Z.min(),r,s,0)}static newNoDocument(e,n){return new Be(e,2,n,Z.min(),Z.min(),_t.empty(),0)}static newUnknownDocument(e,n){return new Be(e,3,n,Z.min(),Z.min(),_t.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Z.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=_t.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=_t.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Z.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Be&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Be(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li{constructor(e,n){this.position=e,this.inclusive=n}}function Np(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=z.comparator(z.fromName(o.referenceValue),n.key):r=Ar(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function Mp(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Cn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(e,n="asc"){this.field=e,this.dir=n}}function F1(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KI{}class ye extends KI{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new U1(e,n,r):n==="array-contains"?new j1(e,r):n==="in"?new XI(e,r):n==="not-in"?new z1(e,r):n==="array-contains-any"?new q1(e,r):new ye(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new B1(e,r):new $1(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ar(n,this.value)):n!==null&&cs(this.value)===cs(n)&&this.matchesComparison(Ar(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Q()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Se extends KI{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new Se(e,n)}matches(e){return ui(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.le(n=>n.isInequality());return e!==null?e.field:null}le(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function ui(t){return t.op==="and"}function od(t){return t.op==="or"}function Xf(t){return HI(t)&&ui(t)}function HI(t){for(const e of t.filters)if(e instanceof Se)return!1;return!0}function ad(t){if(t instanceof ye)return t.field.canonicalString()+t.op.toString()+ci(t.value);if(Xf(t))return t.filters.map(e=>ad(e)).join(",");{const e=t.filters.map(n=>ad(n)).join(",");return`${t.op}(${e})`}}function GI(t,e){return t instanceof ye?function(r,s){return s instanceof ye&&r.op===s.op&&r.field.isEqual(s.field)&&Cn(r.value,s.value)}(t,e):t instanceof Se?function(r,s){return s instanceof Se&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&GI(o,s.filters[a]),!0):!1}(t,e):void Q()}function WI(t,e){const n=t.filters.concat(e);return Se.create(n,t.op)}function QI(t){return t instanceof ye?function(n){return`${n.field.canonicalString()} ${n.op} ${ci(n.value)}`}(t):t instanceof Se?function(n){return n.op.toString()+" {"+n.getFilters().map(QI).join(" ,")+"}"}(t):"Filter"}class U1 extends ye{constructor(e,n,r){super(e,n,r),this.key=z.fromName(r.referenceValue)}matches(e){const n=z.comparator(e.key,this.key);return this.matchesComparison(n)}}class B1 extends ye{constructor(e,n){super(e,"in",n),this.keys=YI("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class $1 extends ye{constructor(e,n){super(e,"not-in",n),this.keys=YI("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function YI(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>z.fromName(r.referenceValue))}class j1 extends ye{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return ea(n)&&Jo(n.arrayValue,this.value)}}class XI extends ye{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Jo(this.value.arrayValue,n)}}class z1 extends ye{constructor(e,n){super(e,"not-in",n)}matches(e){if(Jo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Jo(this.value.arrayValue,n)}}class q1 extends ye{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!ea(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Jo(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K1{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.he=null}}function cd(t,e=null,n=[],r=[],s=null,i=null,o=null){return new K1(t,e,n,r,s,i,o)}function ls(t){const e=le(t);if(e.he===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>ad(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Pa(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ci(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ci(r)).join(",")),e.he=n}return e.he}function Sa(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!F1(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!GI(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Mp(t.startAt,e.startAt)&&Mp(t.endAt,e.endAt)}function sl(t){return z.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function il(t,e){return t.filters.filter(n=>n instanceof ye&&n.field.isEqual(e))}function Lp(t,e,n){let r=Pc,s=!0;for(const i of il(t,e)){let o=Pc,a=!0;switch(i.op){case"<":case"<=":o=M1(i.value);break;case"==":case"in":case">=":o=i.value;break;case">":o=i.value,a=!1;break;case"!=":case"not-in":o=Pc}Vp({value:r,inclusive:s},{value:o,inclusive:a})<0&&(r=o,s=a)}if(n!==null){for(let i=0;i<t.orderBy.length;++i)if(t.orderBy[i].field.isEqual(e)){const o=n.position[i];Vp({value:r,inclusive:s},{value:o,inclusive:n.inclusive})<0&&(r=o,s=n.inclusive);break}}return{value:r,inclusive:s}}function Fp(t,e,n){let r=hr,s=!0;for(const i of il(t,e)){let o=hr,a=!0;switch(i.op){case">=":case">":o=L1(i.value),a=!1;break;case"==":case"in":case"<=":o=i.value;break;case"<":o=i.value,a=!1;break;case"!=":case"not-in":o=hr}Op({value:r,inclusive:s},{value:o,inclusive:a})>0&&(r=o,s=a)}if(n!==null){for(let i=0;i<t.orderBy.length;++i)if(t.orderBy[i].field.isEqual(e)){const o=n.position[i];Op({value:r,inclusive:s},{value:o,inclusive:n.inclusive})>0&&(r=o,s=n.inclusive);break}}return{value:r,inclusive:s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=c,this.Pe=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function H1(t,e,n,r,s,i,o,a){return new Ca(t,e,n,r,s,i,o,a)}function xa(t){return new Ca(t)}function Up(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function JI(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function Jf(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function ZI(t){return t.collectionGroup!==null}function Eo(t){const e=le(t);if(e.Pe===null){e.Pe=[];const n=Jf(e),r=JI(e);if(n!==null&&r===null)n.isKeyField()||e.Pe.push(new vo(n)),e.Pe.push(new vo(Xe.keyField(),"asc"));else{let s=!1;for(const i of e.explicitOrderBy)e.Pe.push(i),i.field.isKeyField()&&(s=!0);if(!s){const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.Pe.push(new vo(Xe.keyField(),i))}}}return e.Pe}function tn(t){const e=le(t);return e.Ie||(e.Ie=G1(e,Eo(t))),e.Ie}function G1(t,e){if(t.limitType==="F")return cd(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new vo(s.field,i)});const n=t.endAt?new li(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new li(t.startAt.position,t.startAt.inclusive):null;return cd(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function ld(t,e){e.getFirstInequalityField(),Jf(t);const n=t.filters.concat([e]);return new Ca(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function ud(t,e,n){return new Ca(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function lu(t,e){return Sa(tn(t),tn(e))&&t.limitType===e.limitType}function ew(t){return`${ls(tn(t))}|lt:${t.limitType}`}function Us(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>QI(s)).join(", ")}]`),Pa(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>ci(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>ci(s)).join(",")),`Target(${r})`}(tn(t))}; limitType=${t.limitType})`}function ka(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):z.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of Eo(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,c){const l=Np(o,a,c);return o.inclusive?l<=0:l<0}(r.startAt,Eo(r),s)||r.endAt&&!function(o,a,c){const l=Np(o,a,c);return o.inclusive?l>=0:l>0}(r.endAt,Eo(r),s))}(t,e)}function W1(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function tw(t){return(e,n)=>{let r=!1;for(const s of Eo(t)){const i=Q1(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function Q1(t,e,n){const r=t.field.isKeyField()?z.comparator(e.key,n.key):function(i,o,a){const c=o.data.field(i),l=a.data.field(i);return c!==null&&l!==null?Ar(c,l):Q()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Q()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Es(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return $I(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y1=new je(z.comparator);function qt(){return Y1}const nw=new je(z.comparator);function io(...t){let e=nw;for(const n of t)e=e.insert(n.key,n);return e}function rw(t){let e=nw;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function bn(){return Io()}function sw(){return Io()}function Io(){return new kr(t=>t.toString(),(t,e)=>t.isEqual(e))}const X1=new je(z.comparator),J1=new Le(z.comparator);function me(...t){let e=J1;for(const n of t)e=e.add(n);return e}const Z1=new Le(he);function ex(){return Z1}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iw(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Yo(e)?"-0":e}}function ow(t){return{integerValue:""+t}}function tx(t,e){return g1(e)?ow(e):iw(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uu{constructor(){this._=void 0}}function nx(t,e,n){return t instanceof hi?function(s,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&Qf(i)&&(i=Yf(i)),i&&(o.fields.__previous_value__=i),{mapValue:o}}(n,e):t instanceof di?cw(t,e):t instanceof fi?lw(t,e):function(s,i){const o=aw(s,i),a=Bp(o)+Bp(s.Te);return id(o)&&id(s.Te)?ow(a):iw(s.serializer,a)}(t,e)}function rx(t,e,n){return t instanceof di?cw(t,e):t instanceof fi?lw(t,e):n}function aw(t,e){return t instanceof ta?function(r){return id(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class hi extends uu{}class di extends uu{constructor(e){super(),this.elements=e}}function cw(t,e){const n=uw(e);for(const r of t.elements)n.some(s=>Cn(s,r))||n.push(r);return{arrayValue:{values:n}}}class fi extends uu{constructor(e){super(),this.elements=e}}function lw(t,e){let n=uw(e);for(const r of t.elements)n=n.filter(s=>!Cn(s,r));return{arrayValue:{values:n}}}class ta extends uu{constructor(e,n){super(),this.serializer=e,this.Te=n}}function Bp(t){return qe(t.integerValue||t.doubleValue)}function uw(t){return ea(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hw{constructor(e,n){this.field=e,this.transform=n}}function sx(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof di&&s instanceof di||r instanceof fi&&s instanceof fi?ai(r.elements,s.elements,Cn):r instanceof ta&&s instanceof ta?Cn(r.Te,s.Te):r instanceof hi&&s instanceof hi}(t.transform,e.transform)}class ix{constructor(e,n){this.version=e,this.transformResults=n}}class Je{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Je}static exists(e){return new Je(void 0,e)}static updateTime(e){return new Je(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Cc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class hu{}function dw(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Da(t.key,Je.none()):new Ci(t.key,t.data,Je.none());{const n=t.data,r=_t.empty();let s=new Le(Xe.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new Wn(t.key,r,new Ft(s.toArray()),Je.none())}}function ox(t,e,n){t instanceof Ci?function(s,i,o){const a=s.value.clone(),c=jp(s.fieldTransforms,i,o.transformResults);a.setAll(c),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Wn?function(s,i,o){if(!Cc(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=jp(s.fieldTransforms,i,o.transformResults),c=i.data;c.setAll(fw(s)),c.setAll(a),i.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function wo(t,e,n,r){return t instanceof Ci?function(i,o,a,c){if(!Cc(i.precondition,o))return a;const l=i.value.clone(),u=zp(i.fieldTransforms,c,o);return l.setAll(u),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof Wn?function(i,o,a,c){if(!Cc(i.precondition,o))return a;const l=zp(i.fieldTransforms,c,o),u=o.data;return u.setAll(fw(i)),u.setAll(l),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(i,o,a){return Cc(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function ax(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=aw(r.transform,s||null);i!=null&&(n===null&&(n=_t.empty()),n.set(r.field,i))}return n||null}function $p(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&ai(r,s,(i,o)=>sx(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Ci extends hu{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Wn extends hu{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function fw(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function jp(t,e,n){const r=new Map;ee(t.length===n.length);for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,rx(o,a,n[s]))}return r}function zp(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,nx(i,o,e))}return r}class Da extends hu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Zf extends hu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class em{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&ox(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=wo(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=wo(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=sw();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const c=dw(o,a);c!==null&&r.set(s.key,c),o.isValidDocument()||o.convertToNoDocument(Z.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),me())}isEqual(e){return this.batchId===e.batchId&&ai(this.mutations,e.mutations,(n,r)=>$p(n,r))&&ai(this.baseMutations,e.baseMutations,(n,r)=>$p(n,r))}}class tm{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){ee(e.mutations.length===r.length);let s=function(){return X1}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new tm(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nm{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cx{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nt,Ie;function mw(t){switch(t){default:return Q();case A.CANCELLED:case A.UNKNOWN:case A.DEADLINE_EXCEEDED:case A.RESOURCE_EXHAUSTED:case A.INTERNAL:case A.UNAVAILABLE:case A.UNAUTHENTICATED:return!1;case A.INVALID_ARGUMENT:case A.NOT_FOUND:case A.ALREADY_EXISTS:case A.PERMISSION_DENIED:case A.FAILED_PRECONDITION:case A.ABORTED:case A.OUT_OF_RANGE:case A.UNIMPLEMENTED:case A.DATA_LOSS:return!0}}function gw(t){if(t===void 0)return St("GRPC error has no .code"),A.UNKNOWN;switch(t){case nt.OK:return A.OK;case nt.CANCELLED:return A.CANCELLED;case nt.UNKNOWN:return A.UNKNOWN;case nt.DEADLINE_EXCEEDED:return A.DEADLINE_EXCEEDED;case nt.RESOURCE_EXHAUSTED:return A.RESOURCE_EXHAUSTED;case nt.INTERNAL:return A.INTERNAL;case nt.UNAVAILABLE:return A.UNAVAILABLE;case nt.UNAUTHENTICATED:return A.UNAUTHENTICATED;case nt.INVALID_ARGUMENT:return A.INVALID_ARGUMENT;case nt.NOT_FOUND:return A.NOT_FOUND;case nt.ALREADY_EXISTS:return A.ALREADY_EXISTS;case nt.PERMISSION_DENIED:return A.PERMISSION_DENIED;case nt.FAILED_PRECONDITION:return A.FAILED_PRECONDITION;case nt.ABORTED:return A.ABORTED;case nt.OUT_OF_RANGE:return A.OUT_OF_RANGE;case nt.UNIMPLEMENTED:return A.UNIMPLEMENTED;case nt.DATA_LOSS:return A.DATA_LOSS;default:return Q()}}(Ie=nt||(nt={}))[Ie.OK=0]="OK",Ie[Ie.CANCELLED=1]="CANCELLED",Ie[Ie.UNKNOWN=2]="UNKNOWN",Ie[Ie.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ie[Ie.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ie[Ie.NOT_FOUND=5]="NOT_FOUND",Ie[Ie.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ie[Ie.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ie[Ie.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ie[Ie.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ie[Ie.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ie[Ie.ABORTED=10]="ABORTED",Ie[Ie.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ie[Ie.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ie[Ie.INTERNAL=13]="INTERNAL",Ie[Ie.UNAVAILABLE=14]="UNAVAILABLE",Ie[Ie.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lx(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ux=new Xs([4294967295,4294967295],0);function qp(t){const e=lx().encode(t),n=new e1;return n.update(e),new Uint8Array(n.digest())}function Kp(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Xs([n,r],0),new Xs([s,i],0)]}class rm{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new oo(`Invalid padding: ${n}`);if(r<0)throw new oo(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new oo(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new oo(`Invalid padding when bitmap length is 0: ${n}`);this.Ae=8*e.length-n,this.Re=Xs.fromNumber(this.Ae)}Ve(e,n,r){let s=e.add(n.multiply(Xs.fromNumber(r)));return s.compare(ux)===1&&(s=new Xs([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Re).toNumber()}me(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ae===0)return!1;const n=qp(e),[r,s]=Kp(n);for(let i=0;i<this.hashCount;i++){const o=this.Ve(r,s,i);if(!this.me(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new rm(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ae===0)return;const n=qp(e),[r,s]=Kp(n);for(let i=0;i<this.hashCount;i++){const o=this.Ve(r,s,i);this.fe(o)}}fe(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class oo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class du{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Va.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new du(Z.min(),s,new je(he),qt(),me())}}class Va{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Va(r,n,me(),me(),me())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc{constructor(e,n,r,s){this.ge=e,this.removedTargetIds=n,this.key=r,this.pe=s}}class pw{constructor(e,n){this.targetId=e,this.ye=n}}class _w{constructor(e,n,r=Et.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class Hp{constructor(){this.we=0,this.Se=Wp(),this.be=Et.EMPTY_BYTE_STRING,this.De=!1,this.Ce=!0}get current(){return this.De}get resumeToken(){return this.be}get ve(){return this.we!==0}get Fe(){return this.Ce}Me(e){e.approximateByteSize()>0&&(this.Ce=!0,this.be=e)}xe(){let e=me(),n=me(),r=me();return this.Se.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:Q()}}),new Va(this.be,this.De,e,n,r)}Oe(){this.Ce=!1,this.Se=Wp()}Ne(e,n){this.Ce=!0,this.Se=this.Se.insert(e,n)}Be(e){this.Ce=!0,this.Se=this.Se.remove(e)}Le(){this.we+=1}ke(){this.we-=1}qe(){this.Ce=!0,this.De=!0}}class hx{constructor(e){this.Qe=e,this.Ke=new Map,this.$e=qt(),this.Ue=Gp(),this.We=new je(he)}Ge(e){for(const n of e.ge)e.pe&&e.pe.isFoundDocument()?this.ze(n,e.pe):this.je(n,e.key,e.pe);for(const n of e.removedTargetIds)this.je(n,e.key,e.pe)}He(e){this.forEachTarget(e,n=>{const r=this.Je(n);switch(e.state){case 0:this.Ye(n)&&r.Me(e.resumeToken);break;case 1:r.ke(),r.ve||r.Oe(),r.Me(e.resumeToken);break;case 2:r.ke(),r.ve||this.removeTarget(n);break;case 3:this.Ye(n)&&(r.qe(),r.Me(e.resumeToken));break;case 4:this.Ye(n)&&(this.Ze(n),r.Me(e.resumeToken));break;default:Q()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ke.forEach((r,s)=>{this.Ye(s)&&n(s)})}Xe(e){const n=e.targetId,r=e.ye.count,s=this.et(n);if(s){const i=s.target;if(sl(i))if(r===0){const o=new z(i.path);this.je(n,o,Be.newNoDocument(o,Z.min()))}else ee(r===1);else{const o=this.tt(n);if(o!==r){const a=this.nt(e),c=a?this.rt(a,e,o):1;if(c!==0){this.Ze(n);const l=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.We=this.We.insert(n,l)}}}}}nt(e){const n=e.ye.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=br(r).toUint8Array()}catch(c){if(c instanceof jI)return oi("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new rm(o,s,i)}catch(c){return oi(c instanceof oo?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.Ae===0?null:a}rt(e,n,r){return n.ye.count===r-this.ot(e,n.targetId)?0:2}ot(e,n){const r=this.Qe.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Qe.st(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.je(n,i,null),s++)}),s}_t(e){const n=new Map;this.Ke.forEach((i,o)=>{const a=this.et(o);if(a){if(i.current&&sl(a.target)){const c=new z(a.target.path);this.$e.get(c)!==null||this.ut(o,c)||this.je(o,c,Be.newNoDocument(c,e))}i.Fe&&(n.set(o,i.xe()),i.Oe())}});let r=me();this.Ue.forEach((i,o)=>{let a=!0;o.forEachWhile(c=>{const l=this.et(c);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.$e.forEach((i,o)=>o.setReadTime(e));const s=new du(e,n,this.We,this.$e,r);return this.$e=qt(),this.Ue=Gp(),this.We=new je(he),s}ze(e,n){if(!this.Ye(e))return;const r=this.ut(e,n.key)?2:0;this.Je(e).Ne(n.key,r),this.$e=this.$e.insert(n.key,n),this.Ue=this.Ue.insert(n.key,this.ct(n.key).add(e))}je(e,n,r){if(!this.Ye(e))return;const s=this.Je(e);this.ut(e,n)?s.Ne(n,1):s.Be(n),this.Ue=this.Ue.insert(n,this.ct(n).delete(e)),r&&(this.$e=this.$e.insert(n,r))}removeTarget(e){this.Ke.delete(e)}tt(e){const n=this.Je(e).xe();return this.Qe.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Le(e){this.Je(e).Le()}Je(e){let n=this.Ke.get(e);return n||(n=new Hp,this.Ke.set(e,n)),n}ct(e){let n=this.Ue.get(e);return n||(n=new Le(he),this.Ue=this.Ue.insert(e,n)),n}Ye(e){const n=this.et(e)!==null;return n||M("WatchChangeAggregator","Detected inactive target",e),n}et(e){const n=this.Ke.get(e);return n&&n.ve?null:this.Qe.lt(e)}Ze(e){this.Ke.set(e,new Hp),this.Qe.getRemoteKeysForTarget(e).forEach(n=>{this.je(e,n,null)})}ut(e,n){return this.Qe.getRemoteKeysForTarget(e).has(n)}}function Gp(){return new je(z.comparator)}function Wp(){return new je(z.comparator)}const dx=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),fx=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),mx=(()=>({and:"AND",or:"OR"}))();class gx{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function hd(t,e){return t.useProto3Json||Pa(e)?e:{value:e}}function mi(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function yw(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function px(t,e){return mi(t,e.toTimestamp())}function ut(t){return ee(!!t),Z.fromTimestamp(function(n){const r=Tr(n);return new ze(r.seconds,r.nanos)}(t))}function sm(t,e){return function(r){return new Re(["projects",r.projectId,"databases",r.database])}(t).child("documents").child(e).canonicalString()}function vw(t){const e=Re.fromString(t);return ee(Pw(e)),e}function na(t,e){return sm(t.databaseId,e.path)}function zn(t,e){const n=vw(e);if(n.get(1)!==t.databaseId.projectId)throw new L(A.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new L(A.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new z(Iw(n))}function dd(t,e){return sm(t.databaseId,e)}function Ew(t){const e=vw(t);return e.length===4?Re.emptyPath():Iw(e)}function ra(t){return new Re(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Iw(t){return ee(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Qp(t,e,n){return{name:na(t,e),fields:n.value.mapValue.fields}}function _x(t,e,n){const r=zn(t,e.name),s=ut(e.updateTime),i=e.createTime?ut(e.createTime):Z.min(),o=new _t({mapValue:{fields:e.fields}}),a=Be.newFoundDocument(r,s,i,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function yx(t,e){return"found"in e?function(r,s){ee(!!s.found),s.found.name,s.found.updateTime;const i=zn(r,s.found.name),o=ut(s.found.updateTime),a=s.found.createTime?ut(s.found.createTime):Z.min(),c=new _t({mapValue:{fields:s.found.fields}});return Be.newFoundDocument(i,o,a,c)}(t,e):"missing"in e?function(r,s){ee(!!s.missing),ee(!!s.readTime);const i=zn(r,s.missing),o=ut(s.readTime);return Be.newNoDocument(i,o)}(t,e):Q()}function vx(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:Q()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(l,u){return l.useProto3Json?(ee(u===void 0||typeof u=="string"),Et.fromBase64String(u||"")):(ee(u===void 0||u instanceof Uint8Array),Et.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){const u=l.code===void 0?A.UNKNOWN:gw(l.code);return new L(u,l.message||"")}(o);n=new _w(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=zn(t,r.document.name),i=ut(r.document.updateTime),o=r.document.createTime?ut(r.document.createTime):Z.min(),a=new _t({mapValue:{fields:r.document.fields}}),c=Be.newFoundDocument(s,i,o,a),l=r.targetIds||[],u=r.removedTargetIds||[];n=new xc(l,u,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=zn(t,r.document),i=r.readTime?ut(r.readTime):Z.min(),o=Be.newNoDocument(s,i),a=r.removedTargetIds||[];n=new xc([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=zn(t,r.document),i=r.removedTargetIds||[];n=new xc([],i,s,null)}else{if(!("filter"in e))return Q();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new cx(s,i),a=r.targetId;n=new pw(a,o)}}return n}function sa(t,e){let n;if(e instanceof Ci)n={update:Qp(t,e.key,e.value)};else if(e instanceof Da)n={delete:na(t,e.key)};else if(e instanceof Wn)n={update:Qp(t,e.key,e.data),updateMask:Ax(e.fieldMask)};else{if(!(e instanceof Zf))return Q();n={verify:na(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof hi)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof di)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof fi)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof ta)return{fieldPath:o.field.canonicalString(),increment:a.Te};throw Q()}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:px(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:Q()}(t,e.precondition)),n}function fd(t,e){const n=e.currentDocument?function(i){return i.updateTime!==void 0?Je.updateTime(ut(i.updateTime)):i.exists!==void 0?Je.exists(i.exists):Je.none()}(e.currentDocument):Je.none(),r=e.updateTransforms?e.updateTransforms.map(s=>function(o,a){let c=null;if("setToServerValue"in a)ee(a.setToServerValue==="REQUEST_TIME"),c=new hi;else if("appendMissingElements"in a){const u=a.appendMissingElements.values||[];c=new di(u)}else if("removeAllFromArray"in a){const u=a.removeAllFromArray.values||[];c=new fi(u)}else"increment"in a?c=new ta(o,a.increment):Q();const l=Xe.fromServerFormat(a.fieldPath);return new hw(l,c)}(t,s)):[];if(e.update){e.update.name;const s=zn(t,e.update.name),i=new _t({mapValue:{fields:e.update.fields}});if(e.updateMask){const o=function(c){const l=c.fieldPaths||[];return new Ft(l.map(u=>Xe.fromServerFormat(u)))}(e.updateMask);return new Wn(s,i,o,n,r)}return new Ci(s,i,n,r)}if(e.delete){const s=zn(t,e.delete);return new Da(s,n)}if(e.verify){const s=zn(t,e.verify);return new Zf(s,n)}return Q()}function Ex(t,e){return t&&t.length>0?(ee(e!==void 0),t.map(n=>function(s,i){let o=s.updateTime?ut(s.updateTime):ut(i);return o.isEqual(Z.min())&&(o=ut(i)),new ix(o,s.transformResults||[])}(n,e))):[]}function ww(t,e){return{documents:[dd(t,e.path)]}}function Tw(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=dd(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=dd(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const s=function(c){if(c.length!==0)return Rw(Se.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const i=function(c){if(c.length!==0)return c.map(l=>function(h){return{field:Bs(h.field),direction:wx(h.dir)}}(l))}(e.orderBy);i&&(n.structuredQuery.orderBy=i);const o=hd(t,e.limit);return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),n}function bw(t){let e=Ew(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){ee(r===1);const u=n.from[0];u.allDescendants?s=u.collectionId:e=e.child(u.collectionId)}let i=[];n.where&&(i=function(h){const d=Aw(h);return d instanceof Se&&Xf(d)?d.getFilters():[d]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(d=>function(m){return new vo($s(m.field),function(y){switch(y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(d))}(n.orderBy));let a=null;n.limit&&(a=function(h){let d;return d=typeof h=="object"?h.value:h,Pa(d)?null:d}(n.limit));let c=null;n.startAt&&(c=function(h){const d=!!h.before,f=h.values||[];return new li(f,d)}(n.startAt));let l=null;return n.endAt&&(l=function(h){const d=!h.before,f=h.values||[];return new li(f,d)}(n.endAt)),H1(e,s,o,i,a,"F",c,l)}function Ix(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Q()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Aw(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=$s(n.unaryFilter.field);return ye.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=$s(n.unaryFilter.field);return ye.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=$s(n.unaryFilter.field);return ye.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=$s(n.unaryFilter.field);return ye.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Q()}}(t):t.fieldFilter!==void 0?function(n){return ye.create($s(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Q()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Se.create(n.compositeFilter.filters.map(r=>Aw(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Q()}}(n.compositeFilter.op))}(t):Q()}function wx(t){return dx[t]}function Tx(t){return fx[t]}function bx(t){return mx[t]}function Bs(t){return{fieldPath:t.canonicalString()}}function $s(t){return Xe.fromServerFormat(t.fieldPath)}function Rw(t){return t instanceof ye?function(n){if(n.op==="=="){if(Dp(n.value))return{unaryFilter:{field:Bs(n.field),op:"IS_NAN"}};if(kp(n.value))return{unaryFilter:{field:Bs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Dp(n.value))return{unaryFilter:{field:Bs(n.field),op:"IS_NOT_NAN"}};if(kp(n.value))return{unaryFilter:{field:Bs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Bs(n.field),op:Tx(n.op),value:n.value}}}(t):t instanceof Se?function(n){const r=n.getFilters().map(s=>Rw(s));return r.length===1?r[0]:{compositeFilter:{op:bx(n.op),filters:r}}}(t):Q()}function Ax(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Pw(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e,n,r,s,i=Z.min(),o=Z.min(),a=Et.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new Un(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Un(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Un(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Un(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sw{constructor(e){this.ht=e}}function Rx(t,e){let n;if(e.document)n=_x(t.ht,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=z.fromSegments(e.noDocument.path),s=hs(e.noDocument.readTime);n=Be.newNoDocument(r,s),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return Q();{const r=z.fromSegments(e.unknownDocument.path),s=hs(e.unknownDocument.version);n=Be.newUnknownDocument(r,s)}}return e.readTime&&n.setReadTime(function(s){const i=new ze(s[0],s[1]);return Z.fromTimestamp(i)}(e.readTime)),n}function Yp(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:ol(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(i,o){return{name:na(i,o.key),fields:o.data.value.mapValue.fields,updateTime:mi(i,o.version.toTimestamp()),createTime:mi(i,o.createTime.toTimestamp())}}(t.ht,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:us(e.version)};else{if(!e.isUnknownDocument())return Q();r.unknownDocument={path:n.path.toArray(),version:us(e.version)}}return r}function ol(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function us(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function hs(t){const e=new ze(t.seconds,t.nanoseconds);return Z.fromTimestamp(e)}function qr(t,e){const n=(e.baseMutations||[]).map(i=>fd(t.ht,i));for(let i=0;i<e.mutations.length-1;++i){const o=e.mutations[i];if(i+1<e.mutations.length&&e.mutations[i+1].transform!==void 0){const a=e.mutations[i+1];o.updateTransforms=a.transform.fieldTransforms,e.mutations.splice(i+1,1),++i}}const r=e.mutations.map(i=>fd(t.ht,i)),s=ze.fromMillis(e.localWriteTimeMs);return new em(e.batchId,s,n,r)}function ao(t){const e=hs(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?hs(t.lastLimboFreeSnapshotVersion):Z.min();let r;return r=function(i){return i.documents!==void 0}(t.query)?function(i){return ee(i.documents.length===1),tn(xa(Ew(i.documents[0])))}(t.query):function(i){return tn(bw(i))}(t.query),new Un(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,Et.fromBase64String(t.resumeToken))}function Cw(t,e){const n=us(e.snapshotVersion),r=us(e.lastLimboFreeSnapshotVersion);let s;s=sl(e.target)?ww(t.ht,e.target):Tw(t.ht,e.target);const i=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:ls(e.target),readTime:n,resumeToken:i,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:s}}function xw(t){const e=bw({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?ud(e,e.limit,"L"):e}function th(t,e){return new nm(e.largestBatchId,fd(t.ht,e.overlayMutation))}function Xp(t,e){const n=e.path.lastSegment();return[t,kt(e.path.popLast()),n]}function Jp(t,e,n,r){return{indexId:t,uid:e.uid||"",sequenceNumber:n,readTime:us(r.readTime),documentKey:kt(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Px{getBundleMetadata(e,n){return Zp(e).get(n).next(r=>{if(r)return function(i){return{id:i.bundleId,createTime:hs(i.createTime),version:i.version}}(r)})}saveBundleMetadata(e,n){return Zp(e).put(function(s){return{bundleId:s.id,createTime:us(ut(s.createTime)),version:s.version}}(n))}getNamedQuery(e,n){return e_(e).get(n).next(r=>{if(r)return function(i){return{name:i.name,query:xw(i.bundledQuery),readTime:hs(i.readTime)}}(r)})}saveNamedQuery(e,n){return e_(e).put(function(s){return{name:s.name,readTime:us(ut(s.readTime)),bundledQuery:s.bundledQuery}}(n))}}function Zp(t){return ft(t,"bundles")}function e_(t){return ft(t,"namedQueries")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu{constructor(e,n){this.serializer=e,this.userId=n}static Pt(e,n){const r=n.uid||"";return new fu(e,r)}getOverlay(e,n){return $i(e).get(Xp(this.userId,n)).next(r=>r?th(this.serializer,r):null)}getOverlays(e,n){const r=bn();return I.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){const s=[];return r.forEach((i,o)=>{const a=new nm(n,o);s.push(this.It(e,a))}),I.waitFor(s)}removeOverlaysForBatchId(e,n,r){const s=new Set;n.forEach(o=>s.add(kt(o.getCollectionPath())));const i=[];return s.forEach(o=>{const a=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,r+1],!1,!0);i.push($i(e).J("collectionPathOverlayIndex",a))}),I.waitFor(i)}getOverlaysForCollection(e,n,r){const s=bn(),i=kt(n),o=IDBKeyRange.bound([this.userId,i,r],[this.userId,i,Number.POSITIVE_INFINITY],!0);return $i(e).G("collectionPathOverlayIndex",o).next(a=>{for(const c of a){const l=th(this.serializer,c);s.set(l.getKey(),l)}return s})}getOverlaysForCollectionGroup(e,n,r,s){const i=bn();let o;const a=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return $i(e).Z({index:"collectionGroupOverlayIndex",range:a},(c,l,u)=>{const h=th(this.serializer,l);i.size()<s||h.largestBatchId===o?(i.set(h.getKey(),h),o=h.largestBatchId):u.done()}).next(()=>i)}It(e,n){return $i(e).put(function(s,i,o){const[a,c,l]=Xp(i,o.mutation.key);return{userId:i,collectionPath:c,documentId:l,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:sa(s.ht,o.mutation)}}(this.serializer,this.userId,n))}}function $i(t){return ft(t,"documentOverlays")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr{constructor(){}dt(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.At(n,5);else if("booleanValue"in e)this.At(n,10),n.Rt(e.booleanValue?1:0);else if("integerValue"in e)this.At(n,15),n.Rt(qe(e.integerValue));else if("doubleValue"in e){const r=qe(e.doubleValue);isNaN(r)?this.At(n,13):(this.At(n,15),Yo(r)?n.Rt(0):n.Rt(r))}else if("timestampValue"in e){const r=e.timestampValue;this.At(n,20),typeof r=="string"?n.Vt(r):(n.Vt(`${r.seconds||""}`),n.Rt(r.nanos||0))}else if("stringValue"in e)this.ft(e.stringValue,n),this.gt(n);else if("bytesValue"in e)this.At(n,30),n.yt(br(e.bytesValue)),this.gt(n);else if("referenceValue"in e)this.wt(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.At(n,45),n.Rt(r.latitude||0),n.Rt(r.longitude||0)}else"mapValue"in e?zI(e)?this.At(n,Number.MAX_SAFE_INTEGER):(this.St(e.mapValue,n),this.gt(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.gt(n)):Q()}ft(e,n){this.At(n,25),this.Dt(e,n)}Dt(e,n){n.Vt(e)}St(e,n){const r=e.fields||{};this.At(n,55);for(const s of Object.keys(r))this.ft(s,n),this.Tt(r[s],n)}bt(e,n){const r=e.values||[];this.At(n,50);for(const s of r)this.Tt(s,n)}wt(e,n){this.At(n,37),z.fromName(e).path.forEach(r=>{this.At(n,60),this.Dt(r,n)})}At(e,n){e.Rt(n)}gt(e){e.Rt(2)}}Kr.Ct=new Kr;function Sx(t){if(t===0)return 8;let e=0;return!(t>>4)&&(e+=4,t<<=4),!(t>>6)&&(e+=2,t<<=2),!(t>>7)&&(e+=1),e}function t_(t){const e=64-function(r){let s=0;for(let i=0;i<8;++i){const o=Sx(255&r[i]);if(s+=o,o!==8)break}return s}(t);return Math.ceil(e/8)}class Cx{constructor(){this.buffer=new Uint8Array(1024),this.position=0}vt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ft(r.value),r=n.next();this.Mt()}xt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ot(r.value),r=n.next();this.Nt()}Bt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Ft(r);else if(r<2048)this.Ft(960|r>>>6),this.Ft(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Ft(480|r>>>12),this.Ft(128|63&r>>>6),this.Ft(128|63&r);else{const s=n.codePointAt(0);this.Ft(240|s>>>18),this.Ft(128|63&s>>>12),this.Ft(128|63&s>>>6),this.Ft(128|63&s)}}this.Mt()}Lt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Ot(r);else if(r<2048)this.Ot(960|r>>>6),this.Ot(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Ot(480|r>>>12),this.Ot(128|63&r>>>6),this.Ot(128|63&r);else{const s=n.codePointAt(0);this.Ot(240|s>>>18),this.Ot(128|63&s>>>12),this.Ot(128|63&s>>>6),this.Ot(128|63&s)}}this.Nt()}kt(e){const n=this.qt(e),r=t_(n);this.Qt(1+r),this.buffer[this.position++]=255&r;for(let s=n.length-r;s<n.length;++s)this.buffer[this.position++]=255&n[s]}Kt(e){const n=this.qt(e),r=t_(n);this.Qt(1+r),this.buffer[this.position++]=~(255&r);for(let s=n.length-r;s<n.length;++s)this.buffer[this.position++]=~(255&n[s])}$t(){this.Ut(255),this.Ut(255)}Wt(){this.Gt(255),this.Gt(255)}reset(){this.position=0}seed(e){this.Qt(e.length),this.buffer.set(e,this.position),this.position+=e.length}zt(){return this.buffer.slice(0,this.position)}qt(e){const n=function(i){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,i,!1),new Uint8Array(o.buffer)}(e),r=(128&n[0])!=0;n[0]^=r?255:128;for(let s=1;s<n.length;++s)n[s]^=r?255:0;return n}Ft(e){const n=255&e;n===0?(this.Ut(0),this.Ut(255)):n===255?(this.Ut(255),this.Ut(0)):this.Ut(n)}Ot(e){const n=255&e;n===0?(this.Gt(0),this.Gt(255)):n===255?(this.Gt(255),this.Gt(0)):this.Gt(e)}Mt(){this.Ut(0),this.Ut(1)}Nt(){this.Gt(0),this.Gt(1)}Ut(e){this.Qt(1),this.buffer[this.position++]=e}Gt(e){this.Qt(1),this.buffer[this.position++]=~e}Qt(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const s=new Uint8Array(r);s.set(this.buffer),this.buffer=s}}class xx{constructor(e){this.jt=e}yt(e){this.jt.vt(e)}Vt(e){this.jt.Bt(e)}Rt(e){this.jt.kt(e)}Et(){this.jt.$t()}}class kx{constructor(e){this.jt=e}yt(e){this.jt.xt(e)}Vt(e){this.jt.Lt(e)}Rt(e){this.jt.Kt(e)}Et(){this.jt.Wt()}}class ji{constructor(){this.jt=new Cx,this.Ht=new xx(this.jt),this.Jt=new kx(this.jt)}seed(e){this.jt.seed(e)}Yt(e){return e===0?this.Ht:this.Jt}zt(){return this.jt.zt()}reset(){this.jt.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr{constructor(e,n,r,s){this.indexId=e,this.documentKey=n,this.arrayValue=r,this.directionalValue=s}Zt(){const e=this.directionalValue.length,n=e===0||this.directionalValue[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Hr(this.indexId,this.documentKey,this.arrayValue,r)}}function Xn(t,e){let n=t.indexId-e.indexId;return n!==0?n:(n=n_(t.arrayValue,e.arrayValue),n!==0?n:(n=n_(t.directionalValue,e.directionalValue),n!==0?n:z.comparator(t.documentKey,e.documentKey)))}function n_(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r_{constructor(e){this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.Xt=e.orderBy,this.en=[];for(const n of e.filters){const r=n;r.isInequality()?this.tn=r:this.en.push(r)}}nn(e){ee(e.collectionGroup===this.collectionId);const n=nd(e);if(n!==void 0&&!this.rn(n))return!1;const r=Ur(e);let s=new Set,i=0,o=0;for(;i<r.length&&this.rn(r[i]);++i)s=s.add(r[i].fieldPath.canonicalString());if(i===r.length)return!0;if(this.tn!==void 0){if(!s.has(this.tn.field.canonicalString())){const a=r[i];if(!this.sn(this.tn,a)||!this.on(this.Xt[o++],a))return!1}++i}for(;i<r.length;++i){const a=r[i];if(o>=this.Xt.length||!this.on(this.Xt[o++],a))return!1}return!0}_n(){let e=new Le(Xe.comparator);const n=[];for(const r of this.en)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new Ac(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new Ac(r.field,0))}for(const r of this.Xt)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new Ac(r.field,r.dir==="asc"?0:1)));return new rl(rl.UNKNOWN_ID,this.collectionId,n,Qo.empty())}rn(e){for(const n of this.en)if(this.sn(n,e))return!0;return!1}sn(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}on(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kw(t){var e,n;if(ee(t instanceof ye||t instanceof Se),t instanceof ye){if(t instanceof XI){const s=((n=(e=t.value.arrayValue)===null||e===void 0?void 0:e.values)===null||n===void 0?void 0:n.map(i=>ye.create(t.field,"==",i)))||[];return Se.create(s,"or")}return t}const r=t.filters.map(s=>kw(s));return Se.create(r,t.op)}function Dx(t){if(t.getFilters().length===0)return[];const e=pd(kw(t));return ee(Dw(e)),md(e)||gd(e)?[e]:e.getFilters()}function md(t){return t instanceof ye}function gd(t){return t instanceof Se&&Xf(t)}function Dw(t){return md(t)||gd(t)||function(n){if(n instanceof Se&&od(n)){for(const r of n.getFilters())if(!md(r)&&!gd(r))return!1;return!0}return!1}(t)}function pd(t){if(ee(t instanceof ye||t instanceof Se),t instanceof ye)return t;if(t.filters.length===1)return pd(t.filters[0]);const e=t.filters.map(r=>pd(r));let n=Se.create(e,t.op);return n=al(n),Dw(n)?n:(ee(n instanceof Se),ee(ui(n)),ee(n.filters.length>1),n.filters.reduce((r,s)=>im(r,s)))}function im(t,e){let n;return ee(t instanceof ye||t instanceof Se),ee(e instanceof ye||e instanceof Se),n=t instanceof ye?e instanceof ye?function(s,i){return Se.create([s,i],"and")}(t,e):s_(t,e):e instanceof ye?s_(e,t):function(s,i){if(ee(s.filters.length>0&&i.filters.length>0),ui(s)&&ui(i))return WI(s,i.getFilters());const o=od(s)?s:i,a=od(s)?i:s,c=o.filters.map(l=>im(l,a));return Se.create(c,"or")}(t,e),al(n)}function s_(t,e){if(ui(e))return WI(e,t.getFilters());{const n=e.filters.map(r=>im(t,r));return Se.create(n,"or")}}function al(t){if(ee(t instanceof ye||t instanceof Se),t instanceof ye)return t;const e=t.getFilters();if(e.length===1)return al(e[0]);if(HI(t))return t;const n=e.map(s=>al(s)),r=[];return n.forEach(s=>{s instanceof ye?r.push(s):s instanceof Se&&(s.op===t.op?r.push(...s.filters):r.push(s))}),r.length===1?r[0]:Se.create(r,t.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vx{constructor(){this.an=new om}addToCollectionParentIndex(e,n){return this.an.add(n),I.resolve()}getCollectionParents(e,n){return I.resolve(this.an.getEntries(n))}addFieldIndex(e,n){return I.resolve()}deleteFieldIndex(e,n){return I.resolve()}deleteAllFieldIndexes(e){return I.resolve()}createTargetIndexes(e,n){return I.resolve()}getDocumentsMatchingTarget(e,n){return I.resolve(null)}getIndexType(e,n){return I.resolve(0)}getFieldIndexes(e,n){return I.resolve([])}getNextCollectionGroupToUpdate(e){return I.resolve(null)}getMinOffset(e,n){return I.resolve(Wt.min())}getMinOffsetFromCollectionGroup(e,n){return I.resolve(Wt.min())}updateCollectionGroup(e,n,r){return I.resolve()}updateIndexEntries(e,n){return I.resolve()}}class om{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new Le(Re.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Le(Re.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lc=new Uint8Array(0);class Ox{constructor(e,n){this.user=e,this.databaseId=n,this.un=new om,this.cn=new kr(r=>ls(r),(r,s)=>Sa(r,s)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.un.has(n)){const r=n.lastSegment(),s=n.popLast();e.addOnCommittedListener(()=>{this.un.add(n)});const i={collectionId:r,parent:kt(s)};return i_(e).put(i)}return I.resolve()}getCollectionParents(e,n){const r=[],s=IDBKeyRange.bound([n,""],[VI(n),""],!1,!0);return i_(e).G(s).next(i=>{for(const o of i){if(o.collectionId!==n)break;r.push(Tn(o.parent))}return r})}addFieldIndex(e,n){const r=zi(e),s=function(a){return{indexId:a.indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(c=>[c.fieldPath.canonicalString(),c.kind])}}(n);delete s.indexId;const i=r.add(s);if(n.indexState){const o=Vs(e);return i.next(a=>{o.put(Jp(a,this.user,n.indexState.sequenceNumber,n.indexState.offset))})}return i.next()}deleteFieldIndex(e,n){const r=zi(e),s=Vs(e),i=Ds(e);return r.delete(n.indexId).next(()=>s.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const n=zi(e),r=Ds(e),s=Vs(e);return n.J().next(()=>r.J()).next(()=>s.J())}createTargetIndexes(e,n){return I.forEach(this.ln(n),r=>this.getIndexType(e,r).next(s=>{if(s===0||s===1){const i=new r_(r);return this.addFieldIndex(e,i._n())}}))}getDocumentsMatchingTarget(e,n){const r=Ds(e);let s=!0;const i=new Map;return I.forEach(this.ln(n),o=>this.hn(e,o).next(a=>{s&&(s=!!a),i.set(o,a)})).next(()=>{if(s){let o=me();const a=[];return I.forEach(i,(c,l)=>{M("IndexedDbIndexManager",`Using index ${function(v){return`id=${v.indexId}|cg=${v.collectionGroup}|f=${v.fields.map(b=>`${b.fieldPath}:${b.kind}`).join(",")}`}(c)} to execute ${ls(n)}`);const u=function(v,b){const D=nd(b);if(D===void 0)return null;for(const j of il(v,D.fieldPath))switch(j.op){case"array-contains-any":return j.value.arrayValue.values||[];case"array-contains":return[j.value]}return null}(l,c),h=function(v,b){const D=new Map;for(const j of Ur(b))for(const G of il(v,j.fieldPath))switch(G.op){case"==":case"in":D.set(j.fieldPath.canonicalString(),G.value);break;case"not-in":case"!=":return D.set(j.fieldPath.canonicalString(),G.value),Array.from(D.values())}return null}(l,c),d=function(v,b){const D=[];let j=!0;for(const G of Ur(b)){const R=G.kind===0?Lp(v,G.fieldPath,v.startAt):Fp(v,G.fieldPath,v.startAt);D.push(R.value),j&&(j=R.inclusive)}return new li(D,j)}(l,c),f=function(v,b){const D=[];let j=!0;for(const G of Ur(b)){const R=G.kind===0?Fp(v,G.fieldPath,v.endAt):Lp(v,G.fieldPath,v.endAt);D.push(R.value),j&&(j=R.inclusive)}return new li(D,j)}(l,c),m=this.Pn(c,l,d),p=this.Pn(c,l,f),y=this.In(c,l,h),T=this.dn(c.indexId,u,m,d.inclusive,p,f.inclusive,y);return I.forEach(T,w=>r.H(w,n.limit).next(v=>{v.forEach(b=>{const D=z.fromSegments(b.documentKey);o.has(D)||(o=o.add(D),a.push(D))})}))}).next(()=>a)}return I.resolve(null)})}ln(e){let n=this.cn.get(e);return n||(e.filters.length===0?n=[e]:n=Dx(Se.create(e.filters,"and")).map(r=>cd(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.cn.set(e,n),n)}dn(e,n,r,s,i,o,a){const c=(n!=null?n.length:1)*Math.max(r.length,i.length),l=c/(n!=null?n.length:1),u=[];for(let h=0;h<c;++h){const d=n?this.Tn(n[h/l]):lc,f=this.En(e,d,r[h%l],s),m=this.An(e,d,i[h%l],o),p=a.map(y=>this.En(e,d,y,!0));u.push(...this.createRange(f,m,p))}return u}En(e,n,r,s){const i=new Hr(e,z.empty(),n,r);return s?i:i.Zt()}An(e,n,r,s){const i=new Hr(e,z.empty(),n,r);return s?i.Zt():i}hn(e,n){const r=new r_(n),s=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,s).next(i=>{let o=null;for(const a of i)r.nn(a)&&(!o||a.fields.length>o.fields.length)&&(o=a);return o})}getIndexType(e,n){let r=2;const s=this.ln(n);return I.forEach(s,i=>this.hn(e,i).next(o=>{o?r!==0&&o.fields.length<function(c){let l=new Le(Xe.comparator),u=!1;for(const h of c.filters)for(const d of h.getFlattenedFilters())d.field.isKeyField()||(d.op==="array-contains"||d.op==="array-contains-any"?u=!0:l=l.add(d.field));for(const h of c.orderBy)h.field.isKeyField()||(l=l.add(h.field));return l.size+(u?1:0)}(i)&&(r=1):r=0})).next(()=>function(o){return o.limit!==null}(n)&&s.length>1&&r===2?1:r)}Rn(e,n){const r=new ji;for(const s of Ur(e)){const i=n.data.field(s.fieldPath);if(i==null)return null;const o=r.Yt(s.kind);Kr.Ct.dt(i,o)}return r.zt()}Tn(e){const n=new ji;return Kr.Ct.dt(e,n.Yt(0)),n.zt()}Vn(e,n){const r=new ji;return Kr.Ct.dt(Zo(this.databaseId,n),r.Yt(function(i){const o=Ur(i);return o.length===0?0:o[o.length-1].kind}(e))),r.zt()}In(e,n,r){if(r===null)return[];let s=[];s.push(new ji);let i=0;for(const o of Ur(e)){const a=r[i++];for(const c of s)if(this.mn(n,o.fieldPath)&&ea(a))s=this.fn(s,o,a);else{const l=c.Yt(o.kind);Kr.Ct.dt(a,l)}}return this.gn(s)}Pn(e,n,r){return this.In(e,n,r.position)}gn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].zt();return n}fn(e,n,r){const s=[...e],i=[];for(const o of r.arrayValue.values||[])for(const a of s){const c=new ji;c.seed(a.zt()),Kr.Ct.dt(o,c.Yt(n.kind)),i.push(c)}return i}mn(e,n){return!!e.filters.find(r=>r instanceof ye&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,n){const r=zi(e),s=Vs(e);return(n?r.G("collectionGroupIndex",IDBKeyRange.bound(n,n)):r.G()).next(i=>{const o=[];return I.forEach(i,a=>s.get([a.indexId,this.uid]).next(c=>{o.push(function(u,h){const d=h?new Qo(h.sequenceNumber,new Wt(hs(h.readTime),new z(Tn(h.documentKey)),h.largestBatchId)):Qo.empty(),f=u.fields.map(([m,p])=>new Ac(Xe.fromServerFormat(m),p));return new rl(u.indexId,u.collectionGroup,f,d)}(a,c))})).next(()=>o)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>n.length===0?null:(n.sort((r,s)=>{const i=r.indexState.sequenceNumber-s.indexState.sequenceNumber;return i!==0?i:he(r.collectionGroup,s.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,r){const s=zi(e),i=Vs(e);return this.pn(e).next(o=>s.G("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(a=>I.forEach(a,c=>i.put(Jp(c.indexId,this.user,o,r)))))}updateIndexEntries(e,n){const r=new Map;return I.forEach(n,(s,i)=>{const o=r.get(s.collectionGroup);return(o?I.resolve(o):this.getFieldIndexes(e,s.collectionGroup)).next(a=>(r.set(s.collectionGroup,a),I.forEach(a,c=>this.yn(e,s,c).next(l=>{const u=this.wn(i,c);return l.isEqual(u)?I.resolve():this.Sn(e,i,c,l,u)}))))})}bn(e,n,r,s){return Ds(e).put({indexId:s.indexId,uid:this.uid,arrayValue:s.arrayValue,directionalValue:s.directionalValue,orderedDocumentKey:this.Vn(r,n.key),documentKey:n.key.path.toArray()})}Dn(e,n,r,s){return Ds(e).delete([s.indexId,this.uid,s.arrayValue,s.directionalValue,this.Vn(r,n.key),n.key.path.toArray()])}yn(e,n,r){const s=Ds(e);let i=new Le(Xn);return s.Z({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.Vn(r,n)])},(o,a)=>{i=i.add(new Hr(r.indexId,n,a.arrayValue,a.directionalValue))}).next(()=>i)}wn(e,n){let r=new Le(Xn);const s=this.Rn(n,e);if(s==null)return r;const i=nd(n);if(i!=null){const o=e.data.field(i.fieldPath);if(ea(o))for(const a of o.arrayValue.values||[])r=r.add(new Hr(n.indexId,e.key,this.Tn(a),s))}else r=r.add(new Hr(n.indexId,e.key,lc,s));return r}Sn(e,n,r,s,i){M("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const o=[];return function(c,l,u,h,d){const f=c.getIterator(),m=l.getIterator();let p=ks(f),y=ks(m);for(;p||y;){let T=!1,w=!1;if(p&&y){const v=u(p,y);v<0?w=!0:v>0&&(T=!0)}else p!=null?w=!0:T=!0;T?(h(y),y=ks(m)):w?(d(p),p=ks(f)):(p=ks(f),y=ks(m))}}(s,i,Xn,a=>{o.push(this.bn(e,n,r,a))},a=>{o.push(this.Dn(e,n,r,a))}),I.waitFor(o)}pn(e){let n=1;return Vs(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,s,i)=>{i.done(),n=s.sequenceNumber+1}).next(()=>n)}createRange(e,n,r){r=r.sort((o,a)=>Xn(o,a)).filter((o,a,c)=>!a||Xn(o,c[a-1])!==0);const s=[];s.push(e);for(const o of r){const a=Xn(o,e),c=Xn(o,n);if(a===0)s[0]=e.Zt();else if(a>0&&c<0)s.push(o),s.push(o.Zt());else if(c>0)break}s.push(n);const i=[];for(let o=0;o<s.length;o+=2){if(this.Cn(s[o],s[o+1]))return[];const a=[s[o].indexId,this.uid,s[o].arrayValue,s[o].directionalValue,lc,[]],c=[s[o+1].indexId,this.uid,s[o+1].arrayValue,s[o+1].directionalValue,lc,[]];i.push(IDBKeyRange.bound(a,c))}return i}Cn(e,n){return Xn(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(o_)}getMinOffset(e,n){return I.mapArray(this.ln(n),r=>this.hn(e,r).next(s=>s||Q())).next(o_)}}function i_(t){return ft(t,"collectionParents")}function Ds(t){return ft(t,"indexEntries")}function zi(t){return ft(t,"indexConfiguration")}function Vs(t){return ft(t,"indexState")}function o_(t){ee(t.length!==0);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const s=t[r].indexState.offset;Gf(s,e)<0&&(e=s),n<s.largestBatchId&&(n=s.largestBatchId)}return new Wt(e.readTime,e.documentKey,n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Mt{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Mt(e,Mt.DEFAULT_COLLECTION_PERCENTILE,Mt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vw(t,e,n){const r=t.store("mutations"),s=t.store("documentMutations"),i=[],o=IDBKeyRange.only(n.batchId);let a=0;const c=r.Z({range:o},(u,h,d)=>(a++,d.delete()));i.push(c.next(()=>{ee(a===1)}));const l=[];for(const u of n.mutations){const h=LI(e,u.key.path,n.batchId);i.push(s.delete(h)),l.push(u.key)}return I.waitFor(i).next(()=>l)}function cl(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Q();e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Mt.DEFAULT_COLLECTION_PERCENTILE=10,Mt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Mt.DEFAULT=new Mt(41943040,Mt.DEFAULT_COLLECTION_PERCENTILE,Mt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Mt.DISABLED=new Mt(-1,0,0);class mu{constructor(e,n,r,s){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=s,this.vn={}}static Pt(e,n,r,s){ee(e.uid!=="");const i=e.isAuthenticated()?e.uid:"";return new mu(i,n,r,s)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Jn(e).Z({index:"userMutationsIndex",range:r},(s,i,o)=>{n=!1,o.done()}).next(()=>n)}addMutationBatch(e,n,r,s){const i=js(e),o=Jn(e);return o.add({}).next(a=>{ee(typeof a=="number");const c=new em(a,n,r,s),l=function(f,m,p){const y=p.baseMutations.map(w=>sa(f.ht,w)),T=p.mutations.map(w=>sa(f.ht,w));return{userId:m,batchId:p.batchId,localWriteTimeMs:p.localWriteTime.toMillis(),baseMutations:y,mutations:T}}(this.serializer,this.userId,c),u=[];let h=new Le((d,f)=>he(d.canonicalString(),f.canonicalString()));for(const d of s){const f=LI(this.userId,d.key.path,a);h=h.add(d.key.path.popLast()),u.push(o.put(l)),u.push(i.put(f,_1))}return h.forEach(d=>{u.push(this.indexManager.addToCollectionParentIndex(e,d))}),e.addOnCommittedListener(()=>{this.vn[a]=c.keys()}),I.waitFor(u).next(()=>c)})}lookupMutationBatch(e,n){return Jn(e).get(n).next(r=>r?(ee(r.userId===this.userId),qr(this.serializer,r)):null)}Fn(e,n){return this.vn[n]?I.resolve(this.vn[n]):this.lookupMutationBatch(e,n).next(r=>{if(r){const s=r.keys();return this.vn[n]=s,s}return null})}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=IDBKeyRange.lowerBound([this.userId,r]);let i=null;return Jn(e).Z({index:"userMutationsIndex",range:s},(o,a,c)=>{a.userId===this.userId&&(ee(a.batchId>=r),i=qr(this.serializer,a)),c.done()}).next(()=>i)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Jn(e).Z({index:"userMutationsIndex",range:n,reverse:!0},(s,i,o)=>{r=i.batchId,o.done()}).next(()=>r)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Jn(e).G("userMutationsIndex",n).next(r=>r.map(s=>qr(this.serializer,s)))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=Rc(this.userId,n.path),s=IDBKeyRange.lowerBound(r),i=[];return js(e).Z({range:s},(o,a,c)=>{const[l,u,h]=o,d=Tn(u);if(l===this.userId&&n.path.isEqual(d))return Jn(e).get(h).next(f=>{if(!f)throw Q();ee(f.userId===this.userId),i.push(qr(this.serializer,f))});c.done()}).next(()=>i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Le(he);const s=[];return n.forEach(i=>{const o=Rc(this.userId,i.path),a=IDBKeyRange.lowerBound(o),c=js(e).Z({range:a},(l,u,h)=>{const[d,f,m]=l,p=Tn(f);d===this.userId&&i.path.isEqual(p)?r=r.add(m):h.done()});s.push(c)}),I.waitFor(s).next(()=>this.Mn(e,r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1,i=Rc(this.userId,r),o=IDBKeyRange.lowerBound(i);let a=new Le(he);return js(e).Z({range:o},(c,l,u)=>{const[h,d,f]=c,m=Tn(d);h===this.userId&&r.isPrefixOf(m)?m.length===s&&(a=a.add(f)):u.done()}).next(()=>this.Mn(e,a))}Mn(e,n){const r=[],s=[];return n.forEach(i=>{s.push(Jn(e).get(i).next(o=>{if(o===null)throw Q();ee(o.userId===this.userId),r.push(qr(this.serializer,o))}))}),I.waitFor(s).next(()=>r)}removeMutationBatch(e,n){return Vw(e.ue,this.userId,n).next(r=>(e.addOnCommittedListener(()=>{this.xn(n.batchId)}),I.forEach(r,s=>this.referenceDelegate.markPotentiallyOrphaned(e,s))))}xn(e){delete this.vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return I.resolve();const r=IDBKeyRange.lowerBound(function(o){return[o]}(this.userId)),s=[];return js(e).Z({range:r},(i,o,a)=>{if(i[0]===this.userId){const c=Tn(i[1]);s.push(c)}else a.done()}).next(()=>{ee(s.length===0)})})}containsKey(e,n){return Ow(e,this.userId,n)}On(e){return Nw(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Ow(t,e,n){const r=Rc(e,n.path),s=r[1],i=IDBKeyRange.lowerBound(r);let o=!1;return js(t).Z({range:i,Y:!0},(a,c,l)=>{const[u,h,d]=a;u===e&&h===s&&(o=!0),l.done()}).next(()=>o)}function Jn(t){return ft(t,"mutations")}function js(t){return ft(t,"documentMutations")}function Nw(t){return ft(t,"mutationQueues")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static Bn(){return new ds(0)}static Ln(){return new ds(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nx{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.kn(e).next(n=>{const r=new ds(n.highestTargetId);return n.highestTargetId=r.next(),this.qn(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.kn(e).next(n=>Z.fromTimestamp(new ze(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.kn(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,r){return this.kn(e).next(s=>(s.highestListenSequenceNumber=n,r&&(s.lastRemoteSnapshotVersion=r.toTimestamp()),n>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=n),this.qn(e,s)))}addTargetData(e,n){return this.Qn(e,n).next(()=>this.kn(e).next(r=>(r.targetCount+=1,this.Kn(n,r),this.qn(e,r))))}updateTargetData(e,n){return this.Qn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>Os(e).delete(n.targetId)).next(()=>this.kn(e)).next(r=>(ee(r.targetCount>0),r.targetCount-=1,this.qn(e,r)))}removeTargets(e,n,r){let s=0;const i=[];return Os(e).Z((o,a)=>{const c=ao(a);c.sequenceNumber<=n&&r.get(c.targetId)===null&&(s++,i.push(this.removeTargetData(e,c)))}).next(()=>I.waitFor(i)).next(()=>s)}forEachTarget(e,n){return Os(e).Z((r,s)=>{const i=ao(s);n(i)})}kn(e){return c_(e).get("targetGlobalKey").next(n=>(ee(n!==null),n))}qn(e,n){return c_(e).put("targetGlobalKey",n)}Qn(e,n){return Os(e).put(Cw(this.serializer,n))}Kn(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.kn(e).next(n=>n.targetCount)}getTargetData(e,n){const r=ls(n),s=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let i=null;return Os(e).Z({range:s,index:"queryTargetsIndex"},(o,a,c)=>{const l=ao(a);Sa(n,l.target)&&(i=l,c.done())}).next(()=>i)}addMatchingKeys(e,n,r){const s=[],i=ir(e);return n.forEach(o=>{const a=kt(o.path);s.push(i.put({targetId:r,path:a})),s.push(this.referenceDelegate.addReference(e,r,o))}),I.waitFor(s)}removeMatchingKeys(e,n,r){const s=ir(e);return I.forEach(n,i=>{const o=kt(i.path);return I.waitFor([s.delete([r,o]),this.referenceDelegate.removeReference(e,r,i)])})}removeMatchingKeysForTargetId(e,n){const r=ir(e),s=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(s)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),s=ir(e);let i=me();return s.Z({range:r,Y:!0},(o,a,c)=>{const l=Tn(o[1]),u=new z(l);i=i.add(u)}).next(()=>i)}containsKey(e,n){const r=kt(n.path),s=IDBKeyRange.bound([r],[VI(r)],!1,!0);let i=0;return ir(e).Z({index:"documentTargetsIndex",Y:!0,range:s},([o,a],c,l)=>{o!==0&&(i++,l.done())}).next(()=>i>0)}lt(e,n){return Os(e).get(n).next(r=>r?ao(r):null)}}function Os(t){return ft(t,"targets")}function c_(t){return ft(t,"targetGlobal")}function ir(t){return ft(t,"targetDocuments")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l_([t,e],[n,r]){const s=he(t,n);return s===0?he(e,r):s}class Mx{constructor(e){this.$n=e,this.buffer=new Le(l_),this.Un=0}Wn(){return++this.Un}Gn(e){const n=[e,this.Wn()];if(this.buffer.size<this.$n)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();l_(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Lx{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.zn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.jn(6e4)}stop(){this.zn&&(this.zn.cancel(),this.zn=null)}get started(){return this.zn!==null}jn(e){M("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.zn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.zn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){xr(n)?M("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await vs(n)}await this.jn(3e5)})}}class Fx{constructor(e,n){this.Hn=e,this.params=n}calculateTargetCount(e,n){return this.Hn.Jn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return I.resolve(Xt.ae);const r=new Mx(n);return this.Hn.forEachTarget(e,s=>r.Gn(s.sequenceNumber)).next(()=>this.Hn.Yn(e,s=>r.Gn(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Hn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Hn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(M("LruGarbageCollector","Garbage collection skipped; disabled"),I.resolve(a_)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(M("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),a_):this.Zn(e,n))}getCacheSize(e){return this.Hn.getCacheSize(e)}Zn(e,n){let r,s,i,o,a,c,l;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(M("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),s=this.params.maximumSequenceNumbersToCollect):s=h,o=Date.now(),this.nthSequenceNumber(e,s))).next(h=>(r=h,a=Date.now(),this.removeTargets(e,r,n))).next(h=>(i=h,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(h=>(l=Date.now(),Fs()<=_e.DEBUG&&M("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-u}ms
	Determined least recently used ${s} in `+(a-o)+`ms
	Removed ${i} targets in `+(c-a)+`ms
	Removed ${h} documents in `+(l-c)+`ms
Total Duration: ${l-u}ms`),I.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:h})))}}function Ux(t,e){return new Fx(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bx{constructor(e,n){this.db=e,this.garbageCollector=Ux(this,n)}Jn(e){const n=this.Xn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}Xn(e){let n=0;return this.Yn(e,r=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Yn(e,n){return this.er(e,(r,s)=>n(s))}addReference(e,n,r){return uc(e,r)}removeReference(e,n,r){return uc(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return uc(e,n)}tr(e,n){return function(s,i){let o=!1;return Nw(s).X(a=>Ow(s,a,i).next(c=>(c&&(o=!0),I.resolve(!c)))).next(()=>o)}(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),s=[];let i=0;return this.er(e,(o,a)=>{if(a<=n){const c=this.tr(e,o).next(l=>{if(!l)return i++,r.getEntry(e,o).next(()=>(r.removeEntry(o,Z.min()),ir(e).delete(function(h){return[0,kt(h.path)]}(o))))});s.push(c)}}).next(()=>I.waitFor(s)).next(()=>r.apply(e)).next(()=>i)}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return uc(e,n)}er(e,n){const r=ir(e);let s,i=Xt.ae;return r.Z({index:"documentTargetsIndex"},([o,a],{path:c,sequenceNumber:l})=>{o===0?(i!==Xt.ae&&n(new z(Tn(s)),i),i=l,s=c):i=Xt.ae}).next(()=>{i!==Xt.ae&&n(new z(Tn(s)),i)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function uc(t,e){return ir(t).put(function(r,s){return{targetId:0,path:kt(r.path),sequenceNumber:s}}(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mw{constructor(){this.changes=new kr(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Be.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?I.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $x{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return Nr(e).put(r)}removeEntry(e,n,r){return Nr(e).delete(function(i,o){const a=i.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],ol(o),a[a.length-1]]}(n,r))}updateMetadata(e,n){return this.getMetadata(e).next(r=>(r.byteSize+=n,this.nr(e,r)))}getEntry(e,n){let r=Be.newInvalidDocument(n);return Nr(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(qi(n))},(s,i)=>{r=this.rr(n,i)}).next(()=>r)}ir(e,n){let r={size:0,document:Be.newInvalidDocument(n)};return Nr(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(qi(n))},(s,i)=>{r={document:this.rr(n,i),size:cl(i)}}).next(()=>r)}getEntries(e,n){let r=qt();return this.sr(e,n,(s,i)=>{const o=this.rr(s,i);r=r.insert(s,o)}).next(()=>r)}_r(e,n){let r=qt(),s=new je(z.comparator);return this.sr(e,n,(i,o)=>{const a=this.rr(i,o);r=r.insert(i,a),s=s.insert(i,cl(o))}).next(()=>({documents:r,ar:s}))}sr(e,n,r){if(n.isEmpty())return I.resolve();let s=new Le(d_);n.forEach(c=>s=s.add(c));const i=IDBKeyRange.bound(qi(s.first()),qi(s.last())),o=s.getIterator();let a=o.getNext();return Nr(e).Z({index:"documentKeyIndex",range:i},(c,l,u)=>{const h=z.fromSegments([...l.prefixPath,l.collectionGroup,l.documentId]);for(;a&&d_(a,h)<0;)r(a,null),a=o.getNext();a&&a.isEqual(h)&&(r(a,l),a=o.hasNext()?o.getNext():null),a?u.W(qi(a)):u.done()}).next(()=>{for(;a;)r(a,null),a=o.hasNext()?o.getNext():null})}getDocumentsMatchingQuery(e,n,r,s,i){const o=n.path,a=[o.popLast().toArray(),o.lastSegment(),ol(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],c=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Nr(e).G(IDBKeyRange.bound(a,c,!0)).next(l=>{i==null||i.incrementDocumentReadCount(l.length);let u=qt();for(const h of l){const d=this.rr(z.fromSegments(h.prefixPath.concat(h.collectionGroup,h.documentId)),h);d.isFoundDocument()&&(ka(n,d)||s.has(d.key))&&(u=u.insert(d.key,d))}return u})}getAllFromCollectionGroup(e,n,r,s){let i=qt();const o=h_(n,r),a=h_(n,Wt.max());return Nr(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,a,!0)},(c,l,u)=>{const h=this.rr(z.fromSegments(l.prefixPath.concat(l.collectionGroup,l.documentId)),l);i=i.insert(h.key,h),i.size===s&&u.done()}).next(()=>i)}newChangeBuffer(e){return new jx(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return u_(e).get("remoteDocumentGlobalKey").next(n=>(ee(!!n),n))}nr(e,n){return u_(e).put("remoteDocumentGlobalKey",n)}rr(e,n){if(n){const r=Rx(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(Z.min())))return r}return Be.newInvalidDocument(e)}}function Lw(t){return new $x(t)}class jx extends Mw{constructor(e,n){super(),this.ur=e,this.trackRemovals=n,this.cr=new kr(r=>r.toString(),(r,s)=>r.isEqual(s))}applyChanges(e){const n=[];let r=0,s=new Le((i,o)=>he(i.canonicalString(),o.canonicalString()));return this.changes.forEach((i,o)=>{const a=this.cr.get(i);if(n.push(this.ur.removeEntry(e,i,a.readTime)),o.isValidDocument()){const c=Yp(this.ur.serializer,o);s=s.add(i.path.popLast());const l=cl(c);r+=l-a.size,n.push(this.ur.addEntry(e,i,c))}else if(r-=a.size,this.trackRemovals){const c=Yp(this.ur.serializer,o.convertToNoDocument(Z.min()));n.push(this.ur.addEntry(e,i,c))}}),s.forEach(i=>{n.push(this.ur.indexManager.addToCollectionParentIndex(e,i))}),n.push(this.ur.updateMetadata(e,r)),I.waitFor(n)}getFromCache(e,n){return this.ur.ir(e,n).next(r=>(this.cr.set(n,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,n){return this.ur._r(e,n).next(({documents:r,ar:s})=>(s.forEach((i,o)=>{this.cr.set(i,{size:o,readTime:r.get(i).readTime})}),r))}}function u_(t){return ft(t,"remoteDocumentGlobal")}function Nr(t){return ft(t,"remoteDocumentsV14")}function qi(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function h_(t,e){const n=e.documentKey.path.toArray();return[t,ol(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function d_(t,e){const n=t.path.toArray(),r=e.path.toArray();let s=0;for(let i=0;i<n.length-2&&i<r.length-2;++i)if(s=he(n[i],r[i]),s)return s;return s=he(n.length,r.length),s||(s=he(n[n.length-2],r[r.length-2]),s||he(n[n.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zx{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&wo(r.mutation,s,Ft.empty(),ze.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,me()).next(()=>r))}getLocalViewOfDocuments(e,n,r=me()){const s=bn();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=io();return i.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=bn();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,me()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=qt();const o=Io(),a=function(){return Io()}();return n.forEach((c,l)=>{const u=r.get(l.key);s.has(l.key)&&(u===void 0||u.mutation instanceof Wn)?i=i.insert(l.key,l):u!==void 0?(o.set(l.key,u.mutation.getFieldMask()),wo(u.mutation,l,u.mutation.getFieldMask(),ze.now())):o.set(l.key,Ft.empty())}),this.recalculateAndSaveOverlays(e,i).next(c=>(c.forEach((l,u)=>o.set(l,u)),n.forEach((l,u)=>{var h;return a.set(l,new zx(u,(h=o.get(l))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Io();let s=new je((o,a)=>o-a),i=me();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(c=>{const l=n.get(c);if(l===null)return;let u=r.get(c)||Ft.empty();u=a.applyToLocalView(l,u),r.set(c,u);const h=(s.get(a.batchId)||me()).add(c);s=s.insert(a.batchId,h)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),l=c.key,u=c.value,h=sw();u.forEach(d=>{if(!i.has(d)){const f=dw(n.get(d),r.get(d));f!==null&&h.set(d,f),i=i.add(d)}}),o.push(this.documentOverlayCache.saveOverlays(e,l,h))}return I.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return z.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):ZI(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):I.resolve(bn());let a=-1,c=i;return o.next(l=>I.forEach(l,(u,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),i.get(u)?I.resolve():this.remoteDocumentCache.getEntry(e,u).next(d=>{c=c.insert(u,d)}))).next(()=>this.populateOverlays(e,l,i)).next(()=>this.computeViews(e,c,l,me())).next(u=>({batchId:a,changes:rw(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new z(n)).next(r=>{let s=io();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=io();return this.indexManager.getCollectionParents(e,i).next(a=>I.forEach(a,c=>{const l=function(h,d){return new Ca(d,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,c.child(i));return this.getDocumentsMatchingCollectionQuery(e,l,r,s).next(u=>{u.forEach((h,d)=>{o=o.insert(h,d)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((c,l)=>{const u=l.getKey();o.get(u)===null&&(o=o.insert(u,Be.newInvalidDocument(u)))});let a=io();return o.forEach((c,l)=>{const u=i.get(c);u!==void 0&&wo(u.mutation,l,Ft.empty(),ze.now()),ka(n,l)&&(a=a.insert(c,l))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qx{constructor(e){this.serializer=e,this.lr=new Map,this.hr=new Map}getBundleMetadata(e,n){return I.resolve(this.lr.get(n))}saveBundleMetadata(e,n){return this.lr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:ut(s.createTime)}}(n)),I.resolve()}getNamedQuery(e,n){return I.resolve(this.hr.get(n))}saveNamedQuery(e,n){return this.hr.set(n.name,function(s){return{name:s.name,query:xw(s.bundledQuery),readTime:ut(s.readTime)}}(n)),I.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kx{constructor(){this.overlays=new je(z.comparator),this.Pr=new Map}getOverlay(e,n){return I.resolve(this.overlays.get(n))}getOverlays(e,n){const r=bn();return I.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.It(e,n,i)}),I.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Pr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Pr.delete(r)),I.resolve()}getOverlaysForCollection(e,n,r){const s=bn(),i=n.length+1,o=new z(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const c=a.getNext().value,l=c.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===i&&c.largestBatchId>r&&s.set(c.getKey(),c)}return I.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new je((l,u)=>l-u);const o=this.overlays.getIterator();for(;o.hasNext();){const l=o.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let u=i.get(l.largestBatchId);u===null&&(u=bn(),i=i.insert(l.largestBatchId,u)),u.set(l.getKey(),l)}}const a=bn(),c=i.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((l,u)=>a.set(l,u)),!(a.size()>=s)););return I.resolve(a)}It(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.Pr.get(s.largestBatchId).delete(r.key);this.Pr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new nm(n,r));let i=this.Pr.get(n);i===void 0&&(i=me(),this.Pr.set(n,i)),this.Pr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class am{constructor(){this.Ir=new Le(at.dr),this.Tr=new Le(at.Er)}isEmpty(){return this.Ir.isEmpty()}addReference(e,n){const r=new at(e,n);this.Ir=this.Ir.add(r),this.Tr=this.Tr.add(r)}Ar(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Rr(new at(e,n))}Vr(e,n){e.forEach(r=>this.removeReference(r,n))}mr(e){const n=new z(new Re([])),r=new at(n,e),s=new at(n,e+1),i=[];return this.Tr.forEachInRange([r,s],o=>{this.Rr(o),i.push(o.key)}),i}gr(){this.Ir.forEach(e=>this.Rr(e))}Rr(e){this.Ir=this.Ir.delete(e),this.Tr=this.Tr.delete(e)}pr(e){const n=new z(new Re([])),r=new at(n,e),s=new at(n,e+1);let i=me();return this.Tr.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new at(e,0),r=this.Ir.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class at{constructor(e,n){this.key=e,this.yr=n}static dr(e,n){return z.comparator(e.key,n.key)||he(e.yr,n.yr)}static Er(e,n){return he(e.yr,n.yr)||z.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hx{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.wr=1,this.Sr=new Le(at.dr)}checkEmpty(e){return I.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.wr;this.wr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new em(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.Sr=this.Sr.add(new at(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return I.resolve(o)}lookupMutationBatch(e,n){return I.resolve(this.br(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.Dr(r),i=s<0?0:s;return I.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return I.resolve(this.mutationQueue.length===0?-1:this.wr-1)}getAllMutationBatches(e){return I.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new at(n,0),s=new at(n,Number.POSITIVE_INFINITY),i=[];return this.Sr.forEachInRange([r,s],o=>{const a=this.br(o.yr);i.push(a)}),I.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Le(he);return n.forEach(s=>{const i=new at(s,0),o=new at(s,Number.POSITIVE_INFINITY);this.Sr.forEachInRange([i,o],a=>{r=r.add(a.yr)})}),I.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;z.isDocumentKey(i)||(i=i.child(""));const o=new at(new z(i),0);let a=new Le(he);return this.Sr.forEachWhile(c=>{const l=c.key.path;return!!r.isPrefixOf(l)&&(l.length===s&&(a=a.add(c.yr)),!0)},o),I.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const s=this.br(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){ee(this.vr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Sr;return I.forEach(n.mutations,s=>{const i=new at(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Sr=r})}xn(e){}containsKey(e,n){const r=new at(n,0),s=this.Sr.firstAfterOrEqual(r);return I.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,I.resolve()}vr(e,n){return this.Dr(e)}Dr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}br(e){const n=this.Dr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gx{constructor(e){this.Fr=e,this.docs=function(){return new je(z.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.Fr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return I.resolve(r?r.document.mutableCopy():Be.newInvalidDocument(n))}getEntries(e,n){let r=qt();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():Be.newInvalidDocument(s))}),I.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=qt();const o=n.path,a=new z(o.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:l,value:{document:u}}=c.getNext();if(!o.isPrefixOf(l.path))break;l.path.length>o.length+1||Gf(OI(u),r)<=0||(s.has(u.key)||ka(n,u))&&(i=i.insert(u.key,u.mutableCopy()))}return I.resolve(i)}getAllFromCollectionGroup(e,n,r,s){Q()}Mr(e,n){return I.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Wx(this)}getSize(e){return I.resolve(this.size)}}class Wx extends Mw{constructor(e){super(),this.ur=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.ur.addEntry(e,s)):this.ur.removeEntry(r)}),I.waitFor(n)}getFromCache(e,n){return this.ur.getEntry(e,n)}getAllFromCache(e,n){return this.ur.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qx{constructor(e){this.persistence=e,this.Or=new kr(n=>ls(n),Sa),this.lastRemoteSnapshotVersion=Z.min(),this.highestTargetId=0,this.Nr=0,this.Br=new am,this.targetCount=0,this.Lr=ds.Bn()}forEachTarget(e,n){return this.Or.forEach((r,s)=>n(s)),I.resolve()}getLastRemoteSnapshotVersion(e){return I.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return I.resolve(this.Nr)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),I.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Nr&&(this.Nr=n),I.resolve()}Qn(e){this.Or.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Lr=new ds(n),this.highestTargetId=n),e.sequenceNumber>this.Nr&&(this.Nr=e.sequenceNumber)}addTargetData(e,n){return this.Qn(n),this.targetCount+=1,I.resolve()}updateTargetData(e,n){return this.Qn(n),I.resolve()}removeTargetData(e,n){return this.Or.delete(n.target),this.Br.mr(n.targetId),this.targetCount-=1,I.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.Or.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Or.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),I.waitFor(i).next(()=>s)}getTargetCount(e){return I.resolve(this.targetCount)}getTargetData(e,n){const r=this.Or.get(n)||null;return I.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Ar(n,r),I.resolve()}removeMatchingKeys(e,n,r){this.Br.Vr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),I.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.Br.mr(n),I.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.pr(n);return I.resolve(r)}containsKey(e,n){return I.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uw{constructor(e,n){this.kr={},this.overlays={},this.qr=new Xt(0),this.Qr=!1,this.Qr=!0,this.referenceDelegate=e(this),this.Kr=new Qx(this),this.indexManager=new Vx,this.remoteDocumentCache=function(s){return new Gx(s)}(r=>this.referenceDelegate.$r(r)),this.serializer=new Sw(n),this.Ur=new qx(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Qr=!1,Promise.resolve()}get started(){return this.Qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Kx,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.kr[e.toKey()];return r||(r=new Hx(n,this.referenceDelegate),this.kr[e.toKey()]=r),r}getTargetCache(){return this.Kr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ur}runTransaction(e,n,r){M("MemoryPersistence","Starting transaction:",e);const s=new Yx(this.qr.next());return this.referenceDelegate.Wr(),r(s).next(i=>this.referenceDelegate.Gr(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}zr(e,n){return I.or(Object.values(this.kr).map(r=>()=>r.containsKey(e,n)))}}class Yx extends MI{constructor(e){super(),this.currentSequenceNumber=e}}class gu{constructor(e){this.persistence=e,this.jr=new am,this.Hr=null}static Jr(e){return new gu(e)}get Yr(){if(this.Hr)return this.Hr;throw Q()}addReference(e,n,r){return this.jr.addReference(r,n),this.Yr.delete(r.toString()),I.resolve()}removeReference(e,n,r){return this.jr.removeReference(r,n),this.Yr.add(r.toString()),I.resolve()}markPotentiallyOrphaned(e,n){return this.Yr.add(n.toString()),I.resolve()}removeTarget(e,n){this.jr.mr(n.targetId).forEach(s=>this.Yr.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.Yr.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Wr(){this.Hr=new Set}Gr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return I.forEach(this.Yr,r=>{const s=z.fromPath(r);return this.Zr(e,s).next(i=>{i||n.removeEntry(s,Z.min())})}).next(()=>(this.Hr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Zr(e,n).next(r=>{r?this.Yr.delete(n.toString()):this.Yr.add(n.toString())})}$r(e){return 0}Zr(e,n){return I.or([()=>I.resolve(this.jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.zr(e,n)])}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xx{constructor(e){this.serializer=e}B(e,n,r,s){const i=new cu("createOrUpgrade",n);r<1&&s>=1&&(function(c){c.createObjectStore("owner")}(e),function(c){c.createObjectStore("mutationQueues",{keyPath:"userId"}),c.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Pp,{unique:!0}),c.createObjectStore("documentMutations")}(e),f_(e),function(c){c.createObjectStore("remoteDocuments")}(e));let o=I.resolve();return r<3&&s>=3&&(r!==0&&(function(c){c.deleteObjectStore("targetDocuments"),c.deleteObjectStore("targets"),c.deleteObjectStore("targetGlobal")}(e),f_(e)),o=o.next(()=>function(c){const l=c.store("targetGlobal"),u={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Z.min().toTimestamp(),targetCount:0};return l.put("targetGlobalKey",u)}(i))),r<4&&s>=4&&(r!==0&&(o=o.next(()=>function(c,l){return l.store("mutations").G().next(u=>{c.deleteObjectStore("mutations"),c.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Pp,{unique:!0});const h=l.store("mutations"),d=u.map(f=>h.put(f));return I.waitFor(d)})}(e,i))),o=o.next(()=>{(function(c){c.createObjectStore("clientMetadata",{keyPath:"clientId"})})(e)})),r<5&&s>=5&&(o=o.next(()=>this.ei(i))),r<6&&s>=6&&(o=o.next(()=>(function(c){c.createObjectStore("remoteDocumentGlobal")}(e),this.ti(i)))),r<7&&s>=7&&(o=o.next(()=>this.ni(i))),r<8&&s>=8&&(o=o.next(()=>this.ri(e,i))),r<9&&s>=9&&(o=o.next(()=>{(function(c){c.objectStoreNames.contains("remoteDocumentChanges")&&c.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&s>=10&&(o=o.next(()=>this.ii(i))),r<11&&s>=11&&(o=o.next(()=>{(function(c){c.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(c){c.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&s>=12&&(o=o.next(()=>{(function(c){const l=c.createObjectStore("documentOverlays",{keyPath:C1});l.createIndex("collectionPathOverlayIndex",x1,{unique:!1}),l.createIndex("collectionGroupOverlayIndex",k1,{unique:!1})})(e)})),r<13&&s>=13&&(o=o.next(()=>function(c){const l=c.createObjectStore("remoteDocumentsV14",{keyPath:y1});l.createIndex("documentKeyIndex",v1),l.createIndex("collectionGroupIndex",E1)}(e)).next(()=>this.si(e,i)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&s>=14&&(o=o.next(()=>this.oi(e,i))),r<15&&s>=15&&(o=o.next(()=>function(c){c.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),c.createObjectStore("indexState",{keyPath:A1}).createIndex("sequenceNumberIndex",R1,{unique:!1}),c.createObjectStore("indexEntries",{keyPath:P1}).createIndex("documentKeyIndex",S1,{unique:!1})}(e))),o}ti(e){let n=0;return e.store("remoteDocuments").Z((r,s)=>{n+=cl(s)}).next(()=>{const r={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}ei(e){const n=e.store("mutationQueues"),r=e.store("mutations");return n.G().next(s=>I.forEach(s,i=>{const o=IDBKeyRange.bound([i.userId,-1],[i.userId,i.lastAcknowledgedBatchId]);return r.G("userMutationsIndex",o).next(a=>I.forEach(a,c=>{ee(c.userId===i.userId);const l=qr(this.serializer,c);return Vw(e,i.userId,l).next(()=>{})}))}))}ni(e){const n=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(s=>{const i=[];return r.Z((o,a)=>{const c=new Re(o),l=function(h){return[0,kt(h)]}(c);i.push(n.get(l).next(u=>u?I.resolve():(h=>n.put({targetId:0,path:kt(h),sequenceNumber:s.highestListenSequenceNumber}))(c)))}).next(()=>I.waitFor(i))})}ri(e,n){e.createObjectStore("collectionParents",{keyPath:b1});const r=n.store("collectionParents"),s=new om,i=o=>{if(s.add(o)){const a=o.lastSegment(),c=o.popLast();return r.put({collectionId:a,parent:kt(c)})}};return n.store("remoteDocuments").Z({Y:!0},(o,a)=>{const c=new Re(o);return i(c.popLast())}).next(()=>n.store("documentMutations").Z({Y:!0},([o,a,c],l)=>{const u=Tn(a);return i(u.popLast())}))}ii(e){const n=e.store("targets");return n.Z((r,s)=>{const i=ao(s),o=Cw(this.serializer,i);return n.put(o)})}si(e,n){const r=n.store("remoteDocuments"),s=[];return r.Z((i,o)=>{const a=n.store("remoteDocumentsV14"),c=function(h){return h.document?new z(Re.fromString(h.document.name).popFirst(5)):h.noDocument?z.fromSegments(h.noDocument.path):h.unknownDocument?z.fromSegments(h.unknownDocument.path):Q()}(o).path.toArray(),l={prefixPath:c.slice(0,c.length-2),collectionGroup:c[c.length-2],documentId:c[c.length-1],readTime:o.readTime||[0,0],unknownDocument:o.unknownDocument,noDocument:o.noDocument,document:o.document,hasCommittedMutations:!!o.hasCommittedMutations};s.push(a.put(l))}).next(()=>I.waitFor(s))}oi(e,n){const r=n.store("mutations"),s=Lw(this.serializer),i=new Uw(gu.Jr,this.serializer.ht);return r.G().next(o=>{const a=new Map;return o.forEach(c=>{var l;let u=(l=a.get(c.userId))!==null&&l!==void 0?l:me();qr(this.serializer,c).keys().forEach(h=>u=u.add(h)),a.set(c.userId,u)}),I.forEach(a,(c,l)=>{const u=new mt(l),h=fu.Pt(this.serializer,u),d=i.getIndexManager(u),f=mu.Pt(u,this.serializer,d,i.referenceDelegate);return new Fw(s,f,h,d).recalculateAndSaveOverlaysForDocumentKeys(new rd(n,Xt.ae),c).next()})})}}function f_(t){t.createObjectStore("targetDocuments",{keyPath:w1}).createIndex("documentTargetsIndex",T1,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",I1,{unique:!0}),t.createObjectStore("targetGlobal")}const nh="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class cm{constructor(e,n,r,s,i,o,a,c,l,u,h=15){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this._i=i,this.window=o,this.document=a,this.ai=l,this.ui=u,this.ci=h,this.qr=null,this.Qr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.li=null,this.inForeground=!1,this.hi=null,this.Pi=null,this.Ii=Number.NEGATIVE_INFINITY,this.di=d=>Promise.resolve(),!cm.C())throw new L(A.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Bx(this,s),this.Ti=n+"main",this.serializer=new Sw(c),this.Ei=new Fn(this.Ti,this.ci,new Xx(this.serializer)),this.Kr=new Nx(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Lw(this.serializer),this.Ur=new Px,this.window&&this.window.localStorage?this.Ai=this.window.localStorage:(this.Ai=null,u===!1&&St("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ri().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new L(A.FAILED_PRECONDITION,nh);return this.Vi(),this.mi(),this.fi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Kr.getHighestSequenceNumber(e))}).then(e=>{this.qr=new Xt(e,this.ai)}).then(()=>{this.Qr=!0}).catch(e=>(this.Ei&&this.Ei.close(),Promise.reject(e)))}gi(e){return this.di=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ei.k(async n=>{n.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this._i.enqueueAndForget(async()=>{this.started&&await this.Ri()}))}Ri(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>hc(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.pi(e).next(n=>{n||(this.isPrimary=!1,this._i.enqueueRetryable(()=>this.di(!1)))})}).next(()=>this.yi(e)).next(n=>this.isPrimary&&!n?this.wi(e).next(()=>!1):!!n&&this.Si(e).next(()=>!0))).catch(e=>{if(xr(e))return M("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return M("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this._i.enqueueRetryable(()=>this.di(e)),this.isPrimary=e})}pi(e){return Ki(e).get("owner").next(n=>I.resolve(this.bi(n)))}Di(e){return hc(e).delete(this.clientId)}async Ci(){if(this.isPrimary&&!this.vi(this.Ii,18e5)){this.Ii=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",n=>{const r=ft(n,"clientMetadata");return r.G().next(s=>{const i=this.Fi(s,18e5),o=s.filter(a=>i.indexOf(a)===-1);return I.forEach(o,a=>r.delete(a.clientId)).next(()=>o)})}).catch(()=>[]);if(this.Ai)for(const n of e)this.Ai.removeItem(this.Mi(n.clientId))}}fi(){this.Pi=this._i.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Ri().then(()=>this.Ci()).then(()=>this.fi()))}bi(e){return!!e&&e.ownerId===this.clientId}yi(e){return this.ui?I.resolve(!0):Ki(e).get("owner").next(n=>{if(n!==null&&this.vi(n.leaseTimestampMs,5e3)&&!this.xi(n.ownerId)){if(this.bi(n)&&this.networkEnabled)return!0;if(!this.bi(n)){if(!n.allowTabSynchronization)throw new L(A.FAILED_PRECONDITION,nh);return!1}}return!(!this.networkEnabled||!this.inForeground)||hc(e).G().next(r=>this.Fi(r,5e3).find(s=>{if(this.clientId!==s.clientId){const i=!this.networkEnabled&&s.networkEnabled,o=!this.inForeground&&s.inForeground,a=this.networkEnabled===s.networkEnabled;if(i||o&&a)return!0}return!1})===void 0)}).next(n=>(this.isPrimary!==n&&M("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}async shutdown(){this.Qr=!1,this.Oi(),this.Pi&&(this.Pi.cancel(),this.Pi=null),this.Ni(),this.Bi(),await this.Ei.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const n=new rd(e,Xt.ae);return this.wi(n).next(()=>this.Di(n))}),this.Ei.close(),this.Li()}Fi(e,n){return e.filter(r=>this.vi(r.updateTimeMs,n)&&!this.xi(r.clientId))}ki(){return this.runTransaction("getActiveClients","readonly",e=>hc(e).G().next(n=>this.Fi(n,18e5).map(r=>r.clientId)))}get started(){return this.Qr}getMutationQueue(e,n){return mu.Pt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Kr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Ox(e,this.serializer.ht.databaseId)}getDocumentOverlayCache(e){return fu.Pt(this.serializer,e)}getBundleCache(){return this.Ur}runTransaction(e,n,r){M("IndexedDbPersistence","Starting transaction:",e);const s=n==="readonly"?"readonly":"readwrite",i=function(c){return c===15?V1:c===14?BI:c===13?UI:c===12?D1:c===11?FI:void Q()}(this.ci);let o;return this.Ei.runTransaction(e,s,i,a=>(o=new rd(a,this.qr?this.qr.next():Xt.ae),n==="readwrite-primary"?this.pi(o).next(c=>!!c||this.yi(o)).next(c=>{if(!c)throw St(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this._i.enqueueRetryable(()=>this.di(!1)),new L(A.FAILED_PRECONDITION,NI);return r(o)}).next(c=>this.Si(o).next(()=>c)):this.qi(o).next(()=>r(o)))).then(a=>(o.raiseOnCommittedEvent(),a))}qi(e){return Ki(e).get("owner").next(n=>{if(n!==null&&this.vi(n.leaseTimestampMs,5e3)&&!this.xi(n.ownerId)&&!this.bi(n)&&!(this.ui||this.allowTabSynchronization&&n.allowTabSynchronization))throw new L(A.FAILED_PRECONDITION,nh)})}Si(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Ki(e).put("owner",n)}static C(){return Fn.C()}wi(e){const n=Ki(e);return n.get("owner").next(r=>this.bi(r)?(M("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):I.resolve())}vi(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(St(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Vi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.hi=()=>{this._i.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.Ri()))},this.document.addEventListener("visibilitychange",this.hi),this.inForeground=this.document.visibilityState==="visible")}Ni(){this.hi&&(this.document.removeEventListener("visibilitychange",this.hi),this.hi=null)}mi(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.li=()=>{this.Oi();const n=/(?:Version|Mobile)\/1[456]/;NP()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this._i.enterRestrictedMode(!0),this._i.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.li))}Bi(){this.li&&(this.window.removeEventListener("pagehide",this.li),this.li=null)}xi(e){var n;try{const r=((n=this.Ai)===null||n===void 0?void 0:n.getItem(this.Mi(e)))!==null;return M("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return St("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Oi(){if(this.Ai)try{this.Ai.setItem(this.Mi(this.clientId),String(Date.now()))}catch(e){St("Failed to set zombie client id.",e)}}Li(){if(this.Ai)try{this.Ai.removeItem(this.Mi(this.clientId))}catch{}}Mi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Ki(t){return ft(t,"owner")}function hc(t){return ft(t,"clientMetadata")}function Jx(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lm{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Qi=r,this.Ki=s}static $i(e,n){let r=me(),s=me();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new lm(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zx{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bw{constructor(){this.Ui=!1,this.Wi=!1,this.Gi=100,this.zi=2}initialize(e,n){this.ji=e,this.indexManager=n,this.Ui=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.Hi(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.Ji(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new Zx;return this.Yi(e,n,o).next(a=>{if(i.result=a,this.Wi)return this.Zi(e,n,o,a.size)})}).next(()=>i.result)}Zi(e,n,r,s){return r.documentReadCount<this.Gi?(Fs()<=_e.DEBUG&&M("QueryEngine","SDK will not create cache indexes for query:",Us(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Gi,"documents"),I.resolve()):(Fs()<=_e.DEBUG&&M("QueryEngine","Query:",Us(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.zi*s?(Fs()<=_e.DEBUG&&M("QueryEngine","The SDK decides to create cache indexes for query:",Us(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,tn(n))):I.resolve())}Hi(e,n){if(Up(n))return I.resolve(null);let r=tn(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=ud(n,null,"F"),r=tn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=me(...i);return this.ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{const l=this.Xi(n,a);return this.es(n,l,o,c.readTime)?this.Hi(e,ud(n,null,"F")):this.ts(e,l,n,c)}))})))}Ji(e,n,r,s){return Up(n)||s.isEqual(Z.min())?I.resolve(null):this.ji.getDocuments(e,r).next(i=>{const o=this.Xi(n,i);return this.es(n,o,r,s)?I.resolve(null):(Fs()<=_e.DEBUG&&M("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Us(n)),this.ts(e,o,n,u1(s,-1)).next(a=>a))})}Xi(e,n){let r=new Le(tw(e));return n.forEach((s,i)=>{ka(e,i)&&(r=r.add(i))}),r}es(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Yi(e,n,r){return Fs()<=_e.DEBUG&&M("QueryEngine","Using full collection scan to execute query:",Us(n)),this.ji.getDocumentsMatchingQuery(e,n,Wt.min(),r)}ts(e,n,r,s){return this.ji.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ek{constructor(e,n,r,s){this.persistence=e,this.ns=n,this.serializer=s,this.rs=new je(he),this.ss=new kr(i=>ls(i),Sa),this.os=new Map,this._s=e.getRemoteDocumentCache(),this.Kr=e.getTargetCache(),this.Ur=e.getBundleCache(),this.us(r)}us(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Fw(this._s,this.mutationQueue,this.documentOverlayCache,this.indexManager),this._s.setIndexManager(this.indexManager),this.ns.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.rs))}}function $w(t,e,n,r){return new ek(t,e,n,r)}async function jw(t,e){const n=le(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.us(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let c=me();for(const l of s){o.push(l.batchId);for(const u of l.mutations)c=c.add(u.key)}for(const l of i){a.push(l.batchId);for(const u of l.mutations)c=c.add(u.key)}return n.localDocuments.getDocuments(r,c).next(l=>({cs:l,removedBatchIds:o,addedBatchIds:a}))})})}function tk(t,e){const n=le(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n._s.newChangeBuffer({trackRemovals:!0});return function(a,c,l,u){const h=l.batch,d=h.keys();let f=I.resolve();return d.forEach(m=>{f=f.next(()=>u.getEntry(c,m)).next(p=>{const y=l.docVersions.get(m);ee(y!==null),p.version.compareTo(y)<0&&(h.applyToRemoteDocument(p,l),p.isValidDocument()&&(p.setReadTime(l.commitVersion),u.addEntry(p)))})}),f.next(()=>a.mutationQueue.removeMutationBatch(c,h))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=me();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(c=c.add(a.batch.mutations[l].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function zw(t){const e=le(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Kr.getLastRemoteSnapshotVersion(n))}function nk(t,e){const n=le(t),r=e.snapshotVersion;let s=n.rs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n._s.newChangeBuffer({trackRemovals:!0});s=n.rs;const a=[];e.targetChanges.forEach((u,h)=>{const d=s.get(h);if(!d)return;a.push(n.Kr.removeMatchingKeys(i,u.removedDocuments,h).next(()=>n.Kr.addMatchingKeys(i,u.addedDocuments,h)));let f=d.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(h)!==null?f=f.withResumeToken(Et.EMPTY_BYTE_STRING,Z.min()).withLastLimboFreeSnapshotVersion(Z.min()):u.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(u.resumeToken,r)),s=s.insert(h,f),function(p,y,T){return p.resumeToken.approximateByteSize()===0||y.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8?!0:T.addedDocuments.size+T.modifiedDocuments.size+T.removedDocuments.size>0}(d,f,u)&&a.push(n.Kr.updateTargetData(i,f))});let c=qt(),l=me();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,u))}),a.push(rk(i,o,e.documentUpdates).next(u=>{c=u.ls,l=u.hs})),!r.isEqual(Z.min())){const u=n.Kr.getLastRemoteSnapshotVersion(i).next(h=>n.Kr.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(u)}return I.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,c,l)).next(()=>c)}).then(i=>(n.rs=s,i))}function rk(t,e,n){let r=me(),s=me();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=qt();return n.forEach((a,c)=>{const l=i.get(a);c.isFoundDocument()!==l.isFoundDocument()&&(s=s.add(a)),c.isNoDocument()&&c.version.isEqual(Z.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!l.isValidDocument()||c.version.compareTo(l.version)>0||c.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):M("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",c.version)}),{ls:o,hs:s}})}function sk(t,e){const n=le(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function ik(t,e){const n=le(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Kr.getTargetData(r,e).next(i=>i?(s=i,I.resolve(s)):n.Kr.allocateTargetId(r).next(o=>(s=new Un(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Kr.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.rs.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.rs=n.rs.insert(r.targetId,r),n.ss.set(e,r.targetId)),r})}async function _d(t,e,n){const r=le(t),s=r.rs.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!xr(o))throw o;M("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.rs=r.rs.remove(e),r.ss.delete(s.target)}function m_(t,e,n){const r=le(t);let s=Z.min(),i=me();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,l,u){const h=le(c),d=h.ss.get(u);return d!==void 0?I.resolve(h.rs.get(d)):h.Kr.getTargetData(l,u)}(r,o,tn(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Kr.getMatchingKeysForTargetId(o,a.targetId).next(c=>{i=c})}).next(()=>r.ns.getDocumentsMatchingQuery(o,e,n?s:Z.min(),n?i:me())).next(a=>(ok(r,W1(e),a),{documents:a,Ps:i})))}function ok(t,e,n){let r=t.os.get(e)||Z.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.os.set(e,r)}class g_{constructor(){this.activeTargetIds=ex()}Rs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}As(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class qw{constructor(){this.ro=new g_,this.io={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.ro.Rs(e),this.io[e]||"not-current"}updateQueryState(e,n,r){this.io[e]=n}removeLocalQueryTarget(e){this.ro.Vs(e)}isLocalQueryTarget(e){return this.ro.activeTargetIds.has(e)}clearQueryState(e){delete this.io[e]}getAllActiveQueryTargets(){return this.ro.activeTargetIds}isActiveQueryTarget(e){return this.ro.activeTargetIds.has(e)}start(){return this.ro=new g_,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ak{so(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p_{constructor(){this.oo=()=>this._o(),this.ao=()=>this.uo(),this.co=[],this.lo()}so(e){this.co.push(e)}shutdown(){window.removeEventListener("online",this.oo),window.removeEventListener("offline",this.ao)}lo(){window.addEventListener("online",this.oo),window.addEventListener("offline",this.ao)}_o(){M("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.co)e(0)}uo(){M("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.co)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dc=null;function rh(){return dc===null?dc=function(){return 268435456+Math.round(2147483648*Math.random())}():dc++,"0x"+dc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ck={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lk{constructor(e){this.ho=e.ho,this.Po=e.Po}Io(e){this.To=e}Eo(e){this.Ao=e}onMessage(e){this.Ro=e}close(){this.Po()}send(e){this.ho(e)}Vo(){this.To()}mo(e){this.Ao(e)}fo(e){this.Ro(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wt="WebChannelConnection";class uk extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.po=r+"://"+n.host,this.yo=`projects/${s}/databases/${i}`,this.wo=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${i}`}get So(){return!1}bo(n,r,s,i,o){const a=rh(),c=this.Do(n,r);M("RestConnection",`Sending RPC '${n}' ${a}:`,c,s);const l={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Co(l,i,o),this.vo(n,c,l,s).then(u=>(M("RestConnection",`Received RPC '${n}' ${a}: `,u),u),u=>{throw oi("RestConnection",`RPC '${n}' ${a} failed with error: `,u,"url: ",c,"request:",s),u})}Fo(n,r,s,i,o,a){return this.bo(n,r,s,i,o)}Co(n,r,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Si}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,o)=>n[o]=i),s&&s.headers.forEach((i,o)=>n[o]=i)}Do(n,r){const s=ck[n];return`${this.po}/v1/${r}:${s}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,r,s){const i=rh();return new Promise((o,a)=>{const c=new ZC;c.setWithCredentials(!0),c.listenOnce(XC.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case eh.NO_ERROR:const u=c.getResponseJson();M(wt,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(u)),o(u);break;case eh.TIMEOUT:M(wt,`RPC '${e}' ${i} timed out`),a(new L(A.DEADLINE_EXCEEDED,"Request time out"));break;case eh.HTTP_ERROR:const h=c.getStatus();if(M(wt,`RPC '${e}' ${i} failed with status:`,h,"response text:",c.getResponseText()),h>0){let d=c.getResponseJson();Array.isArray(d)&&(d=d[0]);const f=d==null?void 0:d.error;if(f&&f.status&&f.message){const m=function(y){const T=y.toLowerCase().replace(/_/g,"-");return Object.values(A).indexOf(T)>=0?T:A.UNKNOWN}(f.status);a(new L(m,f.message))}else a(new L(A.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new L(A.UNAVAILABLE,"Connection failed."));break;default:Q()}}finally{M(wt,`RPC '${e}' ${i} completed.`)}});const l=JSON.stringify(s);M(wt,`RPC '${e}' ${i} sending request:`,s),c.send(n,"POST",l,r,15)})}Mo(e,n,r){const s=rh(),i=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=QC(),a=YC(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(c.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Co(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const u=i.join("");M(wt,`Creating RPC '${e}' stream ${s}: ${u}`,c);const h=o.createWebChannel(u,c);let d=!1,f=!1;const m=new lk({ho:y=>{f?M(wt,`Not sending because RPC '${e}' stream ${s} is closed:`,y):(d||(M(wt,`Opening RPC '${e}' stream ${s} transport.`),h.open(),d=!0),M(wt,`RPC '${e}' stream ${s} sending:`,y),h.send(y))},Po:()=>h.close()}),p=(y,T,w)=>{y.listen(T,v=>{try{w(v)}catch(b){setTimeout(()=>{throw b},0)}})};return p(h,ac.EventType.OPEN,()=>{f||M(wt,`RPC '${e}' stream ${s} transport opened.`)}),p(h,ac.EventType.CLOSE,()=>{f||(f=!0,M(wt,`RPC '${e}' stream ${s} transport closed`),m.mo())}),p(h,ac.EventType.ERROR,y=>{f||(f=!0,oi(wt,`RPC '${e}' stream ${s} transport errored:`,y),m.mo(new L(A.UNAVAILABLE,"The operation could not be completed")))}),p(h,ac.EventType.MESSAGE,y=>{var T;if(!f){const w=y.data[0];ee(!!w);const v=w,b=v.error||((T=v[0])===null||T===void 0?void 0:T.error);if(b){M(wt,`RPC '${e}' stream ${s} received error:`,b);const D=b.status;let j=function(V){const K=nt[V];if(K!==void 0)return gw(K)}(D),G=b.message;j===void 0&&(j=A.INTERNAL,G="Unknown error status: "+D+" with message "+b.message),f=!0,m.mo(new L(j,G)),h.close()}else M(wt,`RPC '${e}' stream ${s} received:`,w),m.fo(w)}}),p(a,JC.STAT_EVENT,y=>{y.stat===Tp.PROXY?M(wt,`RPC '${e}' stream ${s} detected buffering proxy`):y.stat===Tp.NOPROXY&&M(wt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{m.Vo()},0),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hk(){return typeof window<"u"?window:null}function kc(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pu(t){return new gx(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class um{constructor(e,n,r=1e3,s=1.5,i=6e4){this._i=e,this.timerId=n,this.xo=r,this.Oo=s,this.No=i,this.Bo=0,this.Lo=null,this.ko=Date.now(),this.reset()}reset(){this.Bo=0}qo(){this.Bo=this.No}Qo(e){this.cancel();const n=Math.floor(this.Bo+this.Ko()),r=Math.max(0,Date.now()-this.ko),s=Math.max(0,n-r);s>0&&M("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Bo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Lo=this._i.enqueueAfterDelay(this.timerId,s,()=>(this.ko=Date.now(),e())),this.Bo*=this.Oo,this.Bo<this.xo&&(this.Bo=this.xo),this.Bo>this.No&&(this.Bo=this.No)}$o(){this.Lo!==null&&(this.Lo.skipDelay(),this.Lo=null)}cancel(){this.Lo!==null&&(this.Lo.cancel(),this.Lo=null)}Ko(){return(Math.random()-.5)*this.Bo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kw{constructor(e,n,r,s,i,o,a,c){this._i=e,this.Uo=r,this.Wo=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Go=0,this.zo=null,this.jo=null,this.stream=null,this.Ho=new um(e,n)}Jo(){return this.state===1||this.state===5||this.Yo()}Yo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Zo()}async stop(){this.Jo()&&await this.close(0)}Xo(){this.state=0,this.Ho.reset()}e_(){this.Yo()&&this.zo===null&&(this.zo=this._i.enqueueAfterDelay(this.Uo,6e4,()=>this.t_()))}n_(e){this.r_(),this.stream.send(e)}async t_(){if(this.Yo())return this.close(0)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}i_(){this.jo&&(this.jo.cancel(),this.jo=null)}async close(e,n){this.r_(),this.i_(),this.Ho.cancel(),this.Go++,e!==4?this.Ho.reset():n&&n.code===A.RESOURCE_EXHAUSTED?(St(n.toString()),St("Using maximum backoff delay to prevent overloading the backend."),this.Ho.qo()):n&&n.code===A.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.s_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Eo(n)}s_(){}auth(){this.state=1;const e=this.o_(this.Go),n=this.Go;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Go===n&&this.__(r,s)},r=>{e(()=>{const s=new L(A.UNKNOWN,"Fetching auth token failed: "+r.message);return this.a_(s)})})}__(e,n){const r=this.o_(this.Go);this.stream=this.u_(e,n),this.stream.Io(()=>{r(()=>(this.state=2,this.jo=this._i.enqueueAfterDelay(this.Wo,1e4,()=>(this.Yo()&&(this.state=3),Promise.resolve())),this.listener.Io()))}),this.stream.Eo(s=>{r(()=>this.a_(s))}),this.stream.onMessage(s=>{r(()=>this.onMessage(s))})}Zo(){this.state=5,this.Ho.Qo(async()=>{this.state=0,this.start()})}a_(e){return M("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}o_(e){return n=>{this._i.enqueueAndForget(()=>this.Go===e?n():(M("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class dk extends Kw{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}u_(e,n){return this.connection.Mo("Listen",e,n)}onMessage(e){this.Ho.reset();const n=vx(this.serializer,e),r=function(i){if(!("targetChange"in i))return Z.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?Z.min():o.readTime?ut(o.readTime):Z.min()}(e);return this.listener.c_(n,r)}l_(e){const n={};n.database=ra(this.serializer),n.addTarget=function(i,o){let a;const c=o.target;if(a=sl(c)?{documents:ww(i,c)}:{query:Tw(i,c)},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=yw(i,o.resumeToken);const l=hd(i,o.expectedCount);l!==null&&(a.expectedCount=l)}else if(o.snapshotVersion.compareTo(Z.min())>0){a.readTime=mi(i,o.snapshotVersion.toTimestamp());const l=hd(i,o.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);const r=Ix(this.serializer,e);r&&(n.labels=r),this.n_(n)}h_(e){const n={};n.database=ra(this.serializer),n.removeTarget=e,this.n_(n)}}class fk extends Kw{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i,this.P_=!1}get I_(){return this.P_}start(){this.P_=!1,this.lastStreamToken=void 0,super.start()}s_(){this.P_&&this.d_([])}u_(e,n){return this.connection.Mo("Write",e,n)}onMessage(e){if(ee(!!e.streamToken),this.lastStreamToken=e.streamToken,this.P_){this.Ho.reset();const n=Ex(e.writeResults,e.commitTime),r=ut(e.commitTime);return this.listener.T_(r,n)}return ee(!e.writeResults||e.writeResults.length===0),this.P_=!0,this.listener.E_()}A_(){const e={};e.database=ra(this.serializer),this.n_(e)}d_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>sa(this.serializer,r))};this.n_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mk extends class{}{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.R_=!1}V_(){if(this.R_)throw new L(A.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,n,r){return this.V_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,i])=>this.connection.bo(e,n,r,s,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===A.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new L(A.UNKNOWN,s.toString())})}Fo(e,n,r,s){return this.V_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Fo(e,n,r,i,o,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===A.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new L(A.UNKNOWN,i.toString())})}terminate(){this.R_=!0}}class gk{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.f_=0,this.g_=null,this.p_=!0}y_(){this.f_===0&&(this.w_("Unknown"),this.g_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.g_=null,this.S_("Backend didn't respond within 10 seconds."),this.w_("Offline"),Promise.resolve())))}b_(e){this.state==="Online"?this.w_("Unknown"):(this.f_++,this.f_>=1&&(this.D_(),this.S_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.w_("Offline")))}set(e){this.D_(),this.f_=0,e==="Online"&&(this.p_=!1),this.w_(e)}w_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}S_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.p_?(St(n),this.p_=!1):M("OnlineStateTracker",n)}D_(){this.g_!==null&&(this.g_.cancel(),this.g_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pk{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.C_=[],this.v_=new Map,this.F_=new Set,this.M_=[],this.x_=i,this.x_.so(o=>{r.enqueueAndForget(async()=>{Is(this)&&(M("RemoteStore","Restarting streams for network reachability change."),await async function(c){const l=le(c);l.F_.add(4),await Oa(l),l.O_.set("Unknown"),l.F_.delete(4),await _u(l)}(this))})}),this.O_=new gk(r,s)}}async function _u(t){if(Is(t))for(const e of t.M_)await e(!0)}async function Oa(t){for(const e of t.M_)await e(!1)}function Hw(t,e){const n=le(t);n.v_.has(e.targetId)||(n.v_.set(e.targetId,e),fm(n)?dm(n):xi(n).Yo()&&hm(n,e))}function Gw(t,e){const n=le(t),r=xi(n);n.v_.delete(e),r.Yo()&&Ww(n,e),n.v_.size===0&&(r.Yo()?r.e_():Is(n)&&n.O_.set("Unknown"))}function hm(t,e){if(t.N_.Le(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Z.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}xi(t).l_(e)}function Ww(t,e){t.N_.Le(e),xi(t).h_(e)}function dm(t){t.N_=new hx({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>t.v_.get(e)||null,st:()=>t.datastore.serializer.databaseId}),xi(t).start(),t.O_.y_()}function fm(t){return Is(t)&&!xi(t).Jo()&&t.v_.size>0}function Is(t){return le(t).F_.size===0}function Qw(t){t.N_=void 0}async function _k(t){t.v_.forEach((e,n)=>{hm(t,e)})}async function yk(t,e){Qw(t),fm(t)?(t.O_.b_(e),dm(t)):t.O_.set("Unknown")}async function vk(t,e,n){if(t.O_.set("Online"),e instanceof _w&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.v_.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.v_.delete(a),s.N_.removeTarget(a))}(t,e)}catch(r){M("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await ll(t,r)}else if(e instanceof xc?t.N_.Ge(e):e instanceof pw?t.N_.Xe(e):t.N_.He(e),!n.isEqual(Z.min()))try{const r=await zw(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.N_._t(o);return a.targetChanges.forEach((c,l)=>{if(c.resumeToken.approximateByteSize()>0){const u=i.v_.get(l);u&&i.v_.set(l,u.withResumeToken(c.resumeToken,o))}}),a.targetMismatches.forEach((c,l)=>{const u=i.v_.get(c);if(!u)return;i.v_.set(c,u.withResumeToken(Et.EMPTY_BYTE_STRING,u.snapshotVersion)),Ww(i,c);const h=new Un(u.target,c,l,u.sequenceNumber);hm(i,h)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){M("RemoteStore","Failed to raise snapshot:",r),await ll(t,r)}}async function ll(t,e,n){if(!xr(e))throw e;t.F_.add(1),await Oa(t),t.O_.set("Offline"),n||(n=()=>zw(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{M("RemoteStore","Retrying IndexedDB access"),await n(),t.F_.delete(1),await _u(t)})}function Yw(t,e){return e().catch(n=>ll(t,n,e))}async function Na(t){const e=le(t),n=Rr(e);let r=e.C_.length>0?e.C_[e.C_.length-1].batchId:-1;for(;Ek(e);)try{const s=await sk(e.localStore,r);if(s===null){e.C_.length===0&&n.e_();break}r=s.batchId,Ik(e,s)}catch(s){await ll(e,s)}Xw(e)&&Jw(e)}function Ek(t){return Is(t)&&t.C_.length<10}function Ik(t,e){t.C_.push(e);const n=Rr(t);n.Yo()&&n.I_&&n.d_(e.mutations)}function Xw(t){return Is(t)&&!Rr(t).Jo()&&t.C_.length>0}function Jw(t){Rr(t).start()}async function wk(t){Rr(t).A_()}async function Tk(t){const e=Rr(t);for(const n of t.C_)e.d_(n.mutations)}async function bk(t,e,n){const r=t.C_.shift(),s=tm.from(r,e,n);await Yw(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Na(t)}async function Ak(t,e){e&&Rr(t).I_&&await async function(r,s){if(function(o){return mw(o)&&o!==A.ABORTED}(s.code)){const i=r.C_.shift();Rr(r).Xo(),await Yw(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await Na(r)}}(t,e),Xw(t)&&Jw(t)}async function __(t,e){const n=le(t);n.asyncQueue.verifyOperationInProgress(),M("RemoteStore","RemoteStore received new credentials");const r=Is(n);n.F_.add(3),await Oa(n),r&&n.O_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.F_.delete(3),await _u(n)}async function Rk(t,e){const n=le(t);e?(n.F_.delete(2),await _u(n)):e||(n.F_.add(2),await Oa(n),n.O_.set("Unknown"))}function xi(t){return t.B_||(t.B_=function(n,r,s){const i=le(n);return i.V_(),new dk(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Io:_k.bind(null,t),Eo:yk.bind(null,t),c_:vk.bind(null,t)}),t.M_.push(async e=>{e?(t.B_.Xo(),fm(t)?dm(t):t.O_.set("Unknown")):(await t.B_.stop(),Qw(t))})),t.B_}function Rr(t){return t.L_||(t.L_=function(n,r,s){const i=le(n);return i.V_(),new fk(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Io:wk.bind(null,t),Eo:Ak.bind(null,t),E_:Tk.bind(null,t),T_:bk.bind(null,t)}),t.M_.push(async e=>{e?(t.L_.Xo(),await Na(t)):(await t.L_.stop(),t.C_.length>0&&(M("RemoteStore",`Stopping write stream with ${t.C_.length} pending writes`),t.C_=[]))})),t.L_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mm{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new cn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new mm(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new L(A.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function gm(t,e){if(St("AsyncQueue",`${e}: ${t}`),xr(t))return new L(A.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js{constructor(e){this.comparator=e?(n,r)=>e(n,r)||z.comparator(n.key,r.key):(n,r)=>z.comparator(n.key,r.key),this.keyedMap=io(),this.sortedSet=new je(this.comparator)}static emptySet(e){return new Js(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Js)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Js;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y_{constructor(){this.k_=new je(z.comparator)}track(e){const n=e.doc.key,r=this.k_.get(n);r?e.type!==0&&r.type===3?this.k_=this.k_.insert(n,e):e.type===3&&r.type!==1?this.k_=this.k_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.k_=this.k_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.k_=this.k_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.k_=this.k_.remove(n):e.type===1&&r.type===2?this.k_=this.k_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.k_=this.k_.insert(n,{type:2,doc:e.doc}):Q():this.k_=this.k_.insert(n,e)}q_(){const e=[];return this.k_.inorderTraversal((n,r)=>{e.push(r)}),e}}class gi{constructor(e,n,r,s,i,o,a,c,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new gi(e,n,Js.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&lu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pk{constructor(){this.Q_=void 0,this.listeners=[]}}class Sk{constructor(){this.queries=new kr(e=>ew(e),lu),this.onlineState="Unknown",this.K_=new Set}}async function pm(t,e){const n=le(t),r=e.query;let s=!1,i=n.queries.get(r);if(i||(s=!0,i=new Pk),s)try{i.Q_=await n.onListen(r)}catch(o){const a=gm(o,`Initialization of query '${Us(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,i),i.listeners.push(e),e.U_(n.onlineState),i.Q_&&e.W_(i.Q_)&&ym(n)}async function _m(t,e){const n=le(t),r=e.query;let s=!1;const i=n.queries.get(r);if(i){const o=i.listeners.indexOf(e);o>=0&&(i.listeners.splice(o,1),s=i.listeners.length===0)}if(s)return n.queries.delete(r),n.onUnlisten(r)}function Ck(t,e){const n=le(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.listeners)a.W_(s)&&(r=!0);o.Q_=s}}r&&ym(n)}function xk(t,e,n){const r=le(t),s=r.queries.get(e);if(s)for(const i of s.listeners)i.onError(n);r.queries.delete(e)}function ym(t){t.K_.forEach(e=>{e.next()})}class vm{constructor(e,n,r){this.query=e,this.G_=n,this.z_=!1,this.j_=null,this.onlineState="Unknown",this.options=r||{}}W_(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new gi(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.z_?this.H_(e)&&(this.G_.next(e),n=!0):this.J_(e,this.onlineState)&&(this.Y_(e),n=!0),this.j_=e,n}onError(e){this.G_.error(e)}U_(e){this.onlineState=e;let n=!1;return this.j_&&!this.z_&&this.J_(this.j_,e)&&(this.Y_(this.j_),n=!0),n}J_(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Z_||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}H_(e){if(e.docChanges.length>0)return!0;const n=this.j_&&this.j_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Y_(e){e=gi.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.z_=!0,this.G_.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zw{constructor(e){this.key=e}}class eT{constructor(e){this.key=e}}class kk{constructor(e,n){this.query=e,this.oa=n,this._a=null,this.hasCachedResults=!1,this.current=!1,this.aa=me(),this.mutatedKeys=me(),this.ua=tw(e),this.ca=new Js(this.ua)}get la(){return this.oa}ha(e,n){const r=n?n.Pa:new y_,s=n?n.ca:this.ca;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const c=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,l=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((u,h)=>{const d=s.get(u),f=ka(this.query,h)?h:null,m=!!d&&this.mutatedKeys.has(d.key),p=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let y=!1;d&&f?d.data.isEqual(f.data)?m!==p&&(r.track({type:3,doc:f}),y=!0):this.Ia(d,f)||(r.track({type:2,doc:f}),y=!0,(c&&this.ua(f,c)>0||l&&this.ua(f,l)<0)&&(a=!0)):!d&&f?(r.track({type:0,doc:f}),y=!0):d&&!f&&(r.track({type:1,doc:d}),y=!0,(c||l)&&(a=!0)),y&&(f?(o=o.add(f),i=p?i.add(u):i.delete(u)):(o=o.delete(u),i=i.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),i=i.delete(u.key),r.track({type:1,doc:u})}return{ca:o,Pa:r,es:a,mutatedKeys:i}}Ia(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const s=this.ca;this.ca=e.ca,this.mutatedKeys=e.mutatedKeys;const i=e.Pa.q_();i.sort((l,u)=>function(d,f){const m=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Q()}};return m(d)-m(f)}(l.type,u.type)||this.ua(l.doc,u.doc)),this.da(r);const o=n?this.Ta():[],a=this.aa.size===0&&this.current?1:0,c=a!==this._a;return this._a=a,i.length!==0||c?{snapshot:new gi(this.query,e.ca,s,i,e.mutatedKeys,a===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ea:o}:{Ea:o}}U_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ca:this.ca,Pa:new y_,mutatedKeys:this.mutatedKeys,es:!1},!1)):{Ea:[]}}Aa(e){return!this.oa.has(e)&&!!this.ca.has(e)&&!this.ca.get(e).hasLocalMutations}da(e){e&&(e.addedDocuments.forEach(n=>this.oa=this.oa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.oa=this.oa.delete(n)),this.current=e.current)}Ta(){if(!this.current)return[];const e=this.aa;this.aa=me(),this.ca.forEach(r=>{this.Aa(r.key)&&(this.aa=this.aa.add(r.key))});const n=[];return e.forEach(r=>{this.aa.has(r)||n.push(new eT(r))}),this.aa.forEach(r=>{e.has(r)||n.push(new Zw(r))}),n}Ra(e){this.oa=e.Ps,this.aa=me();const n=this.ha(e.documents);return this.applyChanges(n,!0)}Va(){return gi.fromInitialDocuments(this.query,this.ca,this.mutatedKeys,this._a===0,this.hasCachedResults)}}class Dk{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Vk{constructor(e){this.key=e,this.ma=!1}}class Ok{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.fa={},this.ga=new kr(a=>ew(a),lu),this.pa=new Map,this.ya=new Set,this.wa=new je(z.comparator),this.Sa=new Map,this.ba=new am,this.Da={},this.Ca=new Map,this.va=ds.Ln(),this.onlineState="Unknown",this.Fa=void 0}get isPrimaryClient(){return this.Fa===!0}}async function Nk(t,e){const n=Kk(t);let r,s;const i=n.ga.get(e);if(i)r=i.targetId,n.sharedClientState.addLocalQueryTarget(r),s=i.view.Va();else{const o=await ik(n.localStore,tn(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,s=await Mk(n,e,r,a==="current",o.resumeToken),n.isPrimaryClient&&Hw(n.remoteStore,o)}return s}async function Mk(t,e,n,r,s){t.Ma=(h,d,f)=>async function(p,y,T,w){let v=y.view.ha(T);v.es&&(v=await m_(p.localStore,y.query,!1).then(({documents:j})=>y.view.ha(j,v)));const b=w&&w.targetChanges.get(y.targetId),D=y.view.applyChanges(v,p.isPrimaryClient,b);return E_(p,y.targetId,D.Ea),D.snapshot}(t,h,d,f);const i=await m_(t.localStore,e,!0),o=new kk(e,i.Ps),a=o.ha(i.documents),c=Va.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),l=o.applyChanges(a,t.isPrimaryClient,c);E_(t,n,l.Ea);const u=new Dk(e,n,o);return t.ga.set(e,u),t.pa.has(n)?t.pa.get(n).push(e):t.pa.set(n,[e]),l.snapshot}async function Lk(t,e){const n=le(t),r=n.ga.get(e),s=n.pa.get(r.targetId);if(s.length>1)return n.pa.set(r.targetId,s.filter(i=>!lu(i,e))),void n.ga.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await _d(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),Gw(n.remoteStore,r.targetId),yd(n,r.targetId)}).catch(vs)):(yd(n,r.targetId),await _d(n.localStore,r.targetId,!0))}async function Fk(t,e,n){const r=iT(t);try{const s=await function(o,a){const c=le(o),l=ze.now(),u=a.reduce((f,m)=>f.add(m.key),me());let h,d;return c.persistence.runTransaction("Locally write mutations","readwrite",f=>{let m=qt(),p=me();return c._s.getEntries(f,u).next(y=>{m=y,m.forEach((T,w)=>{w.isValidDocument()||(p=p.add(T))})}).next(()=>c.localDocuments.getOverlayedDocuments(f,m)).next(y=>{h=y;const T=[];for(const w of a){const v=ax(w,h.get(w.key).overlayedDocument);v!=null&&T.push(new Wn(w.key,v,qI(v.value.mapValue),Je.exists(!0)))}return c.mutationQueue.addMutationBatch(f,l,T,a)}).next(y=>{d=y;const T=y.applyToLocalDocumentSet(h,p);return c.documentOverlayCache.saveOverlays(f,y.batchId,T)})}).then(()=>({batchId:d.batchId,changes:rw(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,c){let l=o.Da[o.currentUser.toKey()];l||(l=new je(he)),l=l.insert(a,c),o.Da[o.currentUser.toKey()]=l}(r,s.batchId,n),await Ma(r,s.changes),await Na(r.remoteStore)}catch(s){const i=gm(s,"Failed to persist write");n.reject(i)}}async function tT(t,e){const n=le(t);try{const r=await nk(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Sa.get(i);o&&(ee(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.ma=!0:s.modifiedDocuments.size>0?ee(o.ma):s.removedDocuments.size>0&&(ee(o.ma),o.ma=!1))}),await Ma(n,r,e)}catch(r){await vs(r)}}function v_(t,e,n){const r=le(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.ga.forEach((i,o)=>{const a=o.view.U_(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const c=le(o);c.onlineState=a;let l=!1;c.queries.forEach((u,h)=>{for(const d of h.listeners)d.U_(a)&&(l=!0)}),l&&ym(c)}(r.eventManager,e),s.length&&r.fa.c_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Uk(t,e,n){const r=le(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Sa.get(e),i=s&&s.key;if(i){let o=new je(z.comparator);o=o.insert(i,Be.newNoDocument(i,Z.min()));const a=me().add(i),c=new du(Z.min(),new Map,new je(he),o,a);await tT(r,c),r.wa=r.wa.remove(i),r.Sa.delete(e),Em(r)}else await _d(r.localStore,e,!1).then(()=>yd(r,e,n)).catch(vs)}async function Bk(t,e){const n=le(t),r=e.batch.batchId;try{const s=await tk(n.localStore,e);rT(n,r,null),nT(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ma(n,s)}catch(s){await vs(s)}}async function $k(t,e,n){const r=le(t);try{const s=await function(o,a){const c=le(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let u;return c.mutationQueue.lookupMutationBatch(l,a).next(h=>(ee(h!==null),u=h.keys(),c.mutationQueue.removeMutationBatch(l,h))).next(()=>c.mutationQueue.performConsistencyCheck(l)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(l,u,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,u)).next(()=>c.localDocuments.getDocuments(l,u))})}(r.localStore,e);rT(r,e,n),nT(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Ma(r,s)}catch(s){await vs(s)}}function nT(t,e){(t.Ca.get(e)||[]).forEach(n=>{n.resolve()}),t.Ca.delete(e)}function rT(t,e,n){const r=le(t);let s=r.Da[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Da[r.currentUser.toKey()]=s}}function yd(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.pa.get(e))t.ga.delete(r),n&&t.fa.xa(r,n);t.pa.delete(e),t.isPrimaryClient&&t.ba.mr(e).forEach(r=>{t.ba.containsKey(r)||sT(t,r)})}function sT(t,e){t.ya.delete(e.path.canonicalString());const n=t.wa.get(e);n!==null&&(Gw(t.remoteStore,n),t.wa=t.wa.remove(e),t.Sa.delete(n),Em(t))}function E_(t,e,n){for(const r of n)r instanceof Zw?(t.ba.addReference(r.key,e),jk(t,r)):r instanceof eT?(M("SyncEngine","Document no longer in limbo: "+r.key),t.ba.removeReference(r.key,e),t.ba.containsKey(r.key)||sT(t,r.key)):Q()}function jk(t,e){const n=e.key,r=n.path.canonicalString();t.wa.get(n)||t.ya.has(r)||(M("SyncEngine","New document in limbo: "+n),t.ya.add(r),Em(t))}function Em(t){for(;t.ya.size>0&&t.wa.size<t.maxConcurrentLimboResolutions;){const e=t.ya.values().next().value;t.ya.delete(e);const n=new z(Re.fromString(e)),r=t.va.next();t.Sa.set(r,new Vk(n)),t.wa=t.wa.insert(n,r),Hw(t.remoteStore,new Un(tn(xa(n.path)),r,"TargetPurposeLimboResolution",Xt.ae))}}async function Ma(t,e,n){const r=le(t),s=[],i=[],o=[];r.ga.isEmpty()||(r.ga.forEach((a,c)=>{o.push(r.Ma(c,e,n).then(l=>{if((l||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(c.targetId,l!=null&&l.fromCache?"not-current":"current"),l){s.push(l);const u=lm.$i(c.targetId,l);i.push(u)}}))}),await Promise.all(o),r.fa.c_(s),await async function(c,l){const u=le(c);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>I.forEach(l,d=>I.forEach(d.Qi,f=>u.persistence.referenceDelegate.addReference(h,d.targetId,f)).next(()=>I.forEach(d.Ki,f=>u.persistence.referenceDelegate.removeReference(h,d.targetId,f)))))}catch(h){if(!xr(h))throw h;M("LocalStore","Failed to update sequence numbers: "+h)}for(const h of l){const d=h.targetId;if(!h.fromCache){const f=u.rs.get(d),m=f.snapshotVersion,p=f.withLastLimboFreeSnapshotVersion(m);u.rs=u.rs.insert(d,p)}}}(r.localStore,i))}async function zk(t,e){const n=le(t);if(!n.currentUser.isEqual(e)){M("SyncEngine","User change. New user:",e.toKey());const r=await jw(n.localStore,e);n.currentUser=e,function(i,o){i.Ca.forEach(a=>{a.forEach(c=>{c.reject(new L(A.CANCELLED,o))})}),i.Ca.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ma(n,r.cs)}}function qk(t,e){const n=le(t),r=n.Sa.get(e);if(r&&r.ma)return me().add(r.key);{let s=me();const i=n.pa.get(e);if(!i)return s;for(const o of i){const a=n.ga.get(o);s=s.unionWith(a.view.la)}return s}}function Kk(t){const e=le(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=tT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=qk.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Uk.bind(null,e),e.fa.c_=Ck.bind(null,e.eventManager),e.fa.xa=xk.bind(null,e.eventManager),e}function iT(t){const e=le(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Bk.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=$k.bind(null,e),e}class vd{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=pu(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return $w(this.persistence,new Bw,e.initialUser,this.serializer)}createPersistence(e){return new Uw(gu.Jr,this.serializer)}createSharedClientState(e){return new qw}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class Hk extends vd{constructor(e,n,r){super(),this.Na=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Na.initialize(this,e),await iT(this.Na.syncEngine),await Na(this.Na.remoteStore),await this.persistence.gi(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}createLocalStore(e){return $w(this.persistence,new Bw,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new Lx(r,e.asyncQueue,n)}createIndexBackfillerScheduler(e,n){const r=new m1(n,this.persistence);return new f1(e.asyncQueue,r)}createPersistence(e){const n=Jx(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?Mt.withCacheSize(this.cacheSizeBytes):Mt.DEFAULT;return new cm(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,hk(),kc(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new qw}}class oT{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>v_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=zk.bind(null,this.syncEngine),await Rk(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Sk}()}createDatastore(e){const n=pu(e.databaseInfo.databaseId),r=function(i){return new uk(i)}(e.databaseInfo);return function(i,o,a,c){return new mk(i,o,a,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new pk(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>v_(this.syncEngine,n,0),function(){return p_.C()?new p_:new ak}())}createSyncEngine(e,n){return function(s,i,o,a,c,l,u){const h=new Ok(s,i,o,a,c,l);return u&&(h.Fa=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(n){const r=le(n);M("RemoteStore","RemoteStore shutting down."),r.F_.add(5),await Oa(r),r.x_.shutdown(),r.O_.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Im{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ba(this.observer.next,e)}error(e){this.observer.error?this.Ba(this.observer.error,e):St("Uncaught Error in snapshot listener:",e.toString())}La(){this.muted=!0}Ba(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gk{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new L(A.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const n=await async function(s,i){const o=le(s),a=ra(o.serializer)+"/documents",c={documents:i.map(d=>na(o.serializer,d))},l=await o.Fo("BatchGetDocuments",a,c,i.length),u=new Map;l.forEach(d=>{const f=yx(o.serializer,d);u.set(f.key.toString(),f)});const h=[];return i.forEach(d=>{const f=u.get(d.toString());ee(!!f),h.push(f)}),h}(this.datastore,e);return n.forEach(r=>this.recordVersion(r)),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Da(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;const e=this.readVersions;this.mutations.forEach(n=>{e.delete(n.key.toString())}),e.forEach((n,r)=>{const s=z.fromPath(r);this.mutations.push(new Zf(s,this.precondition(s)))}),await async function(r,s){const i=le(r),o=ra(i.serializer)+"/documents",a={writes:s.map(c=>sa(i.serializer,c))};await i.bo("Commit",o,a)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw Q();n=Z.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new L(A.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(Z.min())?Je.exists(!1):Je.updateTime(n):Je.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(Z.min()))throw new L(A.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Je.updateTime(n)}return Je.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wk{constructor(e,n,r,s,i){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=s,this.deferred=i,this.za=r.maxAttempts,this.Ho=new um(this.asyncQueue,"transaction_retry")}run(){this.za-=1,this.ja()}ja(){this.Ho.Qo(async()=>{const e=new Gk(this.datastore),n=this.Ha(e);n&&n.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(s=>{this.Ja(s)}))}).catch(r=>{this.Ja(r)})})}Ha(e){try{const n=this.updateFunction(e);return!Pa(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Ja(e){this.za>0&&this.Ya(e)?(this.za-=1,this.asyncQueue.enqueueAndForget(()=>(this.ja(),Promise.resolve()))):this.deferred.reject(e)}Ya(e){if(e.name==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!mw(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qk{constructor(e,n,r,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=mt.UNAUTHENTICATED,this.clientId=DI.V(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async i=>{M("FirestoreClient","Received user=",i.uid),await this.authCredentialListener(i),this.user=i}),this.appCheckCredentials.start(r,i=>(M("FirestoreClient","Received new app check token=",i),this.appCheckCredentialListener(i,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new L(A.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new cn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=gm(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function sh(t,e){t.asyncQueue.verifyOperationInProgress(),M("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await jw(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function I_(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Xk(t);M("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(s=>__(e.remoteStore,s)),t.setAppCheckTokenChangeListener((s,i)=>__(e.remoteStore,i)),t._onlineComponents=e}function Yk(t){return t.name==="FirebaseError"?t.code===A.FAILED_PRECONDITION||t.code===A.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function Xk(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){M("FirestoreClient","Using user provided OfflineComponentProvider");try{await sh(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!Yk(n))throw n;oi("Error using user provided cache. Falling back to memory cache: "+n),await sh(t,new vd)}}else M("FirestoreClient","Using default OfflineComponentProvider"),await sh(t,new vd);return t._offlineComponents}async function wm(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(M("FirestoreClient","Using user provided OnlineComponentProvider"),await I_(t,t._uninitializedComponentsProvider._online)):(M("FirestoreClient","Using default OnlineComponentProvider"),await I_(t,new oT))),t._onlineComponents}function Jk(t){return wm(t).then(e=>e.syncEngine)}function Zk(t){return wm(t).then(e=>e.datastore)}async function ul(t){const e=await wm(t),n=e.eventManager;return n.onListen=Nk.bind(null,e.syncEngine),n.onUnlisten=Lk.bind(null,e.syncEngine),n}function eD(t,e,n={}){const r=new cn;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,c,l){const u=new Im({next:d=>{o.enqueueAndForget(()=>_m(i,h));const f=d.docs.has(a);!f&&d.fromCache?l.reject(new L(A.UNAVAILABLE,"Failed to get document because the client is offline.")):f&&d.fromCache&&c&&c.source==="server"?l.reject(new L(A.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(d)},error:d=>l.reject(d)}),h=new vm(xa(a.path),u,{includeMetadataChanges:!0,Z_:!0});return pm(i,h)}(await ul(t),t.asyncQueue,e,n,r)),r.promise}function tD(t,e,n={}){const r=new cn;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,c,l){const u=new Im({next:d=>{o.enqueueAndForget(()=>_m(i,h)),d.fromCache&&c.source==="server"?l.reject(new L(A.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(d)},error:d=>l.reject(d)}),h=new vm(a,u,{includeMetadataChanges:!0,Z_:!0});return pm(i,h)}(await ul(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aT(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cT(t,e,n){if(!n)throw new L(A.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function nD(t,e,n,r){if(e===!0&&r===!0)throw new L(A.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function T_(t){if(!z.isDocumentKey(t))throw new L(A.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function b_(t){if(z.isDocumentKey(t))throw new L(A.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function yu(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Q()}function Dt(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new L(A.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=yu(t);throw new L(A.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A_{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new L(A.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new L(A.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}nD("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=aT((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new L(A.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new L(A.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new L(A.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class vu{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new A_({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new L(A.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new L(A.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new A_(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new t1;switch(r.type){case"firstParty":return new i1(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new L(A.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=w_.get(n);r&&(M("ComponentProvider","Removing Datastore"),w_.delete(n),r.terminate())}(this),Promise.resolve()}}function rD(t,e,n,r={}){var s;const i=(t=Dt(t,vu))._getSettings(),o=`${e}:${n}`;if(i.host!=="firestore.googleapis.com"&&i.host!==o&&oi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},i),{host:o,ssl:!1})),r.mockUserToken){let a,c;if(typeof r.mockUserToken=="string")a=r.mockUserToken,c=mt.MOCK_USER;else{a=IE(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new L(A.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new mt(l)}t._authCredentials=new n1(new kI(a,c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ws(this.firestore,e,this._query)}}class vt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new yr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new vt(this.firestore,e,this._key)}}class yr extends ws{constructor(e,n,r){super(e,n,xa(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new vt(this.firestore,null,new z(e))}withConverter(e){return new yr(this.firestore,e,this._path)}}function ih(t,e,...n){if(t=$e(t),cT("collection","path",e),t instanceof vu){const r=Re.fromString(e,...n);return b_(r),new yr(t,null,r)}{if(!(t instanceof vt||t instanceof yr))throw new L(A.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Re.fromString(e,...n));return b_(r),new yr(t.firestore,null,r)}}function Ed(t,e,...n){if(t=$e(t),arguments.length===1&&(e=DI.V()),cT("doc","path",e),t instanceof vu){const r=Re.fromString(e,...n);return T_(r),new vt(t,null,new z(r))}{if(!(t instanceof vt||t instanceof yr))throw new L(A.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Re.fromString(e,...n));return T_(r),new vt(t.firestore,t instanceof yr?t.converter:null,new z(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sD{constructor(){this.Za=Promise.resolve(),this.Xa=[],this.eu=!1,this.tu=[],this.nu=null,this.ru=!1,this.iu=!1,this.su=[],this.Ho=new um(this,"async_queue_retry"),this.ou=()=>{const n=kc();n&&M("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Ho.$o()};const e=kc();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.ou)}get isShuttingDown(){return this.eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this._u(),this.au(e)}enterRestrictedMode(e){if(!this.eu){this.eu=!0,this.iu=e||!1;const n=kc();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.ou)}}enqueue(e){if(this._u(),this.eu)return new Promise(()=>{});const n=new cn;return this.au(()=>this.eu&&this.iu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xa.push(e),this.uu()))}async uu(){if(this.Xa.length!==0){try{await this.Xa[0](),this.Xa.shift(),this.Ho.reset()}catch(e){if(!xr(e))throw e;M("AsyncQueue","Operation failed with retryable error: "+e)}this.Xa.length>0&&this.Ho.Qo(()=>this.uu())}}au(e){const n=this.Za.then(()=>(this.ru=!0,e().catch(r=>{this.nu=r,this.ru=!1;const s=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw St("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.ru=!1,r))));return this.Za=n,n}enqueueAfterDelay(e,n,r){this._u(),this.su.indexOf(e)>-1&&(n=0);const s=mm.createAndSchedule(this,e,n,r,i=>this.cu(i));return this.tu.push(s),s}_u(){this.nu&&Q()}verifyOperationInProgress(){}async lu(){let e;do e=this.Za,await e;while(e!==this.Za)}hu(e){for(const n of this.tu)if(n.timerId===e)return!0;return!1}Pu(e){return this.lu().then(()=>{this.tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.lu()})}Iu(e){this.su.push(e)}cu(e){const n=this.tu.indexOf(e);this.tu.splice(n,1)}}function R_(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1}(t,["next","error","complete"])}class xn extends vu{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=function(){return new sD}(),this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||lT(this),this._firestoreClient.terminate()}}function iD(t,e,n){n||(n="(default)");const r=ya(t,"firestore");if(r.isInitialized(n)){const s=r.getImmediate({identifier:n}),i=r.getOptions(n);if(Fo(i,e))return s;throw new L(A.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(e.cacheSizeBytes!==void 0&&e.localCache!==void 0)throw new L(A.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(e.cacheSizeBytes!==void 0&&e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new L(A.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return r.initialize({options:e,instanceIdentifier:n})}function oD(t,e){const n=typeof t=="object"?t:Tf(),r=typeof t=="string"?t:e||"(default)",s=ya(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=yE("firestore");i&&rD(s,...i)}return s}function La(t){return t._firestoreClient||lT(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function lT(t){var e,n,r;const s=t._freezeSettings(),i=function(a,c,l,u){return new N1(a,c,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,aT(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._firestoreClient=new Qk(t._authCredentials,t._appCheckCredentials,t._queue,i),!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:s.localCache.kind,_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new fs(Et.fromBase64String(e))}catch(n){throw new L(A.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new fs(Et.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new L(A.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xe(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tm{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new L(A.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new L(A.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return he(this._lat,e._lat)||he(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aD=/^__.*__$/;class cD{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Wn(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ci(e,this.data,n,this.fieldTransforms)}}class uT{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Wn(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function hT(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Q()}}class bm{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.du(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Tu(){return this.settings.Tu}Eu(e){return new bm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Au(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Eu({path:r,Ru:!1});return s.Vu(e),s}mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Eu({path:r,Ru:!1});return s.du(),s}fu(e){return this.Eu({path:void 0,Ru:!0})}gu(e){return hl(e,this.settings.methodName,this.settings.pu||!1,this.path,this.settings.yu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}du(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vu(this.path.get(e))}Vu(e){if(e.length===0)throw this.gu("Document fields must not be empty");if(hT(this.Tu)&&aD.test(e))throw this.gu('Document fields cannot begin and end with "__"')}}class lD{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||pu(e)}wu(e,n,r,s=!1){return new bm({Tu:e,methodName:n,yu:r,path:Xe.emptyPath(),Ru:!1,pu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ua(t){const e=t._freezeSettings(),n=pu(t._databaseId);return new lD(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Am(t,e,n,r,s,i={}){const o=t.wu(i.merge||i.mergeFields?2:0,e,n,s);Pm("Data must be an object, but it was:",o,r);const a=mT(r,o);let c,l;if(i.merge)c=new Ft(o.fieldMask),l=o.fieldTransforms;else if(i.mergeFields){const u=[];for(const h of i.mergeFields){const d=Id(e,h,n);if(!o.contains(d))throw new L(A.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);pT(u,d)||u.push(d)}c=new Ft(u),l=o.fieldTransforms.filter(h=>c.covers(h.field))}else c=null,l=o.fieldTransforms;return new cD(new _t(a),c,l)}class Iu extends Eu{_toFieldTransform(e){if(e.Tu!==2)throw e.Tu===1?e.gu(`${this._methodName}() can only appear at the top level of your update data`):e.gu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Iu}}class Rm extends Eu{_toFieldTransform(e){return new hw(e.path,new hi)}isEqual(e){return e instanceof Rm}}function dT(t,e,n,r){const s=t.wu(1,e,n);Pm("Data must be an object, but it was:",s,r);const i=[],o=_t.empty();Es(r,(c,l)=>{const u=Sm(e,c,n);l=$e(l);const h=s.mu(u);if(l instanceof Iu)i.push(u);else{const d=Ba(l,h);d!=null&&(i.push(u),o.set(u,d))}});const a=new Ft(i);return new uT(o,a,s.fieldTransforms)}function fT(t,e,n,r,s,i){const o=t.wu(1,e,n),a=[Id(e,r,n)],c=[s];if(i.length%2!=0)throw new L(A.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<i.length;d+=2)a.push(Id(e,i[d])),c.push(i[d+1]);const l=[],u=_t.empty();for(let d=a.length-1;d>=0;--d)if(!pT(l,a[d])){const f=a[d];let m=c[d];m=$e(m);const p=o.mu(f);if(m instanceof Iu)l.push(f);else{const y=Ba(m,p);y!=null&&(l.push(f),u.set(f,y))}}const h=new Ft(l);return new uT(u,h,o.fieldTransforms)}function uD(t,e,n,r=!1){return Ba(n,t.wu(r?4:3,e))}function Ba(t,e){if(gT(t=$e(t)))return Pm("Unsupported field value:",e,t),mT(t,e);if(t instanceof Eu)return function(r,s){if(!hT(s.Tu))throw s.gu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.gu(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Ru&&e.Tu!==4)throw e.gu("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let c=Ba(a,s.fu(o));c==null&&(c={nullValue:"NULL_VALUE"}),i.push(c),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=$e(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return tx(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=ze.fromDate(r);return{timestampValue:mi(s.serializer,i)}}if(r instanceof ze){const i=new ze(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:mi(s.serializer,i)}}if(r instanceof Tm)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof fs)return{bytesValue:yw(s.serializer,r._byteString)};if(r instanceof vt){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.gu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:sm(r.firestore._databaseId||s.databaseId,r._key.path)}}throw s.gu(`Unsupported field value: ${yu(r)}`)}(t,e)}function mT(t,e){const n={};return $I(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Es(t,(r,s)=>{const i=Ba(s,e.Au(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function gT(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ze||t instanceof Tm||t instanceof fs||t instanceof vt||t instanceof Eu)}function Pm(t,e,n){if(!gT(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=yu(n);throw r==="an object"?e.gu(t+" a custom object"):e.gu(t+" "+r)}}function Id(t,e,n){if((e=$e(e))instanceof Fa)return e._internalPath;if(typeof e=="string")return Sm(t,e);throw hl("Field path arguments must be of type string or ",t,!1,void 0,n)}const hD=new RegExp("[~\\*/\\[\\]]");function Sm(t,e,n){if(e.search(hD)>=0)throw hl(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Fa(...e.split("."))._internalPath}catch{throw hl(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function hl(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(i||o)&&(c+=" (found",i&&(c+=` in field ${r}`),o&&(c+=` in document ${s}`),c+=")"),new L(A.INVALID_ARGUMENT,a+t+c)}function pT(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new vt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new dD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Cm("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class dD extends dl{data(){return super.data()}}function Cm(t,e){return typeof e=="string"?Sm(t,e):e instanceof Fa?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _T(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new L(A.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class xm{}class fD extends xm{}function oh(t,e,...n){let r=[];e instanceof xm&&r.push(e),r=r.concat(n),function(i){const o=i.filter(c=>c instanceof ja).length,a=i.filter(c=>c instanceof $a).length;if(o>1||o>0&&a>0)throw new L(A.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class $a extends fD{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new $a(e,n,r)}_apply(e){const n=this._parse(e);return yT(e._query,n),new ws(e.firestore,e.converter,ld(e._query,n))}_parse(e){const n=Ua(e.firestore);return function(i,o,a,c,l,u,h){let d;if(l.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new L(A.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){S_(h,u);const f=[];for(const m of h)f.push(P_(c,i,m));d={arrayValue:{values:f}}}else d=P_(c,i,h)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||S_(h,u),d=uD(a,o,h,u==="in"||u==="not-in");return ye.create(l,u,d)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Hi(t,e,n){const r=e,s=Cm("where",t);return $a._create(s,r,n)}class ja extends xm{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new ja(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Se.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const a=i.getFlattenedFilters();for(const c of a)yT(o,c),o=ld(o,c)}(e._query,n),new ws(e.firestore,e.converter,ld(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function mD(...t){return t.forEach(e=>pD("or",e)),ja._create("or",t)}function P_(t,e,n){if(typeof(n=$e(n))=="string"){if(n==="")throw new L(A.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ZI(e)&&n.indexOf("/")!==-1)throw new L(A.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Re.fromString(n));if(!z.isDocumentKey(r))throw new L(A.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Zo(t,new z(r))}if(n instanceof vt)return Zo(t,n._key);throw new L(A.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${yu(n)}.`)}function S_(t,e){if(!Array.isArray(t)||t.length===0)throw new L(A.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function yT(t,e){if(e.isInequality()){const r=Jf(t),s=e.field;if(r!==null&&!r.isEqual(s))throw new L(A.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${s.toString()}'`);const i=JI(t);i!==null&&gD(t,s,i)}const n=function(s,i){for(const o of s)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new L(A.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new L(A.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function gD(t,e,n){if(!n.isEqual(e))throw new L(A.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}function pD(t,e){if(!(e instanceof $a||e instanceof ja))throw new L(A.INVALID_ARGUMENT,`Function ${t}() requires AppliableConstraints created with a call to 'where(...)', 'or(...)', or 'and(...)'.`)}class vT{convertValue(e,n="none"){switch(cs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return qe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(br(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Q()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Es(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertGeoPoint(e){return new Tm(qe(e.latitude),qe(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Yf(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Xo(e));default:return null}}convertTimestamp(e){const n=Tr(e);return new ze(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Re.fromString(e);ee(Pw(r));const s=new as(r.get(1),r.get(3)),i=new z(r.popFirst(5));return s.isEqual(n)||St(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function km(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class _D extends vT{constructor(e){super(),this.firestore=e}convertBytes(e){return new fs(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new vt(this.firestore,null,n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Dm extends dl{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Dc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Cm("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Dc extends Dm{data(e={}){return super.data(e)}}class ET{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Ks(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Dc(this._firestore,this._userDataWriter,r.key,r,new Ks(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new L(A.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const c=new Dc(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Ks(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const c=new Dc(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Ks(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let l=-1,u=-1;return a.type!==0&&(l=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),u=o.indexOf(a.doc.key)),{type:yD(a.type),doc:c,oldIndex:l,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function yD(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Q()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EU(t){t=Dt(t,vt);const e=Dt(t.firestore,xn);return eD(La(e),t._key).then(n=>IT(e,t,n))}class wu extends vT{constructor(e){super(),this.firestore=e}convertBytes(e){return new fs(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new vt(this.firestore,null,n)}}function IU(t){t=Dt(t,ws);const e=Dt(t.firestore,xn),n=La(e),r=new wu(e);return _T(t._query),tD(n,t._query).then(s=>new ET(e,r,t,s))}function wU(t,e,n){t=Dt(t,vt);const r=Dt(t.firestore,xn),s=km(t.converter,e,n);return Tu(r,[Am(Ua(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,Je.none())])}function vD(t,e,n,...r){t=Dt(t,vt);const s=Dt(t.firestore,xn),i=Ua(s);let o;return o=typeof(e=$e(e))=="string"||e instanceof Fa?fT(i,"updateDoc",t._key,e,n,r):dT(i,"updateDoc",t._key,e),Tu(s,[o.toMutation(t._key,Je.exists(!0))])}function TU(t){return Tu(Dt(t.firestore,xn),[new Da(t._key,Je.none())])}function bU(t,e){const n=Dt(t.firestore,xn),r=Ed(t),s=km(t.converter,e);return Tu(n,[Am(Ua(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,Je.exists(!1))]).then(()=>r)}function fc(t,...e){var n,r,s;t=$e(t);let i={includeMetadataChanges:!1},o=0;typeof e[o]!="object"||R_(e[o])||(i=e[o],o++);const a={includeMetadataChanges:i.includeMetadataChanges};if(R_(e[o])){const h=e[o];e[o]=(n=h.next)===null||n===void 0?void 0:n.bind(h),e[o+1]=(r=h.error)===null||r===void 0?void 0:r.bind(h),e[o+2]=(s=h.complete)===null||s===void 0?void 0:s.bind(h)}let c,l,u;if(t instanceof vt)l=Dt(t.firestore,xn),u=xa(t._key.path),c={next:h=>{e[o]&&e[o](IT(l,t,h))},error:e[o+1],complete:e[o+2]};else{const h=Dt(t,ws);l=Dt(h.firestore,xn),u=h._query;const d=new wu(l);c={next:f=>{e[o]&&e[o](new ET(l,d,h,f))},error:e[o+1],complete:e[o+2]},_T(t._query)}return function(d,f,m,p){const y=new Im(p),T=new vm(f,y,m);return d.asyncQueue.enqueueAndForget(async()=>pm(await ul(d),T)),()=>{y.La(),d.asyncQueue.enqueueAndForget(async()=>_m(await ul(d),T))}}(La(l),u,a,c)}function Tu(t,e){return function(r,s){const i=new cn;return r.asyncQueue.enqueueAndForget(async()=>Fk(await Jk(r),s,i)),i.promise}(La(t),e)}function IT(t,e,n){const r=n.docs.get(e._key),s=new wu(t);return new Dm(t,s,e._key,r,new Ks(n.hasPendingWrites,n.fromCache),e.converter)}class ED{constructor(e){let n;this.kind="persistent",e!=null&&e.tabManager?(e.tabManager._initialize(e),n=e.tabManager):(n=wT(void 0),n._initialize(e)),this._onlineComponentProvider=n._onlineComponentProvider,this._offlineComponentProvider=n._offlineComponentProvider}toJSON(){return{kind:this.kind}}}function ID(t){return new ED(t)}class wD{constructor(e){this.forceOwnership=e,this.kind="persistentSingleTab"}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=new oT,this._offlineComponentProvider=new Hk(this._onlineComponentProvider,e==null?void 0:e.cacheSizeBytes,this.forceOwnership)}}function wT(t){return new wD(t==null?void 0:t.forceOwnership)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TD={maxAttempts:5};function Gi(t,e){if((t=$e(t)).firestore!==e)throw new L(A.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bD extends class{constructor(n,r){this._firestore=n,this._transaction=r,this._dataReader=Ua(n)}get(n){const r=Gi(n,this._firestore),s=new _D(this._firestore);return this._transaction.lookup([r._key]).then(i=>{if(!i||i.length!==1)return Q();const o=i[0];if(o.isFoundDocument())return new dl(this._firestore,s,o.key,o,r.converter);if(o.isNoDocument())return new dl(this._firestore,s,r._key,null,r.converter);throw Q()})}set(n,r,s){const i=Gi(n,this._firestore),o=km(i.converter,r,s),a=Am(this._dataReader,"Transaction.set",i._key,o,i.converter!==null,s);return this._transaction.set(i._key,a),this}update(n,r,s,...i){const o=Gi(n,this._firestore);let a;return a=typeof(r=$e(r))=="string"||r instanceof Fa?fT(this._dataReader,"Transaction.update",o._key,r,s,i):dT(this._dataReader,"Transaction.update",o._key,r),this._transaction.update(o._key,a),this}delete(n){const r=Gi(n,this._firestore);return this._transaction.delete(r._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=Gi(e,this._firestore),r=new wu(this._firestore);return super.get(e).then(s=>new Dm(this._firestore,r,n._key,s._document,new Ks(!1,!1),n.converter))}}function RU(t,e,n){t=Dt(t,xn);const r=Object.assign(Object.assign({},TD),n);return function(i){if(i.maxAttempts<1)throw new L(A.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(i,o,a){const c=new cn;return i.asyncQueue.enqueueAndForget(async()=>{const l=await Zk(i);new Wk(i.asyncQueue,l,a,o,c).run()}),c.promise}(La(t),s=>e(new bD(t,s)),r)}function PU(){return new Rm("serverTimestamp")}(function(e,n=!0){(function(s){Si=s})(_s),is(new wr("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new xn(new r1(r.getProvider("auth-internal")),new a1(r.getProvider("app-check-internal")),function(l,u){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new L(A.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new as(l.options.projectId,u)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),Rn(bp,"4.1.3",e),Rn(bp,"4.1.3","esm2017")})();var AD="firebase",RD="10.3.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Rn(AD,RD,"app");function Vm(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function C_(t){return t!==void 0&&t.enterprise!==void 0}class PD{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>n.provider==="EMAIL_PASSWORD_PROVIDER"&&n.enforcementState!=="OFF")}}function TT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const SD=TT,bT=new pa("auth","Firebase",TT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fl=new If("@firebase/auth");function CD(t,...e){fl.logLevel<=_e.WARN&&fl.warn(`Auth (${_s}): ${t}`,...e)}function Vc(t,...e){fl.logLevel<=_e.ERROR&&fl.error(`Auth (${_s}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hn(t,...e){throw Om(t,...e)}function Pn(t,...e){return Om(t,...e)}function xD(t,e,n){const r=Object.assign(Object.assign({},SD()),{[e]:n});return new pa("auth","Firebase",r).create(e,{appName:t.name})}function Om(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return bT.create(t,...e)}function oe(t,e,...n){if(!t)throw Om(e,...n)}function Bn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Vc(e),new Error(e)}function Hn(t,e){t||Bn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wd(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function kD(){return x_()==="http:"||x_()==="https:"}function x_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DD(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(kD()||DP()||"connection"in navigator)?navigator.onLine:!0}function VD(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za{constructor(e,n){this.shortDelay=e,this.longDelay=n,Hn(n>e,"Short delay should be less than long delay!"),this.isMobile=kP()||VP()}get(){return DD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nm(t,e){Hn(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AT{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;Bn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;Bn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;Bn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ND=new za(3e4,6e4);function ki(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Ts(t,e,n,r,s={}){return RT(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=_a(Object.assign({key:t.config.apiKey},o)).slice(1),c=await t._getAdditionalHeaders();return c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode),AT.fetch()(PT(t,t.config.apiHost,n,a),Object.assign({method:e,headers:c,referrerPolicy:"no-referrer"},i))})}async function RT(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},OD),e);try{const s=new MD(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw mc(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[c,l]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw mc(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw mc(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw mc(t,"user-disabled",o);const u=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw xD(t,u,l);hn(t,u)}}catch(s){if(s instanceof Dn)throw s;hn(t,"network-request-failed",{message:String(s)})}}async function bu(t,e,n,r,s={}){const i=await Ts(t,e,n,r,s);return"mfaPendingCredential"in i&&hn(t,"multi-factor-auth-required",{_serverResponse:i}),i}function PT(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?Nm(t.config,s):`${t.config.apiScheme}://${s}`}class MD{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Pn(this.auth,"network-request-failed")),ND.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function mc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Pn(t,e,r);return s.customData._tokenResponse=n,s}async function LD(t,e){return Ts(t,"GET","/v2/recaptchaConfig",ki(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FD(t,e){return Ts(t,"POST","/v1/accounts:delete",e)}async function UD(t,e){return Ts(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function To(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function BD(t,e=!1){const n=$e(t),r=await n.getIdToken(e),s=Mm(r);oe(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:To(ah(s.auth_time)),issuedAtTime:To(ah(s.iat)),expirationTime:To(ah(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function ah(t){return Number(t)*1e3}function Mm(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Vc("JWT malformed, contained fewer than 3 sections"),null;try{const s=pE(n);return s?JSON.parse(s):(Vc("Failed to decode base64 JWT payload"),null)}catch(s){return Vc("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function $D(t){const e=Mm(t);return oe(e,"internal-error"),oe(typeof e.exp<"u","internal-error"),oe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ia(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Dn&&jD(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function jD({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zD{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ST{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=To(this.lastLoginAt),this.creationTime=To(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ml(t){var e;const n=t.auth,r=await t.getIdToken(),s=await ia(t,UD(n,{idToken:r}));oe(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?HD(i.providerUserInfo):[],a=KD(t.providerData,o),c=t.isAnonymous,l=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),u=c?l:!1,h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new ST(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(t,h)}async function qD(t){const e=$e(t);await ml(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function KD(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function HD(t){return t.map(e=>{var{providerId:n}=e,r=Vm(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GD(t,e){const n=await RT(t,{},async()=>{const r=_a({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=PT(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",AT.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){oe(e.idToken,"internal-error"),oe(typeof e.idToken<"u","internal-error"),oe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):$D(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return oe(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await GD(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new oa;return r&&(oe(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(oe(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(oe(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new oa,this.toJSON())}_performRefresh(){return Bn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zn(t,e){oe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Zr{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=Vm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new zD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new ST(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await ia(this,this.stsTokenManager.getToken(this.auth,e));return oe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return BD(this,e)}reload(){return qD(this)}_assign(e){this!==e&&(oe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Zr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await ml(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await ia(this,FD(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,o,a,c,l,u;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,d=(s=n.email)!==null&&s!==void 0?s:void 0,f=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,m=(o=n.photoURL)!==null&&o!==void 0?o:void 0,p=(a=n.tenantId)!==null&&a!==void 0?a:void 0,y=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,T=(l=n.createdAt)!==null&&l!==void 0?l:void 0,w=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:v,emailVerified:b,isAnonymous:D,providerData:j,stsTokenManager:G}=n;oe(v&&G,e,"internal-error");const R=oa.fromJSON(this.name,G);oe(typeof v=="string",e,"internal-error"),Zn(h,e.name),Zn(d,e.name),oe(typeof b=="boolean",e,"internal-error"),oe(typeof D=="boolean",e,"internal-error"),Zn(f,e.name),Zn(m,e.name),Zn(p,e.name),Zn(y,e.name),Zn(T,e.name),Zn(w,e.name);const V=new Zr({uid:v,auth:e,email:d,emailVerified:b,displayName:h,isAnonymous:D,photoURL:m,phoneNumber:f,tenantId:p,stsTokenManager:R,createdAt:T,lastLoginAt:w});return j&&Array.isArray(j)&&(V.providerData=j.map(K=>Object.assign({},K))),y&&(V._redirectEventId=y),V}static async _fromIdTokenResponse(e,n,r=!1){const s=new oa;s.updateFromServerResponse(n);const i=new Zr({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await ml(i),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k_=new Map;function $n(t){Hn(t instanceof Function,"Expected a class definition");let e=k_.get(t);return e?(Hn(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,k_.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}CT.type="NONE";const D_=CT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oc(t,e,n){return`firebase:${t}:${e}:${n}`}class Zs{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=Oc(this.userKey,s.apiKey,i),this.fullPersistenceKey=Oc("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Zr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Zs($n(D_),e,r);const s=(await Promise.all(n.map(async l=>{if(await l._isAvailable())return l}))).filter(l=>l);let i=s[0]||$n(D_);const o=Oc(r,e.config.apiKey,e.name);let a=null;for(const l of n)try{const u=await l._get(o);if(u){const h=Zr._fromJSON(e,u);l!==i&&(a=h),i=l;break}}catch{}const c=s.filter(l=>l._shouldAllowMigration);return!i._shouldAllowMigration||!c.length?new Zs(i,e,r):(i=c[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async l=>{if(l!==i)try{await l._remove(o)}catch{}})),new Zs(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V_(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(DT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(xT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(OT(e))return"Blackberry";if(NT(e))return"Webos";if(Lm(e))return"Safari";if((e.includes("chrome/")||kT(e))&&!e.includes("edge/"))return"Chrome";if(VT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function xT(t=it()){return/firefox\//i.test(t)}function Lm(t=it()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function kT(t=it()){return/crios\//i.test(t)}function DT(t=it()){return/iemobile/i.test(t)}function VT(t=it()){return/android/i.test(t)}function OT(t=it()){return/blackberry/i.test(t)}function NT(t=it()){return/webos/i.test(t)}function Au(t=it()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function WD(t=it()){var e;return Au(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function QD(){return OP()&&document.documentMode===10}function MT(t=it()){return Au(t)||VT(t)||NT(t)||OT(t)||/windows phone/i.test(t)||DT(t)}function YD(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LT(t,e=[]){let n;switch(t){case"Browser":n=V_(it());break;case"Worker":n=`${V_(it())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${_s}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XD{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const c=e(i);o(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JD(t,e={}){return Ts(t,"GET","/v2/passwordPolicy",ki(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZD=6;class eV{constructor(e){var n,r,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:ZD,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,o,a;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(s=c.containsLowercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(i=c.containsUppercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tV{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new O_(this),this.idTokenSubscription=new O_(this),this.beforeStateQueue=new XD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=bT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=$n(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await Zs.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=s==null?void 0:s._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===a)&&(c!=null&&c.user)&&(s=c.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return oe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await ml(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=VD()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?$e(e):null;return n&&oe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&oe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence($n(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await JD(this),n=new eV(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new pa("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&$n(e)||this._popupRedirectResolver;oe(n,this,"argument-error"),this.redirectPersistenceManager=await Zs.create(this,[$n(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(oe(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,s);return()=>{o=!0,c()}}else{const c=e.addObserver(n);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=LT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&CD(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Di(t){return $e(t)}class O_{constructor(e){this.auth=e,this.observer=null,this.addObserver=$P(n=>this.observer=n)}get next(){return oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nV(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function FT(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=Pn("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",nV().appendChild(r)})}function rV(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const sV="https://www.google.com/recaptcha/enterprise.js?render=",iV="recaptcha-enterprise",oV="NO_RECAPTCHA";class aV{constructor(e){this.type=iV,this.auth=Di(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{LD(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const l=new PD(c);return i.tenantId==null?i._agentRecaptchaConfig=l:i._tenantRecaptchaConfigs[i.tenantId]=l,o(l.siteKey)}}).catch(c=>{a(c)})})}function s(i,o,a){const c=window.grecaptcha;C_(c)?c.enterprise.ready(()=>{c.enterprise.execute(i,{action:e}).then(l=>{o(l)}).catch(()=>{o(oV)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((i,o)=>{r(this.auth).then(a=>{if(!n&&C_(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}FT(sV+a).then(()=>{s(a,i,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function N_(t,e,n,r=!1){const s=new aV(t);let i;try{i=await s.verify(n)}catch{i=await s.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:i}):Object.assign(o,{captchaResponse:i}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cV(t,e){const n=ya(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(Fo(i,e??{}))return s;hn(s,"already-initialized")}return n.initialize({options:e})}function lV(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map($n);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function uV(t,e,n){const r=Di(t);oe(r._canInitEmulator,r,"emulator-config-failed"),oe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!!(n!=null&&n.disableWarnings),i=UT(e),{host:o,port:a}=hV(e),c=a===null?"":`:${a}`;r.config.emulator={url:`${i}//${o}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),s||dV()}function UT(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function hV(t){const e=UT(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:M_(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:M_(o)}}}function M_(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function dV(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fm{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Bn("not implemented")}_getIdTokenResponse(e){return Bn("not implemented")}_linkToIdToken(e,n){return Bn("not implemented")}_getReauthenticationResolver(e){return Bn("not implemented")}}async function fV(t,e){return Ts(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ch(t,e){return bu(t,"POST","/v1/accounts:signInWithPassword",ki(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mV(t,e){return bu(t,"POST","/v1/accounts:signInWithEmailLink",ki(t,e))}async function gV(t,e){return bu(t,"POST","/v1/accounts:signInWithEmailLink",ki(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa extends Fm{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new aa(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new aa(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){var n;switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(!((n=e._getRecaptchaConfig())===null||n===void 0)&&n.emailPasswordEnabled){const s=await N_(e,r,"signInWithPassword");return ch(e,s)}else return ch(e,r).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const i=await N_(e,r,"signInWithPassword");return ch(e,i)}else return Promise.reject(s)});case"emailLink":return mV(e,{email:this._email,oobCode:this._password});default:hn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return fV(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return gV(e,{idToken:n,email:this._email,oobCode:this._password});default:hn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ei(t,e){return bu(t,"POST","/v1/accounts:signInWithIdp",ki(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pV="http://localhost";class ms extends Fm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ms(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):hn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=Vm(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new ms(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return ei(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ei(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ei(e,n)}buildRequest(){const e={requestUri:pV,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=_a(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _V(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function yV(t){const e=to(no(t)).link,n=e?to(no(e)).deep_link_id:null,r=to(no(t)).deep_link_id;return(r?to(no(r)).link:null)||r||n||e||t}class Um{constructor(e){var n,r,s,i,o,a;const c=to(no(e)),l=(n=c.apiKey)!==null&&n!==void 0?n:null,u=(r=c.oobCode)!==null&&r!==void 0?r:null,h=_V((s=c.mode)!==null&&s!==void 0?s:null);oe(l&&u&&h,"argument-error"),this.apiKey=l,this.operation=h,this.code=u,this.continueUrl=(i=c.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(o=c.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=c.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=yV(e);try{return new Um(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi{constructor(){this.providerId=Vi.PROVIDER_ID}static credential(e,n){return aa._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Um.parseLink(n);return oe(r,"argument-error"),aa._fromEmailAndCode(e,r.code,r.tenantId)}}Vi.PROVIDER_ID="password";Vi.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Vi.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa extends BT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or extends qa{constructor(){super("facebook.com")}static credential(e){return ms._fromParams({providerId:or.PROVIDER_ID,signInMethod:or.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return or.credentialFromTaggedObject(e)}static credentialFromError(e){return or.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return or.credential(e.oauthAccessToken)}catch{return null}}}or.FACEBOOK_SIGN_IN_METHOD="facebook.com";or.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar extends qa{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ms._fromParams({providerId:ar.PROVIDER_ID,signInMethod:ar.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ar.credentialFromTaggedObject(e)}static credentialFromError(e){return ar.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ar.credential(n,r)}catch{return null}}}ar.GOOGLE_SIGN_IN_METHOD="google.com";ar.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr extends qa{constructor(){super("github.com")}static credential(e){return ms._fromParams({providerId:cr.PROVIDER_ID,signInMethod:cr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return cr.credentialFromTaggedObject(e)}static credentialFromError(e){return cr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return cr.credential(e.oauthAccessToken)}catch{return null}}}cr.GITHUB_SIGN_IN_METHOD="github.com";cr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr extends qa{constructor(){super("twitter.com")}static credential(e,n){return ms._fromParams({providerId:lr.PROVIDER_ID,signInMethod:lr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return lr.credentialFromTaggedObject(e)}static credentialFromError(e){return lr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return lr.credential(n,r)}catch{return null}}}lr.TWITTER_SIGN_IN_METHOD="twitter.com";lr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await Zr._fromIdTokenResponse(e,r,s),o=L_(r);return new pi({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=L_(r);return new pi({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function L_(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl extends Dn{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,gl.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new gl(e,n,r,s)}}function $T(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?gl._fromErrorAndOperation(t,i,e,r):i})}async function vV(t,e,n=!1){const r=await ia(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return pi._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EV(t,e,n=!1){const{auth:r}=t,s="reauthenticate";try{const i=await ia(t,$T(r,s,e,t),n);oe(i.idToken,r,"internal-error");const o=Mm(i.idToken);oe(o,r,"internal-error");const{sub:a}=o;return oe(t.uid===a,r,"user-mismatch"),pi._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&hn(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jT(t,e,n=!1){const r="signIn",s=await $T(t,r,e),i=await pi._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function IV(t,e){return jT(Di(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wV(t){const e=Di(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function SU(t,e,n){return IV($e(t),Vi.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&wV(t),r})}function TV(t,e,n,r){return $e(t).onIdTokenChanged(e,n,r)}function bV(t,e,n){return $e(t).beforeAuthStateChanged(e,n)}function CU(t){return $e(t).signOut()}const pl="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(pl,"1"),this.storage.removeItem(pl),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AV(){const t=it();return Lm(t)||Au(t)}const RV=1e3,PV=10;class qT extends zT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=AV()&&YD(),this.fallbackToPolling=MT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,c)=>{this.notifyListeners(o,c)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);QD()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,PV):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},RV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}qT.type="LOCAL";const SV=qT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KT extends zT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}KT.type="SESSION";const HT=KT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CV(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ru{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new Ru(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async l=>l(n.origin,i)),c=await CV(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ru.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bm(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xV{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,c)=>{const l=Bm("",20);s.port1.start();const u=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(h){const d=h;if(d.data.eventId===l)switch(d.data.status){case"ack":clearTimeout(u),i=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(d.data.response);break;default:clearTimeout(u),clearTimeout(i),c(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sn(){return window}function kV(t){Sn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GT(){return typeof Sn().WorkerGlobalScope<"u"&&typeof Sn().importScripts=="function"}async function DV(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function VV(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function OV(){return GT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WT="firebaseLocalStorageDb",NV=1,_l="firebaseLocalStorage",QT="fbase_key";class Ka{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Pu(t,e){return t.transaction([_l],e?"readwrite":"readonly").objectStore(_l)}function MV(){const t=indexedDB.deleteDatabase(WT);return new Ka(t).toPromise()}function Td(){const t=indexedDB.open(WT,NV);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(_l,{keyPath:QT})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(_l)?e(r):(r.close(),await MV(),e(await Td()))})})}async function F_(t,e,n){const r=Pu(t,!0).put({[QT]:e,value:n});return new Ka(r).toPromise()}async function LV(t,e){const n=Pu(t,!1).get(e),r=await new Ka(n).toPromise();return r===void 0?null:r.value}function U_(t,e){const n=Pu(t,!0).delete(e);return new Ka(n).toPromise()}const FV=800,UV=3;class YT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Td(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>UV)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return GT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ru._getInstance(OV()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await DV(),!this.activeServiceWorker)return;this.sender=new xV(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||VV()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Td();return await F_(e,pl,"1"),await U_(e,pl),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>F_(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>LV(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>U_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=Pu(s,!1).getAll();return new Ka(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),FV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}YT.type="LOCAL";const BV=YT;new za(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $V(t,e){return e?$n(e):(oe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $m extends Fm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ei(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ei(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ei(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function jV(t){return jT(t.auth,new $m(t),t.bypassAuthState)}function zV(t){const{auth:e,user:n}=t;return oe(n,e,"internal-error"),EV(n,new $m(t),t.bypassAuthState)}async function qV(t){const{auth:e,user:n}=t;return oe(n,e,"internal-error"),vV(n,new $m(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XT{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(c))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return jV;case"linkViaPopup":case"linkViaRedirect":return qV;case"reauthViaPopup":case"reauthViaRedirect":return zV;default:hn(this.auth,"internal-error")}}resolve(e){Hn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Hn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KV=new za(2e3,1e4);class Hs extends XT{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,Hs.currentPopupAction&&Hs.currentPopupAction.cancel(),Hs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return oe(e,this.auth,"internal-error"),e}async onExecution(){Hn(this.filter.length===1,"Popup operations only handle one event");const e=Bm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Pn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Pn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Hs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Pn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,KV.get())};e()}}Hs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HV="pendingRedirect",Nc=new Map;class GV extends XT{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Nc.get(this.auth._key());if(!e){try{const r=await WV(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Nc.set(this.auth._key(),e)}return this.bypassAuthState||Nc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function WV(t,e){const n=XV(e),r=YV(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function QV(t,e){Nc.set(t._key(),e)}function YV(t){return $n(t._redirectPersistence)}function XV(t){return Oc(HV,t.config.apiKey,t.name)}async function JV(t,e,n=!1){const r=Di(t),s=$V(r,e),o=await new GV(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZV=10*60*1e3;class eO{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!tO(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!JT(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Pn(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=ZV&&this.cachedEventUids.clear(),this.cachedEventUids.has(B_(e))}saveEventToCache(e){this.cachedEventUids.add(B_(e)),this.lastProcessedEventTime=Date.now()}}function B_(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function JT({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function tO(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return JT(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nO(t,e={}){return Ts(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,sO=/^https?/;async function iO(t){if(t.config.emulator)return;const{authorizedDomains:e}=await nO(t);for(const n of e)try{if(oO(n))return}catch{}hn(t,"unauthorized-domain")}function oO(t){const e=wd(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!sO.test(n))return!1;if(rO.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aO=new za(3e4,6e4);function $_(){const t=Sn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function cO(t){return new Promise((e,n)=>{var r,s,i;function o(){$_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{$_(),n(Pn(t,"network-request-failed"))},timeout:aO.get()})}if(!((s=(r=Sn().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=Sn().gapi)===null||i===void 0)&&i.load)o();else{const a=rV("iframefcb");return Sn()[a]=()=>{gapi.load?o():n(Pn(t,"network-request-failed"))},FT(`https://apis.google.com/js/api.js?onload=${a}`).catch(c=>n(c))}}).catch(e=>{throw Mc=null,e})}let Mc=null;function lO(t){return Mc=Mc||cO(t),Mc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uO=new za(5e3,15e3),hO="__/auth/iframe",dO="emulator/auth/iframe",fO={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},mO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function gO(t){const e=t.config;oe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Nm(e,dO):`https://${t.config.authDomain}/${hO}`,r={apiKey:e.apiKey,appName:t.name,v:_s},s=mO.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${_a(r).slice(1)}`}async function pO(t){const e=await lO(t),n=Sn().gapi;return oe(n,t,"internal-error"),e.open({where:document.body,url:gO(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:fO,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=Pn(t,"network-request-failed"),a=Sn().setTimeout(()=>{i(o)},uO.get());function c(){Sn().clearTimeout(a),s(r)}r.ping(c).then(c,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _O={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},yO=500,vO=600,EO="_blank",IO="http://localhost";class j_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function wO(t,e,n,r=yO,s=vO){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const c=Object.assign(Object.assign({},_O),{width:r.toString(),height:s.toString(),top:i,left:o}),l=it().toLowerCase();n&&(a=kT(l)?EO:n),xT(l)&&(e=e||IO,c.scrollbars="yes");const u=Object.entries(c).reduce((d,[f,m])=>`${d}${f}=${m},`,"");if(WD(l)&&a!=="_self")return TO(e||"",a),new j_(null);const h=window.open(e||"",a,u);oe(h,t,"popup-blocked");try{h.focus()}catch{}return new j_(h)}function TO(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bO="__/auth/handler",AO="emulator/auth/handler",RO=encodeURIComponent("fac");async function z_(t,e,n,r,s,i){oe(t.config.authDomain,t,"auth-domain-config-required"),oe(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:_s,eventId:s};if(e instanceof BT){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",BP(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,h]of Object.entries(i||{}))o[u]=h}if(e instanceof qa){const u=e.getScopes().filter(h=>h!=="");u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const c=await t._getAppCheckToken(),l=c?`#${RO}=${encodeURIComponent(c)}`:"";return`${PO(t)}?${_a(a).slice(1)}${l}`}function PO({config:t}){return t.emulator?Nm(t,AO):`https://${t.authDomain}/${bO}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lh="webStorageSupport";class SO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=HT,this._completeRedirectFn=JV,this._overrideRedirectResult=QV}async _openPopup(e,n,r,s){var i;Hn((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await z_(e,n,r,wd(),s);return wO(e,o,Bm())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await z_(e,n,r,wd(),s);return kV(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(Hn(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await pO(e),r=new eO(e);return n.register("authEvent",s=>(oe(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(lh,{type:lh},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[lh];o!==void 0&&n(!!o),hn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=iO(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return MT()||Lm()||Au()}}const CO=SO;var q_="@firebase/auth",K_="1.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xO{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kO(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function DO(t){is(new wr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;oe(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:LT(t)},l=new tV(r,s,i,c);return lV(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),is(new wr("auth-internal",e=>{const n=Di(e.getProvider("auth").getImmediate());return(r=>new xO(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Rn(q_,K_,kO(t)),Rn(q_,K_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VO=5*60,OO=EE("authIdTokenMaxAge")||VO;let H_=null;const NO=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>OO)return;const s=n==null?void 0:n.token;H_!==s&&(H_=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function MO(t=Tf()){const e=ya(t,"auth");if(e.isInitialized())return e.getImmediate();const n=cV(t,{popupRedirectResolver:CO,persistence:[BV,SV,HT]}),r=EE("authTokenSyncURL");if(r){const i=NO(r);bV(n,i,()=>i(n.currentUser)),TV(n,o=>i(o))}const s=_E("auth");return s&&uV(n,`http://${s}`),n}DO("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZT="firebasestorage.googleapis.com",e0="storageBucket",LO=2*60*1e3,FO=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe extends Dn{constructor(e,n,r=0){super(uh(e),`Firebase Storage: ${n} (${uh(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Qe.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return uh(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var We;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(We||(We={}));function uh(t){return"storage/"+t}function jm(){const t="An unknown error occurred, please check the error payload for server response.";return new Qe(We.UNKNOWN,t)}function UO(t){return new Qe(We.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function BO(t){return new Qe(We.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function $O(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Qe(We.UNAUTHENTICATED,t)}function jO(){return new Qe(We.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function zO(t){return new Qe(We.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function qO(){return new Qe(We.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function KO(){return new Qe(We.CANCELED,"User canceled the upload/download.")}function HO(t){return new Qe(We.INVALID_URL,"Invalid URL '"+t+"'.")}function GO(t){return new Qe(We.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function WO(){return new Qe(We.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+e0+"' property when initializing the app?")}function QO(){return new Qe(We.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function YO(){return new Qe(We.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function XO(t){return new Qe(We.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function bd(t){return new Qe(We.INVALID_ARGUMENT,t)}function t0(){return new Qe(We.APP_DELETED,"The Firebase app was deleted.")}function JO(t){return new Qe(We.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function bo(t,e){return new Qe(We.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Wi(t){throw new Qe(We.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Kt.makeFromUrl(e,n)}catch{return new Kt(e,"")}if(r.path==="")return r;throw GO(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function i(b){b.path.charAt(b.path.length-1)==="/"&&(b.path_=b.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+s+o,"i"),c={bucket:1,path:3};function l(b){b.path_=decodeURIComponent(b.path)}const u="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),d="(/([^?#]*).*)?$",f=new RegExp(`^https?://${h}/${u}/b/${s}/o${d}`,"i"),m={bucket:1,path:3},p=n===ZT?"(?:storage.googleapis.com|storage.cloud.google.com)":n,y="([^?#]*)",T=new RegExp(`^https?://${p}/${s}/${y}`,"i"),v=[{regex:a,indices:c,postModify:i},{regex:f,indices:m,postModify:l},{regex:T,indices:{bucket:1,path:2},postModify:l}];for(let b=0;b<v.length;b++){const D=v[b],j=D.regex.exec(e);if(j){const G=j[D.indices.bucket];let R=j[D.indices.path];R||(R=""),r=new Kt(G,R),D.postModify(r);break}}if(r==null)throw HO(e);return r}}class ZO{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eN(t,e,n){let r=1,s=null,i=null,o=!1,a=0;function c(){return a===2}let l=!1;function u(...y){l||(l=!0,e.apply(null,y))}function h(y){s=setTimeout(()=>{s=null,t(f,c())},y)}function d(){i&&clearTimeout(i)}function f(y,...T){if(l){d();return}if(y){d(),u.call(null,y,...T);return}if(c()||o){d(),u.call(null,y,...T);return}r<64&&(r*=2);let v;a===1?(a=2,v=0):v=(r+Math.random())*1e3,h(v)}let m=!1;function p(y){m||(m=!0,d(),!l&&(s!==null?(y||(a=2),clearTimeout(s),h(0)):y||(a=1)))}return h(0),i=setTimeout(()=>{o=!0,p(!0)},n),p}function tN(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nN(t){return t!==void 0}function rN(t){return typeof t=="object"&&!Array.isArray(t)}function zm(t){return typeof t=="string"||t instanceof String}function G_(t){return qm()&&t instanceof Blob}function qm(){return typeof Blob<"u"&&!wE()}function W_(t,e,n,r){if(r<e)throw bd(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw bd(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Km(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function n0(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var es;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(es||(es={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sN(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return n||s||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iN{constructor(e,n,r,s,i,o,a,c,l,u,h,d=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=c,this.timeout_=l,this.progressCallback_=u,this.connectionFactory_=h,this.retry=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((f,m)=>{this.resolve_=f,this.reject_=m,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new gc(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const o=a=>{const c=a.loaded,l=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,l)};this.progressCallback_!==null&&i.addUploadProgressListener(o),i.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(o),this.pendingConnection_=null;const a=i.getErrorCode()===es.NO_ERROR,c=i.getStatus();if(!a||sN(c,this.additionalRetryCodes_)&&this.retry){const u=i.getErrorCode()===es.ABORT;r(!1,new gc(!1,null,u));return}const l=this.successCodes_.indexOf(c)!==-1;r(!0,new gc(l,i))})},n=(r,s)=>{const i=this.resolve_,o=this.reject_,a=s.connection;if(s.wasSuccessCode)try{const c=this.callback_(a,a.getResponse());nN(c)?i(c):i()}catch(c){o(c)}else if(a!==null){const c=jm();c.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,c)):o(c)}else if(s.canceled){const c=this.appDelete_?t0():KO();o(c)}else{const c=qO();o(c)}};this.canceled_?n(!1,new gc(!1,null,!0)):this.backoffId_=eN(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&tN(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class gc{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function oN(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function aN(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function cN(t,e){e&&(t["X-Firebase-GMPID"]=e)}function lN(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function uN(t,e,n,r,s,i,o=!0){const a=n0(t.urlParams),c=t.url+a,l=Object.assign({},t.headers);return cN(l,e),oN(l,n),aN(l,i),lN(l,r),new iN(c,t.method,l,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hN(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function dN(...t){const e=hN();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(qm())return new Blob(t);throw new Qe(We.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function fN(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mN(t){if(typeof atob>"u")throw XO("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const An={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class hh{constructor(e,n){this.data=e,this.contentType=n||null}}function gN(t,e){switch(t){case An.RAW:return new hh(r0(e));case An.BASE64:case An.BASE64URL:return new hh(s0(t,e));case An.DATA_URL:return new hh(_N(e),yN(e))}throw jm()}function r0(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const i=r,o=t.charCodeAt(++n);r=65536|(i&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function pN(t){let e;try{e=decodeURIComponent(t)}catch{throw bo(An.DATA_URL,"Malformed data URL.")}return r0(e)}function s0(t,e){switch(t){case An.BASE64:{const s=e.indexOf("-")!==-1,i=e.indexOf("_")!==-1;if(s||i)throw bo(t,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case An.BASE64URL:{const s=e.indexOf("+")!==-1,i=e.indexOf("/")!==-1;if(s||i)throw bo(t,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=mN(e)}catch(s){throw s.message.includes("polyfill")?s:bo(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}class i0{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw bo(An.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=vN(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function _N(t){const e=new i0(t);return e.base64?s0(An.BASE64,e.rest):pN(e.rest)}function yN(t){return new i0(t).contentType}function vN(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur{constructor(e,n){let r=0,s="";G_(e)?(this.data_=e,r=e.size,s=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,n){if(G_(this.data_)){const r=this.data_,s=fN(r,e,n);return s===null?null:new ur(s)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new ur(r,!0)}}static getBlob(...e){if(qm()){const n=e.map(r=>r instanceof ur?r.data_:r);return new ur(dN.apply(null,n))}else{const n=e.map(o=>zm(o)?gN(An.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const s=new Uint8Array(r);let i=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)s[i++]=o[a]}),new ur(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o0(t){let e;try{e=JSON.parse(t)}catch{return null}return rN(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EN(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function IN(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function a0(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wN(t,e){return e}class Rt{constructor(e,n,r,s){this.server=e,this.local=n||e,this.writable=!!r,this.xform=s||wN}}let pc=null;function TN(t){return!zm(t)||t.length<2?t:a0(t)}function c0(){if(pc)return pc;const t=[];t.push(new Rt("bucket")),t.push(new Rt("generation")),t.push(new Rt("metageneration")),t.push(new Rt("name","fullPath",!0));function e(i,o){return TN(o)}const n=new Rt("name");n.xform=e,t.push(n);function r(i,o){return o!==void 0?Number(o):o}const s=new Rt("size");return s.xform=r,t.push(s),t.push(new Rt("timeCreated")),t.push(new Rt("updated")),t.push(new Rt("md5Hash",null,!0)),t.push(new Rt("cacheControl",null,!0)),t.push(new Rt("contentDisposition",null,!0)),t.push(new Rt("contentEncoding",null,!0)),t.push(new Rt("contentLanguage",null,!0)),t.push(new Rt("contentType",null,!0)),t.push(new Rt("metadata","customMetadata",!0)),pc=t,pc}function bN(t,e){function n(){const r=t.bucket,s=t.fullPath,i=new Kt(r,s);return e._makeStorageReference(i)}Object.defineProperty(t,"ref",{get:n})}function AN(t,e,n){const r={};r.type="file";const s=n.length;for(let i=0;i<s;i++){const o=n[i];r[o.local]=o.xform(r,e[o.server])}return bN(r,t),r}function l0(t,e,n){const r=o0(e);return r===null?null:AN(t,r,n)}function RN(t,e,n,r){const s=o0(e);if(s===null||!zm(s.downloadTokens))return null;const i=s.downloadTokens;if(i.length===0)return null;const o=encodeURIComponent;return i.split(",").map(l=>{const u=t.bucket,h=t.fullPath,d="/b/"+o(u)+"/o/"+o(h),f=Km(d,n,r),m=n0({alt:"media",token:l});return f+m})[0]}function PN(t,e){const n={},r=e.length;for(let s=0;s<r;s++){const i=e[s];i.writable&&(n[i.server]=t[i.local])}return JSON.stringify(n)}class u0{constructor(e,n,r,s){this.url=e,this.method=n,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h0(t){if(!t)throw jm()}function SN(t,e){function n(r,s){const i=l0(t,s,e);return h0(i!==null),i}return n}function CN(t,e){function n(r,s){const i=l0(t,s,e);return h0(i!==null),RN(i,s,t.host,t._protocol)}return n}function d0(t){function e(n,r){let s;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?s=jO():s=$O():n.getStatus()===402?s=BO(t.bucket):n.getStatus()===403?s=zO(t.path):s=r,s.status=n.getStatus(),s.serverResponse=r.serverResponse,s}return e}function xN(t){const e=d0(t);function n(r,s){let i=e(r,s);return r.getStatus()===404&&(i=UO(t.path)),i.serverResponse=s.serverResponse,i}return n}function kN(t,e,n){const r=e.fullServerUrl(),s=Km(r,t.host,t._protocol),i="GET",o=t.maxOperationRetryTime,a=new u0(s,i,CN(t,n),o);return a.errorHandler=xN(e),a}function DN(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function VN(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=DN(null,e)),r}function ON(t,e,n,r,s){const i=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let v="";for(let b=0;b<2;b++)v=v+Math.random().toString().slice(2);return v}const c=a();o["Content-Type"]="multipart/related; boundary="+c;const l=VN(e,r,s),u=PN(l,n),h="--"+c+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+u+`\r
--`+c+`\r
Content-Type: `+l.contentType+`\r
\r
`,d=`\r
--`+c+"--",f=ur.getBlob(h,r,d);if(f===null)throw QO();const m={name:l.fullPath},p=Km(i,t.host,t._protocol),y="POST",T=t.maxUploadRetryTime,w=new u0(p,y,SN(t,n),T);return w.urlParams=m,w.headers=o,w.body=f.uploadData(),w.errorHandler=d0(e),w}class NN{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=es.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=es.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=es.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,s){if(this.sent_)throw Wi("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),s!==void 0)for(const i in s)s.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,s[i].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Wi("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Wi("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Wi("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Wi("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class MN extends NN{initXhr(){this.xhr_.responseType="text"}}function f0(){return new MN}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs{constructor(e,n){this._service=e,n instanceof Kt?this._location=n:this._location=Kt.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new gs(e,n)}get root(){const e=new Kt(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return a0(this._location.path)}get storage(){return this._service}get parent(){const e=EN(this._location.path);if(e===null)return null;const n=new Kt(this._location.bucket,e);return new gs(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw JO(e)}}function LN(t,e,n){t._throwIfRoot("uploadBytes");const r=ON(t.storage,t._location,c0(),new ur(e,!0),n);return t.storage.makeRequestWithTokens(r,f0).then(s=>({metadata:s,ref:t}))}function FN(t){t._throwIfRoot("getDownloadURL");const e=kN(t.storage,t._location,c0());return t.storage.makeRequestWithTokens(e,f0).then(n=>{if(n===null)throw YO();return n})}function UN(t,e){const n=IN(t._location.path,e),r=new Kt(t._location.bucket,n);return new gs(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BN(t){return/^[A-Za-z]+:\/\//.test(t)}function $N(t,e){return new gs(t,e)}function m0(t,e){if(t instanceof Hm){const n=t;if(n._bucket==null)throw WO();const r=new gs(n,n._bucket);return e!=null?m0(r,e):r}else return e!==void 0?UN(t,e):t}function jN(t,e){if(e&&BN(e)){if(t instanceof Hm)return $N(t,e);throw bd("To use ref(service, url), the first argument must be a Storage instance.")}else return m0(t,e)}function Q_(t,e){const n=e==null?void 0:e[e0];return n==null?null:Kt.makeFromBucketSpec(n,t)}function zN(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:IE(s,t.app.options.projectId))}class Hm{constructor(e,n,r,s,i){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._bucket=null,this._host=ZT,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=LO,this._maxUploadRetryTime=FO,this._requests=new Set,s!=null?this._bucket=Kt.makeFromBucketSpec(s,this._host):this._bucket=Q_(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Kt.makeFromBucketSpec(this._url,e):this._bucket=Q_(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){W_("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){W_("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new gs(this,e)}_makeRequest(e,n,r,s,i=!0){if(this._deleted)return new ZO(t0());{const o=uN(e,this._appId,r,s,n,this._firebaseVersion,i);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const Y_="@firebase/storage",X_="0.11.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g0="storage";function xU(t,e,n){return t=$e(t),LN(t,e,n)}function kU(t){return t=$e(t),FN(t)}function DU(t,e){return t=$e(t),jN(t,e)}function qN(t=Tf(),e){t=$e(t);const r=ya(t,g0).getImmediate({identifier:e}),s=yE("storage");return s&&KN(r,...s),r}function KN(t,e,n,r={}){zN(t,e,n,r)}function HN(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new Hm(n,r,s,e,_s)}function GN(){is(new wr(g0,HN,"PUBLIC").setMultipleInstances(!0)),Rn(Y_,X_,""),Rn(Y_,X_,"esm2017")}GN();const WN={apiKey:"AIzaSyBX3pGNFs0PIRbC-6Y-xNOd4nSk00W4WdQ",authDomain:"sgm-pentecostal.firebaseapp.com",projectId:"sgm-pentecostal",storageBucket:"sgm-pentecostal.firebasestorage.app",messagingSenderId:"940394996461",appId:"1:940394996461:web:b341efd6e9bdd831e7e2e4"},Su=RE(WN);iD(Su,{localCache:ID({tabManager:wT()})});const yl=MO(Su),Qi=oD(Su),VU=qN(Su),QN=IP("app",{state:()=>({drawerDisplay:!1,formMiembros:{display:!1,mode:"add",id:""},viewRegistro:{display:!1,id:""},formAmigos:{display:!1,mode:"add",id:""},selectImg:{display:!1,img:null,urlImg:wP},tomarFoto:!1,progre:!1,data:null,miembros:[],amigos:[],birthday:[],solicitudes:[],notificaciones:{value:0,solicitudes:0,informacion:0}}),actions:{async getDataUser(){if(this.data!==null)return;const t=await yl.currentUser;fc(Ed(Qi,"Users",t.email),e=>{this.data=e.data(),e.data().rol!="admin"&&(this.getMiembros(t.email),this.getAmigos(t.email),this.getSolicitudes(t.email))})},async getMiembros(t){const e=oh(ih(Qi,"Membresia"),Hi("sede","==",t),Hi("estado","==","Activo"));fc(e,n=>{const r=[],s=[];n.forEach(a=>{const c=a.data();s.push({nombre:c.nombre+" "+c.apellido,fechaNacimiento:c.fechaNacimiento,id:a.id,sexo:c.sexo}),r.push(c)}),this.miembros=r,this.birthday=s;var i=[];for(const a in r)i.push({n:r[a].nombre+" "+r[a].apellido,f:r[a].fechaNacimiento});const o=JSON.stringify(i);auxPersonas=o})},async getAmigos(t){const e=oh(ih(Qi,"Amigos"),Hi("sede","==",t));fc(e,n=>{const r=[];n.forEach(s=>{const i=s.data();r.push(i)}),this.amigos=r})},async getSolicitudes(t){const e=oh(ih(Qi,"Solicitudes"),mD(Hi("userEmisor","==",t),Hi("userReceptor","==",t)));fc(e,n=>{const r=[];this.notificaciones.solicitudes=0,n.forEach(s=>{r.push(s.data()),s.data().userEmisor!==yl.currentUser.email&&this.notificaciones.solicitudes++}),this.notificaciones.value=this.notificaciones.solicitudes+this.notificaciones.informacion,this.solicitudes=r})},async actualizar(t,e){const n=Ed(Qi,"Membresia",t);await vD(n,{sede:e})}}});const YN=(t,e)=>{const n=t.__vccOpts||t;for(const[r,s]of e)n[r]=s;return n};function we(t,e){return n=>Object.keys(t).reduce((r,s)=>{const o=typeof t[s]=="object"&&t[s]!=null&&!Array.isArray(t[s])?t[s]:{type:t[s]};return n&&s in n?r[s]={...o,default:n[s]}:r[s]=o,e&&!r[s].source&&(r[s].source=e),r},{})}const mn=we({class:[String,Array],style:{type:[String,Array,Object],default:null}},"component"),Ke=typeof window<"u",Gm=Ke&&"IntersectionObserver"in window,XN=Ke&&("ontouchstart"in window||window.navigator.maxTouchPoints>0);function J_(t,e,n){JN(t,e),e.set(t,n)}function JN(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function ZN(t,e,n){var r=p0(t,e,"set");return eM(t,r,n),n}function eM(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}function Mr(t,e){var n=p0(t,e,"get");return tM(t,n)}function p0(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}function tM(t,e){return e.get?e.get.call(t):e.value}function _0(t,e,n){const r=e.length-1;if(r<0)return t===void 0?n:t;for(let s=0;s<r;s++){if(t==null)return n;t=t[e[s]]}return t==null||t[e[r]]===void 0?n:t[e[r]]}function nM(t,e){if(t===e)return!0;if(t instanceof Date&&e instanceof Date&&t.getTime()!==e.getTime()||t!==Object(t)||e!==Object(e))return!1;const n=Object.keys(t);return n.length!==Object.keys(e).length?!1:n.every(r=>nM(t[r],e[r]))}function Ad(t,e,n){return t==null||!e||typeof e!="string"?n:t[e]!==void 0?t[e]:(e=e.replace(/\[(\w+)\]/g,".$1"),e=e.replace(/^\./,""),_0(t,e.split("."),n))}function OU(t,e,n){if(e==null)return t===void 0?n:t;if(t!==Object(t)){if(typeof e!="function")return n;const s=e(t,n);return typeof s>"u"?n:s}if(typeof e=="string")return Ad(t,e,n);if(Array.isArray(e))return _0(t,e,n);if(typeof e!="function")return n;const r=e(t,n);return typeof r>"u"?n:r}function y0(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Array.from({length:t},(n,r)=>e+r)}function be(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"px";if(!(t==null||t===""))return isNaN(+t)?String(t):isFinite(+t)?`${Number(t)}${e}`:void 0}function Rd(t){return t!==null&&typeof t=="object"&&!Array.isArray(t)}function Pd(t){return t&&"$el"in t?t.$el:t}const Z_=Object.freeze({enter:13,tab:9,delete:46,esc:27,space:32,up:38,down:40,left:37,right:39,end:35,home:36,del:46,backspace:8,insert:45,pageup:33,pagedown:34,shift:16}),NU=Object.freeze({enter:"Enter",tab:"Tab",delete:"Delete",esc:"Escape",space:"Space",up:"ArrowUp",down:"ArrowDown",left:"ArrowLeft",right:"ArrowRight",end:"End",home:"Home",del:"Delete",backspace:"Backspace",insert:"Insert",pageup:"PageUp",pagedown:"PageDown",shift:"Shift"});function MU(t){return Object.keys(t)}function dh(t,e){return e.every(n=>t.hasOwnProperty(n))}function Sd(t,e,n){const r=Object.create(null),s=Object.create(null);for(const i in t)e.some(o=>o instanceof RegExp?o.test(i):o===i)&&!(n!=null&&n.some(o=>o===i))?r[i]=t[i]:s[i]=t[i];return[r,s]}function rM(t,e){const n={...t};return e.forEach(r=>delete n[r]),n}const v0=/^on[^a-z]/,E0=t=>v0.test(t),sM=["onAfterscriptexecute","onAnimationcancel","onAnimationend","onAnimationiteration","onAnimationstart","onAuxclick","onBeforeinput","onBeforescriptexecute","onChange","onClick","onCompositionend","onCompositionstart","onCompositionupdate","onContextmenu","onCopy","onCut","onDblclick","onFocusin","onFocusout","onFullscreenchange","onFullscreenerror","onGesturechange","onGestureend","onGesturestart","onGotpointercapture","onInput","onKeydown","onKeypress","onKeyup","onLostpointercapture","onMousedown","onMousemove","onMouseout","onMouseover","onMouseup","onMousewheel","onPaste","onPointercancel","onPointerdown","onPointerenter","onPointerleave","onPointermove","onPointerout","onPointerover","onPointerup","onReset","onSelect","onSubmit","onTouchcancel","onTouchend","onTouchmove","onTouchstart","onTransitioncancel","onTransitionend","onTransitionrun","onTransitionstart","onWheel"];function LU(t){const[e,n]=Sd(t,[v0]),r=rM(e,sM),[s,i]=Sd(n,["class","style","id",/^data-/]);return Object.assign(s,e),Object.assign(i,r),[s,i]}function FU(t){return t==null?[]:Array.isArray(t)?t:[t]}function Cd(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;return Math.max(e,Math.min(n,t))}function ey(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"0";return t+n.repeat(Math.max(0,e-t.length))}function iM(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;const n=[];let r=0;for(;r<t.length;)n.push(t.substr(r,e)),r+=e;return n}function UU(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e3;if(t<e)return`${t} B`;const n=e===1024?["Ki","Mi","Gi"]:["k","M","G"];let r=-1;for(;Math.abs(t)>=e&&r<n.length-1;)t/=e,++r;return`${t.toFixed(1)} ${n[r]}B`}function Jt(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;const r={};for(const s in t)r[s]=t[s];for(const s in e){const i=t[s],o=e[s];if(Rd(i)&&Rd(o)){r[s]=Jt(i,o,n);continue}if(Array.isArray(i)&&Array.isArray(o)&&n){r[s]=n(i,o);continue}r[s]=o}return r}function I0(t){return t.map(e=>e.type===ct?I0(e.children):e).flat()}function ts(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";if(ts.cache.has(t))return ts.cache.get(t);const e=t.replace(/[^a-z]/gi,"-").replace(/\B([A-Z])/g,"-$1").toLowerCase();return ts.cache.set(t,e),e}ts.cache=new Map;function fh(t,e){if(!e||typeof e!="object")return[];if(Array.isArray(e))return e.map(n=>fh(t,n)).flat(1);if(Array.isArray(e.children))return e.children.map(n=>fh(t,n)).flat(1);if(e.component){if(Object.getOwnPropertySymbols(e.component.provides).includes(t))return[e.component];if(e.component.subTree)return fh(t,e.component.subTree).flat(1)}return[]}var _c=new WeakMap,Ns=new WeakMap;class BU{constructor(e){J_(this,_c,{writable:!0,value:[]}),J_(this,Ns,{writable:!0,value:0}),this.size=e}push(e){Mr(this,_c)[Mr(this,Ns)]=e,ZN(this,Ns,(Mr(this,Ns)+1)%this.size)}values(){return Mr(this,_c).slice(Mr(this,Ns)).concat(Mr(this,_c).slice(0,Mr(this,Ns)))}}function Wm(t){const e=kn({}),n=U(t);return Pr(()=>{for(const r in n.value)e[r]=n.value[r]},{flush:"sync"}),Vl(e)}function vl(t,e){return t.includes(e)}function w0(t){return t[2].toLowerCase()+t.slice(3)}const $U=()=>[Function,Array];function ty(t,e){return e="on"+wi(e),!!(t[e]||t[`${e}Once`]||t[`${e}Capture`]||t[`${e}OnceCapture`]||t[`${e}CaptureOnce`])}function jU(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];if(Array.isArray(t))for(const s of t)s(...n);else typeof t=="function"&&t(...n)}function T0(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const n=["button","[href]",'input:not([type="hidden"])',"select","textarea","[tabindex]"].map(r=>`${r}${e?':not([tabindex="-1"])':""}:not([disabled])`).join(", ");return[...t.querySelectorAll(n)]}function oM(t,e,n){let r,s=t.indexOf(document.activeElement);const i=e==="next"?1:-1;do s+=i,r=t[s];while((!r||r.offsetParent==null||!((n==null?void 0:n(r))??!0))&&s<t.length&&s>=0);return r}function aM(t,e){var r,s,i,o;const n=T0(t);if(!e)(t===document.activeElement||!t.contains(document.activeElement))&&((r=n[0])==null||r.focus());else if(e==="first")(s=n[0])==null||s.focus();else if(e==="last")(i=n.at(-1))==null||i.focus();else if(typeof e=="number")(o=n[e])==null||o.focus();else{const a=oM(n,e);a?a.focus():aM(t,e==="next"?"first":"last")}}function cM(t,e){if(!(Ke&&typeof CSS<"u"&&typeof CSS.supports<"u"&&CSS.supports(`selector(${e})`)))return null;try{return!!t&&t.matches(e)}catch{return null}}const b0=["top","bottom"],lM=["start","end","left","right"];function xd(t,e){let[n,r]=t.split(" ");return r||(r=vl(b0,n)?"start":vl(lM,n)?"top":"center"),{side:ny(n,e),align:ny(r,e)}}function ny(t,e){return t==="start"?e?"right":"left":t==="end"?e?"left":"right":t}function mh(t){return{side:{center:"center",top:"bottom",bottom:"top",left:"right",right:"left"}[t.side],align:t.align}}function gh(t){return{side:t.side,align:{center:"center",top:"bottom",bottom:"top",left:"right",right:"left"}[t.align]}}function ry(t){return{side:t.align,align:t.side}}function sy(t){return vl(b0,t.side)?"y":"x"}class ti{constructor(e){let{x:n,y:r,width:s,height:i}=e;this.x=n,this.y=r,this.width=s,this.height=i}get top(){return this.y}get bottom(){return this.y+this.height}get left(){return this.x}get right(){return this.x+this.width}}function iy(t,e){return{x:{before:Math.max(0,e.left-t.left),after:Math.max(0,t.right-e.right)},y:{before:Math.max(0,e.top-t.top),after:Math.max(0,t.bottom-e.bottom)}}}function A0(t){const e=t.getBoundingClientRect(),n=getComputedStyle(t),r=n.transform;if(r){let s,i,o,a,c;if(r.startsWith("matrix3d("))s=r.slice(9,-1).split(/, /),i=+s[0],o=+s[5],a=+s[12],c=+s[13];else if(r.startsWith("matrix("))s=r.slice(7,-1).split(/, /),i=+s[0],o=+s[3],a=+s[4],c=+s[5];else return new ti(e);const l=n.transformOrigin,u=e.x-a-(1-i)*parseFloat(l),h=e.y-c-(1-o)*parseFloat(l.slice(l.indexOf(" ")+1)),d=i?e.width/i:t.offsetWidth+1,f=o?e.height/o:t.offsetHeight+1;return new ti({x:u,y:h,width:d,height:f})}else return new ti(e)}function co(t,e,n){if(typeof t.animate>"u")return{finished:Promise.resolve()};let r;try{r=t.animate(e,n)}catch{return{finished:Promise.resolve()}}return typeof r.finished>"u"&&(r.finished=new Promise(s=>{r.onfinish=()=>{s(r)}})),r}const Lc=new WeakMap;function uM(t,e){Object.keys(e).forEach(n=>{if(E0(n)){const r=w0(n),s=Lc.get(t);if(e[n]==null)s==null||s.forEach(i=>{const[o,a]=i;o===r&&(t.removeEventListener(r,a),s.delete(i))});else if(!s||![...s].some(i=>i[0]===r&&i[1]===e[n])){t.addEventListener(r,e[n]);const i=s||new Set;i.add([r,e[n]]),Lc.has(t)||Lc.set(t,i)}}else e[n]==null?t.removeAttribute(n):t.setAttribute(n,e[n])})}function hM(t,e){Object.keys(e).forEach(n=>{if(E0(n)){const r=w0(n),s=Lc.get(t);s==null||s.forEach(i=>{const[o,a]=i;o===r&&(t.removeEventListener(r,a),s.delete(i))})}else t.removeAttribute(n)})}const Ms=2.4,oy=.2126729,ay=.7151522,cy=.072175,dM=.55,fM=.58,mM=.57,gM=.62,yc=.03,ly=1.45,pM=5e-4,_M=1.25,yM=1.25,uy=.078,hy=12.82051282051282,vc=.06,dy=.001;function fy(t,e){const n=(t.r/255)**Ms,r=(t.g/255)**Ms,s=(t.b/255)**Ms,i=(e.r/255)**Ms,o=(e.g/255)**Ms,a=(e.b/255)**Ms;let c=n*oy+r*ay+s*cy,l=i*oy+o*ay+a*cy;if(c<=yc&&(c+=(yc-c)**ly),l<=yc&&(l+=(yc-l)**ly),Math.abs(l-c)<pM)return 0;let u;if(l>c){const h=(l**dM-c**fM)*_M;u=h<dy?0:h<uy?h-h*hy*vc:h-vc}else{const h=(l**gM-c**mM)*yM;u=h>-dy?0:h>-uy?h-h*hy*vc:h+vc}return u*100}function zU(t,e){e=Array.isArray(e)?e.slice(0,-1).map(n=>`'${n}'`).join(", ")+` or '${e.at(-1)}'`:`'${e}'`}const El=.20689655172413793,vM=t=>t>El**3?Math.cbrt(t):t/(3*El**2)+4/29,EM=t=>t>El?t**3:3*El**2*(t-4/29);function R0(t){const e=vM,n=e(t[1]);return[116*n-16,500*(e(t[0]/.95047)-n),200*(n-e(t[2]/1.08883))]}function P0(t){const e=EM,n=(t[0]+16)/116;return[e(n+t[1]/500)*.95047,e(n),e(n-t[2]/200)*1.08883]}const IM=[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]],wM=t=>t<=.0031308?t*12.92:1.055*t**(1/2.4)-.055,TM=[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],bM=t=>t<=.04045?t/12.92:((t+.055)/1.055)**2.4;function S0(t){const e=Array(3),n=wM,r=IM;for(let s=0;s<3;++s)e[s]=Math.round(Cd(n(r[s][0]*t[0]+r[s][1]*t[1]+r[s][2]*t[2]))*255);return{r:e[0],g:e[1],b:e[2]}}function Qm(t){let{r:e,g:n,b:r}=t;const s=[0,0,0],i=bM,o=TM;e=i(e/255),n=i(n/255),r=i(r/255);for(let a=0;a<3;++a)s[a]=o[a][0]*e+o[a][1]*n+o[a][2]*r;return s}function my(t){return!!t&&/^(#|var\(--|(rgb|hsl)a?\()/.test(t)}const gy=/^(?<fn>(?:rgb|hsl)a?)\((?<values>.+)\)/,AM={rgb:(t,e,n,r)=>({r:t,g:e,b:n,a:r}),rgba:(t,e,n,r)=>({r:t,g:e,b:n,a:r}),hsl:(t,e,n,r)=>py({h:t,s:e,l:n,a:r}),hsla:(t,e,n,r)=>py({h:t,s:e,l:n,a:r}),hsv:(t,e,n,r)=>ca({h:t,s:e,v:n,a:r}),hsva:(t,e,n,r)=>ca({h:t,s:e,v:n,a:r})};function jn(t){if(typeof t=="number")return{r:(t&16711680)>>16,g:(t&65280)>>8,b:t&255};if(typeof t=="string"&&gy.test(t)){const{groups:e}=t.match(gy),{fn:n,values:r}=e,s=r.split(/,\s*/).map(i=>i.endsWith("%")&&["hsl","hsla","hsv","hsva"].includes(n)?parseFloat(i)/100:parseFloat(i));return AM[n](...s)}else if(typeof t=="string"){let e=t.startsWith("#")?t.slice(1):t;return[3,4].includes(e.length)?e=e.split("").map(n=>n+n).join(""):[6,8].includes(e.length),PM(e)}else if(typeof t=="object"){if(dh(t,["r","g","b"]))return t;if(dh(t,["h","s","l"]))return ca(C0(t));if(dh(t,["h","s","v"]))return ca(t)}throw new TypeError(`Invalid color: ${t==null?t:String(t)||t.constructor.name}
Expected #hex, #hexa, rgb(), rgba(), hsl(), hsla(), object or number`)}function ca(t){const{h:e,s:n,v:r,a:s}=t,i=a=>{const c=(a+e/60)%6;return r-r*n*Math.max(Math.min(c,4-c,1),0)},o=[i(5),i(3),i(1)].map(a=>Math.round(a*255));return{r:o[0],g:o[1],b:o[2],a:s}}function py(t){return ca(C0(t))}function C0(t){const{h:e,s:n,l:r,a:s}=t,i=r+n*Math.min(r,1-r),o=i===0?0:2-2*r/i;return{h:e,s:o,v:i,a:s}}function Ec(t){const e=Math.round(t).toString(16);return("00".substr(0,2-e.length)+e).toUpperCase()}function RM(t){let{r:e,g:n,b:r,a:s}=t;return`#${[Ec(e),Ec(n),Ec(r),s!==void 0?Ec(Math.round(s*255)):""].join("")}`}function PM(t){t=SM(t);let[e,n,r,s]=iM(t,2).map(i=>parseInt(i,16));return s=s===void 0?s:s/255,{r:e,g:n,b:r,a:s}}function SM(t){return t.startsWith("#")&&(t=t.slice(1)),t=t.replace(/([^0-9a-f])/gi,"F"),(t.length===3||t.length===4)&&(t=t.split("").map(e=>e+e).join("")),t.length!==6&&(t=ey(ey(t,6),8,"F")),t}function CM(t,e){const n=R0(Qm(t));return n[0]=n[0]+e*10,S0(P0(n))}function xM(t,e){const n=R0(Qm(t));return n[0]=n[0]-e*10,S0(P0(n))}function kM(t){const e=jn(t);return Qm(e)[1]}function x0(t){const e=Math.abs(fy(jn(0),jn(t)));return Math.abs(fy(jn(16777215),jn(t)))>Math.min(e,50)?"#fff":"#000"}function Ha(t){if(t._setup=t._setup??t.setup,!t.name)return t;if(t._setup){t.props=we(t.props??{},t.name)();const e=Object.keys(t.props);t.filterProps=function(r){return Sd(r,e,["class","style"])},t.props._as=String,t.setup=function(r,s){const i=Jm();if(!i.value)return t._setup(r,s);const{props:o,provideSubDefaults:a}=BM(r,r._as??t.name,i),c=t._setup(o,s);return a(),c}}return t}function Vt(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return e=>(t?Ha:lf)(e)}function Ym(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"div",n=arguments.length>2?arguments[2]:void 0;return Vt()({name:n??wi(ln(t.replace(/__/g,"-"))),props:{tag:{type:String,default:e},...mn()},setup(r,s){let{slots:i}=s;return()=>{var o;return Ai(r.tag,{class:[t,r.class],style:r.style},(o=i.default)==null?void 0:o.call(i))}}})}function k0(t){if(typeof t.getRootNode!="function"){for(;t.parentNode;)t=t.parentNode;return t!==document?null:document}const e=t.getRootNode();return e!==document&&e.getRootNode({composed:!0})!==document?null:e}const kd="cubic-bezier(0.4, 0, 0.2, 1)",DM="cubic-bezier(0.0, 0, 0.2, 1)",VM="cubic-bezier(0.4, 0, 1, 1)";function nn(t,e){const n=vf();if(!n)throw new Error(`[Vuetify] ${t} ${e||"must be called from inside a setup function"}`);return n}function bs(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"composables";const e=nn(t).type;return ts((e==null?void 0:e.aliasName)||(e==null?void 0:e.name))}let D0=0,Fc=new WeakMap;function V0(){const t=nn("getUid");if(Fc.has(t))return Fc.get(t);{const e=D0++;return Fc.set(t,e),e}}V0.reset=()=>{D0=0,Fc=new WeakMap};function OM(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;for(;t;){if(e?NM(t):Xm(t))return t;t=t.parentElement}return document.scrollingElement}function Il(t,e){const n=[];if(e&&t&&!e.contains(t))return n;for(;t&&(Xm(t)&&n.push(t),t!==e);)t=t.parentElement;return n}function Xm(t){if(!t||t.nodeType!==Node.ELEMENT_NODE)return!1;const e=window.getComputedStyle(t);return e.overflowY==="scroll"||e.overflowY==="auto"&&t.scrollHeight>t.clientHeight}function NM(t){if(!t||t.nodeType!==Node.ELEMENT_NODE)return!1;const e=window.getComputedStyle(t);return["scroll","auto"].includes(e.overflowY)}function MM(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:nn("injectSelf");const{provides:n}=e;if(n&&t in n)return n[t]}function LM(t){for(;t;){if(window.getComputedStyle(t).position==="fixed")return!0;t=t.offsetParent}return!1}function gn(t){const e=nn("useRender");e.render=t}const _i=Symbol.for("vuetify:defaults");function FM(t){return Me(t)}function Jm(){const t=Ze(_i);if(!t)throw new Error("[Vuetify] Could not find defaults instance");return t}function O0(t,e){const n=Jm(),r=Me(t),s=U(()=>{if(Ct(e==null?void 0:e.disabled))return n.value;const o=Ct(e==null?void 0:e.scoped),a=Ct(e==null?void 0:e.reset),c=Ct(e==null?void 0:e.root);if(r.value==null&&!(o||a||c))return n.value;let l=Jt(r.value,{prev:n.value});if(o)return l;if(a||c){const u=Number(a||1/0);for(let h=0;h<=u&&!(!l||!("prev"in l));h++)l=l.prev;return l&&typeof c=="string"&&c in l&&(l=Jt(Jt(l,{prev:l}),l[c])),l}return l.prev?Jt(l.prev,l):l});return gr(_i,s),s}function UM(t,e){var n,r;return typeof((n=t.props)==null?void 0:n[e])<"u"||typeof((r=t.props)==null?void 0:r[ts(e)])<"u"}function BM(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Jm();const r=nn("useDefaults");if(e=e??r.type.name??r.type.__name,!e)throw new Error("[Vuetify] Could not determine component name");const s=U(()=>{var c;return(c=n.value)==null?void 0:c[t._as??e]}),i=new Proxy(t,{get(c,l){var h,d,f,m;const u=Reflect.get(c,l);return l==="class"||l==="style"?[(h=s.value)==null?void 0:h[l],u].filter(p=>p!=null):typeof l=="string"&&!UM(r.vnode,l)?((d=s.value)==null?void 0:d[l])??((m=(f=n.value)==null?void 0:f.global)==null?void 0:m[l])??u:u}}),o=rt();Pr(()=>{if(s.value){const c=Object.entries(s.value).filter(l=>{let[u]=l;return u.startsWith(u[0].toUpperCase())});o.value=c.length?Object.fromEntries(c):void 0}else o.value=void 0});function a(){const c=MM(_i,r);gr(_i,U(()=>o.value?Jt((c==null?void 0:c.value)??{},o.value):c==null?void 0:c.value))}return{props:i,provideSubDefaults:a}}const $M=Vt()({name:"VCardActions",props:mn(),setup(t,e){let{slots:n}=e;return O0({VBtn:{variant:"text"}}),gn(()=>{var r;return x("div",{class:["v-card-actions",t.class],style:t.style},[(r=n.default)==null?void 0:r.call(n)])}),{}}}),jM=Ym("v-card-subtitle"),zM=Ym("v-card-title");function Zm(t){return Wm(()=>{const e=[],n={};if(t.value.background)if(my(t.value.background)){if(n.backgroundColor=t.value.background,!t.value.text){const r=x0(n.backgroundColor);n.color=r,n.caretColor=r}}else e.push(`bg-${t.value.background}`);return t.value.text&&(my(t.value.text)?(n.color=t.value.text,n.caretColor=t.value.text):e.push(`text-${t.value.text}`)),{colorClasses:e,colorStyles:n}})}function wl(t,e){const n=U(()=>({text:Oe(t)?t.value:e?t[e]:null})),{colorClasses:r,colorStyles:s}=Zm(n);return{textColorClasses:r,textColorStyles:s}}function Dd(t,e){const n=U(()=>({background:Oe(t)?t.value:e?t[e]:null})),{colorClasses:r,colorStyles:s}=Zm(n);return{backgroundColorClasses:r,backgroundColorStyles:s}}const qM={collapse:"mdi-chevron-up",complete:"mdi-check",cancel:"mdi-close-circle",close:"mdi-close",delete:"mdi-close-circle",clear:"mdi-close-circle",success:"mdi-check-circle",info:"mdi-information",warning:"mdi-alert-circle",error:"mdi-close-circle",prev:"mdi-chevron-left",next:"mdi-chevron-right",checkboxOn:"mdi-checkbox-marked",checkboxOff:"mdi-checkbox-blank-outline",checkboxIndeterminate:"mdi-minus-box",delimiter:"mdi-circle",sortAsc:"mdi-arrow-up",sortDesc:"mdi-arrow-down",expand:"mdi-chevron-down",menu:"mdi-menu",subgroup:"mdi-menu-down",dropdown:"mdi-menu-down",radioOn:"mdi-radiobox-marked",radioOff:"mdi-radiobox-blank",edit:"mdi-pencil",ratingEmpty:"mdi-star-outline",ratingFull:"mdi-star",ratingHalf:"mdi-star-half-full",loading:"mdi-cached",first:"mdi-page-first",last:"mdi-page-last",unfold:"mdi-unfold-more-horizontal",file:"mdi-paperclip",plus:"mdi-plus",minus:"mdi-minus",calendar:"mdi-calendar"},KM={component:t=>Ai(M0,{...t,class:"mdi"})},ps=[String,Function,Object,Array],Vd=Symbol.for("vuetify:icons"),Cu=we({icon:{type:ps},tag:{type:String,required:!0}},"icon"),_y=Vt()({name:"VComponentIcon",props:Cu(),setup(t,e){let{slots:n}=e;return()=>{const r=t.icon;return x(t.tag,null,{default:()=>{var s;return[t.icon?x(r,null,null):(s=n.default)==null?void 0:s.call(n)]}})}}}),N0=Ha({name:"VSvgIcon",inheritAttrs:!1,props:Cu(),setup(t,e){let{attrs:n}=e;return()=>x(t.tag,Lt(n,{style:null}),{default:()=>[x("svg",{class:"v-icon__svg",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",role:"img","aria-hidden":"true"},[Array.isArray(t.icon)?t.icon.map(r=>Array.isArray(r)?x("path",{d:r[0],"fill-opacity":r[1]},null):x("path",{d:r},null)):x("path",{d:t.icon},null)])]})}});Ha({name:"VLigatureIcon",props:Cu(),setup(t){return()=>x(t.tag,null,{default:()=>[t.icon]})}});const M0=Ha({name:"VClassIcon",props:Cu(),setup(t){return()=>x(t.tag,{class:t.icon},null)}}),HM={svg:{component:N0},class:{component:M0}};function GM(t){return Jt({defaultSet:"mdi",sets:{...HM,mdi:KM},aliases:{...qM,vuetify:["M8.2241 14.2009L12 21L22 3H14.4459L8.2241 14.2009Z",["M7.26303 12.4733L7.00113 12L2 3H12.5261C12.5261 3 12.5261 3 12.5261 3L7.26303 12.4733Z",.6]],"vuetify-outline":"svg:M7.26 12.47 12.53 3H2L7.26 12.47ZM14.45 3 8.22 14.2 12 21 22 3H14.45ZM18.6 5 12 16.88 10.51 14.2 15.62 5ZM7.26 8.35 5.4 5H9.13L7.26 8.35Z"}},t)}const WM=t=>{const e=Ze(Vd);if(!e)throw new Error("Missing Vuetify Icons provide!");return{iconData:U(()=>{var c;const r=Ct(t);if(!r)return{component:_y};let s=r;if(typeof s=="string"&&(s=s.trim(),s.startsWith("$")&&(s=(c=e.aliases)==null?void 0:c[s.slice(1)])),!s)throw new Error(`Could not find aliased icon "${r}"`);if(Array.isArray(s))return{component:N0,icon:s};if(typeof s!="string")return{component:_y,icon:s};const i=Object.keys(e.sets).find(l=>typeof s=="string"&&s.startsWith(`${l}:`)),o=i?s.slice(i.length+1):s;return{component:e.sets[i??e.defaultSet].component,icon:o}})}},QM=["x-small","small","default","large","x-large"],eg=we({size:{type:[String,Number],default:"default"}},"size");function tg(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:bs();return Wm(()=>{let n,r;return vl(QM,t.size)?n=`${e}--size-${t.size}`:t.size&&(r={width:be(t.size),height:be(t.size)}),{sizeClasses:n,sizeStyles:r}})}const Ga=we({tag:{type:String,default:"div"}},"tag"),la=Symbol.for("vuetify:theme"),Oi=we({theme:String},"theme"),Yi={defaultTheme:"light",variations:{colors:[],lighten:0,darken:0},themes:{light:{dark:!1,colors:{background:"#FFFFFF",surface:"#FFFFFF","surface-bright":"#FFFFFF","surface-variant":"#424242","on-surface-variant":"#EEEEEE",primary:"#6200EE","primary-darken-1":"#3700B3",secondary:"#03DAC6","secondary-darken-1":"#018786",error:"#B00020",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"},variables:{"border-color":"#000000","border-opacity":.12,"high-emphasis-opacity":.87,"medium-emphasis-opacity":.6,"disabled-opacity":.38,"idle-opacity":.04,"hover-opacity":.04,"focus-opacity":.12,"selected-opacity":.08,"activated-opacity":.12,"pressed-opacity":.12,"dragged-opacity":.08,"theme-kbd":"#212529","theme-on-kbd":"#FFFFFF","theme-code":"#F5F5F5","theme-on-code":"#000000"}},dark:{dark:!0,colors:{background:"#121212",surface:"#212121","surface-bright":"#ccbfd6","surface-variant":"#a3a3a3","on-surface-variant":"#424242",primary:"#BB86FC","primary-darken-1":"#3700B3",secondary:"#03DAC5","secondary-darken-1":"#03DAC5",error:"#CF6679",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"},variables:{"border-color":"#FFFFFF","border-opacity":.12,"high-emphasis-opacity":1,"medium-emphasis-opacity":.7,"disabled-opacity":.5,"idle-opacity":.1,"hover-opacity":.04,"focus-opacity":.12,"selected-opacity":.08,"activated-opacity":.12,"pressed-opacity":.16,"dragged-opacity":.08,"theme-kbd":"#212529","theme-on-kbd":"#FFFFFF","theme-code":"#343434","theme-on-code":"#CCCCCC"}}}};function YM(){var n,r;let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Yi;if(!t)return{...Yi,isDisabled:!0};const e={};for(const[s,i]of Object.entries(t.themes??{})){const o=i.dark||s==="dark"?(n=Yi.themes)==null?void 0:n.dark:(r=Yi.themes)==null?void 0:r.light;e[s]=Jt(o,i)}return Jt(Yi,{...t,themes:e})}function XM(t){const e=YM(t),n=Me(e.defaultTheme),r=Me(e.themes),s=U(()=>{const u={};for(const[h,d]of Object.entries(r.value)){const f=u[h]={...d,colors:{...d.colors}};if(e.variations)for(const m of e.variations.colors){const p=f.colors[m];if(p)for(const y of["lighten","darken"]){const T=y==="lighten"?CM:xM;for(const w of y0(e.variations[y],1))f.colors[`${m}-${y}-${w}`]=RM(T(jn(p),w))}}for(const m of Object.keys(f.colors)){if(/^on-[a-z]/.test(m)||f.colors[`on-${m}`])continue;const p=`on-${m}`,y=jn(f.colors[m]);f.colors[p]=x0(y)}}return u}),i=U(()=>s.value[n.value]),o=U(()=>{const u=[];i.value.dark&&Lr(u,":root",["color-scheme: dark"]),Lr(u,":root",yy(i.value));for(const[m,p]of Object.entries(s.value))Lr(u,`.v-theme--${m}`,[`color-scheme: ${p.dark?"dark":"normal"}`,...yy(p)]);const h=[],d=[],f=new Set(Object.values(s.value).flatMap(m=>Object.keys(m.colors)));for(const m of f)/^on-[a-z]/.test(m)?Lr(d,`.${m}`,[`color: rgb(var(--v-theme-${m})) !important`]):(Lr(h,`.bg-${m}`,[`--v-theme-overlay-multiplier: var(--v-theme-${m}-overlay-multiplier)`,`background-color: rgb(var(--v-theme-${m})) !important`,`color: rgb(var(--v-theme-on-${m})) !important`]),Lr(d,`.text-${m}`,[`color: rgb(var(--v-theme-${m})) !important`]),Lr(d,`.border-${m}`,[`--v-border-color: var(--v-theme-${m})`]));return u.push(...h,...d),u.map((m,p)=>p===0?m:`    ${m}`).join("")});function a(){return{style:[{children:o.value,id:"vuetify-theme-stylesheet",nonce:e.cspNonce||!1}]}}function c(u){if(e.isDisabled)return;const h=u._context.provides.usehead;if(h)if(h.push){const d=h.push(a);Ke&&ke(o,()=>{d.patch(a)})}else Ke?(h.addHeadObjs(U(a)),Pr(()=>h.updateDOM())):h.addHeadObjs(a());else{let f=function(){if(typeof document<"u"&&!d){const m=document.createElement("style");m.type="text/css",m.id="vuetify-theme-stylesheet",e.cspNonce&&m.setAttribute("nonce",e.cspNonce),d=m,document.head.appendChild(d)}d&&(d.innerHTML=o.value)},d=Ke?document.getElementById("vuetify-theme-stylesheet"):null;Ke?ke(o,f,{immediate:!0}):f()}}const l=U(()=>e.isDisabled?void 0:`v-theme--${n.value}`);return{install:c,isDisabled:e.isDisabled,name:n,themes:r,current:i,computedThemes:s,themeClasses:l,styles:o,global:{name:n,current:i}}}function Ni(t){nn("provideTheme");const e=Ze(la,null);if(!e)throw new Error("Could not find Vuetify theme injection");const n=U(()=>t.theme??e.name.value),r=U(()=>e.themes.value[n.value]),s=U(()=>e.isDisabled?void 0:`v-theme--${n.value}`),i={...e,name:n,current:r,themeClasses:s};return gr(la,i),i}function qU(){nn("useTheme");const t=Ze(la,null);if(!t)throw new Error("Could not find Vuetify theme injection");return t}function Lr(t,e,n){t.push(`${e} {
`,...n.map(r=>`  ${r};
`),`}
`)}function yy(t){const e=t.dark?2:1,n=t.dark?1:2,r=[];for(const[s,i]of Object.entries(t.colors)){const o=jn(i);r.push(`--v-theme-${s}: ${o.r},${o.g},${o.b}`),s.startsWith("on-")||r.push(`--v-theme-${s}-overlay-multiplier: ${kM(i)>.18?e:n}`)}for(const[s,i]of Object.entries(t.variables)){const o=typeof i=="string"&&i.startsWith("#")?jn(i):void 0,a=o?`${o.r}, ${o.g}, ${o.b}`:void 0;r.push(`--v-${s}: ${a??i}`)}return r}const JM=we({color:String,start:Boolean,end:Boolean,icon:ps,...mn(),...eg(),...Ga({tag:"i"}),...Oi()},"VIcon"),ZM=Vt()({name:"VIcon",props:JM(),setup(t,e){let{attrs:n,slots:r}=e;const s=Me(),{themeClasses:i}=Ni(t),{iconData:o}=WM(U(()=>s.value||t.icon)),{sizeClasses:a}=tg(t),{textColorClasses:c,textColorStyles:l}=wl(xo(t,"color"));return gn(()=>{var h,d;const u=(h=r.default)==null?void 0:h.call(r);return u&&(s.value=(d=I0(u).filter(f=>f.type===ga&&f.children&&typeof f.children=="string")[0])==null?void 0:d.children),x(o.value.component,{tag:t.tag,icon:o.value.icon,class:["v-icon","notranslate",i.value,a.value,c.value,{"v-icon--clickable":!!n.onClick,"v-icon--start":t.start,"v-icon--end":t.end},t.class],style:[a.value?void 0:{fontSize:be(t.size),height:be(t.size),width:be(t.size)},l.value,t.style],role:n.onClick?"button":void 0,"aria-hidden":!n.onClick},{default:()=>[u]})}),{}}});const ng=we({height:[Number,String],maxHeight:[Number,String],maxWidth:[Number,String],minHeight:[Number,String],minWidth:[Number,String],width:[Number,String]},"dimension");function rg(t){return{dimensionStyles:U(()=>({height:be(t.height),maxHeight:be(t.maxHeight),maxWidth:be(t.maxWidth),minHeight:be(t.minHeight),minWidth:be(t.minWidth),width:be(t.width)}))}}function eL(t){return{aspectStyles:U(()=>{const e=Number(t.aspectRatio);return e?{paddingBottom:String(1/e*100)+"%"}:void 0})}}const L0=we({aspectRatio:[String,Number],contentClass:String,inline:Boolean,...mn(),...ng()},"VResponsive"),vy=Vt()({name:"VResponsive",props:L0(),setup(t,e){let{slots:n}=e;const{aspectStyles:r}=eL(t),{dimensionStyles:s}=rg(t);return gn(()=>{var i;return x("div",{class:["v-responsive",{"v-responsive--inline":t.inline},t.class],style:[s.value,t.style]},[x("div",{class:"v-responsive__sizer",style:r.value},null),(i=n.additional)==null?void 0:i.call(n),n.default&&x("div",{class:["v-responsive__content",t.contentClass]},[n.default()])])}),{}}}),F0=we({transition:{type:[Boolean,String,Object],default:"fade-transition",validator:t=>t!==!0}},"transition"),lo=(t,e)=>{let{slots:n}=e;const{transition:r,disabled:s,...i}=t,{component:o=rs,...a}=typeof r=="object"?r:{};return Ai(o,Lt(typeof r=="string"?{name:s?"":r}:a,i,{disabled:s}),n)};function tL(t,e){if(!Gm)return;const n=e.modifiers||{},r=e.value,{handler:s,options:i}=typeof r=="object"?r:{handler:r,options:{}},o=new IntersectionObserver(function(){var h;let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],c=arguments.length>1?arguments[1]:void 0;const l=(h=t._observe)==null?void 0:h[e.instance.$.uid];if(!l)return;const u=a.some(d=>d.isIntersecting);s&&(!n.quiet||l.init)&&(!n.once||u||l.init)&&s(u,a,c),u&&n.once?U0(t,e):l.init=!0},i);t._observe=Object(t._observe),t._observe[e.instance.$.uid]={init:!1,observer:o},o.observe(t)}function U0(t,e){var r;const n=(r=t._observe)==null?void 0:r[e.instance.$.uid];n&&(n.observer.unobserve(t),delete t._observe[e.instance.$.uid])}const nL={mounted:tL,unmounted:U0},rL=nL,sL=we({alt:String,cover:Boolean,eager:Boolean,gradient:String,lazySrc:String,options:{type:Object,default:()=>({root:void 0,rootMargin:void 0,threshold:void 0})},sizes:String,src:{type:[String,Object],default:""},srcset:String,...L0(),...mn(),...F0()},"VImg"),B0=Vt()({name:"VImg",directives:{intersect:rL},props:sL(),emits:{loadstart:t=>!0,load:t=>!0,error:t=>!0},setup(t,e){let{emit:n,slots:r}=e;const s=rt(""),i=Me(),o=rt(t.eager?"loading":"idle"),a=rt(),c=rt(),l=U(()=>t.src&&typeof t.src=="object"?{src:t.src.src,srcset:t.srcset||t.src.srcset,lazySrc:t.lazySrc||t.src.lazySrc,aspect:Number(t.aspectRatio||t.src.aspect||0)}:{src:t.src,srcset:t.srcset,lazySrc:t.lazySrc,aspect:Number(t.aspectRatio||0)}),u=U(()=>l.value.aspect||a.value/c.value||0);ke(()=>t.src,()=>{h(o.value!=="idle")}),ke(u,(R,V)=>{!R&&V&&i.value&&y(i.value)}),Fv(()=>h());function h(R){if(!(t.eager&&R)&&!(Gm&&!R&&!t.eager)){if(o.value="loading",l.value.lazySrc){const V=new Image;V.src=l.value.lazySrc,y(V,null)}l.value.src&&fn(()=>{var V,K;if(n("loadstart",((V=i.value)==null?void 0:V.currentSrc)||l.value.src),(K=i.value)!=null&&K.complete){if(i.value.naturalWidth||f(),o.value==="error")return;u.value||y(i.value,null),d()}else u.value||y(i.value),m()})}}function d(){var R;m(),o.value="loaded",n("load",((R=i.value)==null?void 0:R.currentSrc)||l.value.src)}function f(){var R;o.value="error",n("error",((R=i.value)==null?void 0:R.currentSrc)||l.value.src)}function m(){const R=i.value;R&&(s.value=R.currentSrc||R.src)}let p=-1;function y(R){let V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:100;const K=()=>{clearTimeout(p);const{naturalHeight:J,naturalWidth:O}=R;J||O?(a.value=O,c.value=J):!R.complete&&o.value==="loading"&&V!=null?p=window.setTimeout(K,V):(R.currentSrc.endsWith(".svg")||R.currentSrc.startsWith("data:image/svg+xml"))&&(a.value=1,c.value=1)};K()}const T=U(()=>({"v-img__img--cover":t.cover,"v-img__img--contain":!t.cover})),w=()=>{var K;if(!l.value.src||o.value==="idle")return null;const R=x("img",{class:["v-img__img",T.value],src:l.value.src,srcset:l.value.srcset,alt:t.alt,sizes:t.sizes,ref:i,onLoad:d,onError:f},null),V=(K=r.sources)==null?void 0:K.call(r);return x(lo,{transition:t.transition,appear:!0},{default:()=>[Kc(V?x("picture",{class:"v-img__picture"},[V,R]):R,[[lE,o.value==="loaded"]])]})},v=()=>x(lo,{transition:t.transition},{default:()=>[l.value.lazySrc&&o.value!=="loaded"&&x("img",{class:["v-img__img","v-img__img--preload",T.value],src:l.value.lazySrc,alt:t.alt},null)]}),b=()=>r.placeholder?x(lo,{transition:t.transition,appear:!0},{default:()=>[(o.value==="loading"||o.value==="error"&&!r.error)&&x("div",{class:"v-img__placeholder"},[r.placeholder()])]}):null,D=()=>r.error?x(lo,{transition:t.transition,appear:!0},{default:()=>[o.value==="error"&&x("div",{class:"v-img__error"},[r.error()])]}):null,j=()=>t.gradient?x("div",{class:"v-img__gradient",style:{backgroundImage:`linear-gradient(${t.gradient})`}},null):null,G=rt(!1);{const R=ke(u,V=>{V&&(requestAnimationFrame(()=>{requestAnimationFrame(()=>{G.value=!0})}),R())})}return gn(()=>{const[R]=vy.filterProps(t);return Kc(x(vy,Lt({class:["v-img",{"v-img--booting":!G.value},t.class],style:[{width:be(t.width==="auto"?a.value:t.width)},t.style]},R,{aspectRatio:u.value,"aria-label":t.alt,role:t.alt?"img":void 0}),{additional:()=>x(ct,null,[x(w,null,null),x(v,null,null),x(j,null,null),x(b,null,null),x(D,null,null)]),default:r.default}),[[df("intersect"),{handler:h,options:t.options},null,{once:!0}]])}),{currentSrc:s,image:i,state:o,naturalWidth:a,naturalHeight:c}}}),iL=[null,"default","comfortable","compact"],sg=we({density:{type:String,default:"default",validator:t=>iL.includes(t)}},"density");function $0(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:bs();return{densityClasses:U(()=>`${e}--density-${t.density}`)}}const ig=we({rounded:{type:[Boolean,Number,String],default:void 0}},"rounded");function og(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:bs();return{roundedClasses:U(()=>{const r=Oe(t)?t.value:t.rounded,s=[];if(r===!0||r==="")s.push(`${e}--rounded`);else if(typeof r=="string"||r===0)for(const i of String(r).split(" "))s.push(`rounded-${i}`);return s})}}const oL=["elevated","flat","tonal","outlined","text","plain"];function j0(t,e){return x(ct,null,[t&&x("span",{key:"overlay",class:`${e}__overlay`},null),x("span",{key:"underlay",class:`${e}__underlay`},null)])}const z0=we({color:String,variant:{type:String,default:"elevated",validator:t=>oL.includes(t)}},"variant");function q0(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:bs();const n=U(()=>{const{variant:i}=Ct(t);return`${e}--variant-${i}`}),{colorClasses:r,colorStyles:s}=Zm(U(()=>{const{variant:i,color:o}=Ct(t);return{[["elevated","flat"].includes(i)?"background":"text"]:o}}));return{colorClasses:r,colorStyles:s,variantClasses:n}}const aL=we({start:Boolean,end:Boolean,icon:ps,image:String,...mn(),...sg(),...ig(),...eg(),...Ga(),...Oi(),...z0({variant:"flat"})},"VAvatar"),Ey=Vt()({name:"VAvatar",props:aL(),setup(t,e){let{slots:n}=e;const{themeClasses:r}=Ni(t),{colorClasses:s,colorStyles:i,variantClasses:o}=q0(t),{densityClasses:a}=$0(t),{roundedClasses:c}=og(t),{sizeClasses:l,sizeStyles:u}=tg(t);return gn(()=>x(t.tag,{class:["v-avatar",{"v-avatar--start":t.start,"v-avatar--end":t.end},r.value,s.value,a.value,c.value,l.value,o.value,t.class],style:[i.value,u.value,t.style]},{default:()=>{var h;return[t.image?x(B0,{key:"image",src:t.image,alt:"",cover:!0},null):t.icon?x(ZM,{key:"icon",icon:t.icon},null):(h=n.default)==null?void 0:h.call(n),j0(!1,"v-avatar")]}})),{}}}),cL=we({defaults:Object,disabled:Boolean,reset:[Number,String],root:[Boolean,String],scoped:Boolean},"VDefaultsProvider"),Tl=Vt(!1)({name:"VDefaultsProvider",props:cL(),setup(t,e){let{slots:n}=e;const{defaults:r,disabled:s,reset:i,root:o,scoped:a}=Vl(t);return O0(r,{reset:i,root:o,scoped:a,disabled:s}),()=>{var c;return(c=n.default)==null?void 0:c.call(n)}}}),lL=we({appendAvatar:String,appendIcon:ps,prependAvatar:String,prependIcon:ps,subtitle:String,title:String,...mn(),...sg()},"VCardItem"),uL=Vt()({name:"VCardItem",props:lL(),setup(t,e){let{slots:n}=e;return gn(()=>{var l;const r=!!(t.prependAvatar||t.prependIcon),s=!!(r||n.prepend),i=!!(t.appendAvatar||t.appendIcon),o=!!(i||n.append),a=!!(t.title||n.title),c=!!(t.subtitle||n.subtitle);return x("div",{class:["v-card-item",t.class],style:t.style},[s&&x("div",{key:"prepend",class:"v-card-item__prepend"},[n.prepend?x(Tl,{key:"prepend-defaults",disabled:!r,defaults:{VAvatar:{density:t.density,icon:t.prependIcon,image:t.prependAvatar}}},n.prepend):r&&x(Ey,{key:"prepend-avatar",density:t.density,icon:t.prependIcon,image:t.prependAvatar},null)]),x("div",{class:"v-card-item__content"},[a&&x(zM,{key:"title"},{default:()=>{var u;return[((u=n.title)==null?void 0:u.call(n))??t.title]}}),c&&x(jM,{key:"subtitle"},{default:()=>{var u;return[((u=n.subtitle)==null?void 0:u.call(n))??t.subtitle]}}),(l=n.default)==null?void 0:l.call(n)]),o&&x("div",{key:"append",class:"v-card-item__append"},[n.append?x(Tl,{key:"append-defaults",disabled:!i,defaults:{VAvatar:{density:t.density,icon:t.appendIcon,image:t.appendAvatar}}},n.append):i&&x(Ey,{key:"append-avatar",density:t.density,icon:t.appendIcon,image:t.appendAvatar},null)])])}),{}}}),K0=Ym("v-card-text"),hL=we({border:[Boolean,Number,String]},"border");function dL(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:bs();return{borderClasses:U(()=>{const r=Oe(t)?t.value:t.border,s=[];if(r===!0||r==="")s.push(`${e}--border`);else if(typeof r=="string"||r===0)for(const i of String(r).split(" "))s.push(`border-${i}`);return s})}}const fL=we({elevation:{type:[Number,String],validator(t){const e=parseInt(t);return!isNaN(e)&&e>=0&&e<=24}}},"elevation");function mL(t){return{elevationClasses:U(()=>{const n=Oe(t)?t.value:t.elevation,r=[];return n==null||r.push(`elevation-${n}`),r})}}function H0(t,e){const n=Me(),r=rt(!1);if(Gm){const s=new IntersectionObserver(i=>{t==null||t(i,s),r.value=!!i.find(o=>o.isIntersecting)},e);Ul(()=>{s.disconnect()}),ke(n,(i,o)=>{o&&(s.unobserve(o),r.value=!1),i&&s.observe(i)},{flush:"post"})}return{intersectionRef:n,isIntersecting:r}}const gL={badge:"Badge",open:"Open",close:"Close",dataIterator:{noResultsText:"No matching records found",loadingText:"Loading items..."},dataTable:{itemsPerPageText:"Rows per page:",ariaLabel:{sortDescending:"Sorted descending.",sortAscending:"Sorted ascending.",sortNone:"Not sorted.",activateNone:"Activate to remove sorting.",activateDescending:"Activate to sort descending.",activateAscending:"Activate to sort ascending."},sortBy:"Sort by"},dataFooter:{itemsPerPageText:"Items per page:",itemsPerPageAll:"All",nextPage:"Next page",prevPage:"Previous page",firstPage:"First page",lastPage:"Last page",pageText:"{0}-{1} of {2}"},dateRangeInput:{divider:"to"},datePicker:{ok:"OK",cancel:"Cancel",range:{title:"Select dates",header:"Enter dates"},title:"Select date",header:"Enter date",input:{placeholder:"Enter date"}},noDataText:"No data available",carousel:{prev:"Previous visual",next:"Next visual",ariaLabel:{delimiter:"Carousel slide {0} of {1}"}},calendar:{moreEvents:"{0} more"},input:{clear:"Clear {0}",prependAction:"{0} prepended action",appendAction:"{0} appended action",otp:"Please enter OTP character {0}"},fileInput:{counter:"{0} files",counterSize:"{0} files ({1} in total)"},timePicker:{am:"AM",pm:"PM"},pagination:{ariaLabel:{root:"Pagination Navigation",next:"Next page",previous:"Previous page",page:"Go to page {0}",currentPage:"Page {0}, Current page",first:"First page",last:"Last page"}},stepper:{next:"Next",prev:"Previous"},rating:{ariaLabel:{item:"Rating {0} of {1}"}},loading:"Loading...",infiniteScroll:{loadMore:"Load more",empty:"No more"}},pL={af:!1,ar:!0,bg:!1,ca:!1,ckb:!1,cs:!1,de:!1,el:!1,en:!1,es:!1,et:!1,fa:!0,fi:!1,fr:!1,hr:!1,hu:!1,he:!0,id:!1,it:!1,ja:!1,ko:!1,lv:!1,lt:!1,nl:!1,no:!1,pl:!1,pt:!1,ro:!1,ru:!1,sk:!1,sl:!1,srCyrl:!1,srLatn:!1,sv:!1,th:!1,tr:!1,az:!1,uk:!1,vi:!1,zhHans:!1,zhHant:!1};function xu(t,e){let n;function r(){n=ma(),n.run(()=>e.length?e(()=>{n==null||n.stop(),r()}):e())}ke(t,s=>{s&&!n?r():s||(n==null||n.stop(),n=void 0)},{immediate:!0}),Ht(()=>{n==null||n.stop()})}function ku(t,e,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:h=>h,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:h=>h;const i=nn("useProxiedModel"),o=Me(t[e]!==void 0?t[e]:n),a=ts(e),l=U(a!==e?()=>{var h,d,f,m;return t[e],!!(((h=i.vnode.props)!=null&&h.hasOwnProperty(e)||(d=i.vnode.props)!=null&&d.hasOwnProperty(a))&&((f=i.vnode.props)!=null&&f.hasOwnProperty(`onUpdate:${e}`)||(m=i.vnode.props)!=null&&m.hasOwnProperty(`onUpdate:${a}`)))}:()=>{var h,d;return t[e],!!((h=i.vnode.props)!=null&&h.hasOwnProperty(e)&&((d=i.vnode.props)!=null&&d.hasOwnProperty(`onUpdate:${e}`)))});xu(()=>!l.value,()=>{ke(()=>t[e],h=>{o.value=h})});const u=U({get(){const h=t[e];return r(l.value?h:o.value)},set(h){const d=s(h),f=ge(l.value?t[e]:o.value);f===d||r(f)===h||(o.value=d,i==null||i.emit(`update:${e}`,d))}});return Object.defineProperty(u,"externalValue",{get:()=>l.value?t[e]:o.value}),u}const Iy="$vuetify.",wy=(t,e)=>t.replace(/\{(\d+)\}/g,(n,r)=>String(e[+r])),G0=(t,e,n)=>function(r){for(var s=arguments.length,i=new Array(s>1?s-1:0),o=1;o<s;o++)i[o-1]=arguments[o];if(!r.startsWith(Iy))return wy(r,i);const a=r.replace(Iy,""),c=t.value&&n.value[t.value],l=e.value&&n.value[e.value];let u=Ad(c,a,null);return u||(`${r}${t.value}`,u=Ad(l,a,null)),u||(u=r),typeof u!="string"&&(u=r),wy(u,i)};function W0(t,e){return(n,r)=>new Intl.NumberFormat([t.value,e.value],r).format(n)}function ph(t,e,n){const r=ku(t,e,t[e]??n.value);return r.value=t[e]??n.value,ke(n,s=>{t[e]==null&&(r.value=n.value)}),r}function Q0(t){return e=>{const n=ph(e,"locale",t.current),r=ph(e,"fallback",t.fallback),s=ph(e,"messages",t.messages);return{name:"vuetify",current:n,fallback:r,messages:s,t:G0(n,r,s),n:W0(n,r),provide:Q0({current:n,fallback:r,messages:s})}}}function _L(t){const e=rt((t==null?void 0:t.locale)??"en"),n=rt((t==null?void 0:t.fallback)??"en"),r=Me({en:gL,...t==null?void 0:t.messages});return{name:"vuetify",current:e,fallback:n,messages:r,t:G0(e,n,r),n:W0(e,n),provide:Q0({current:e,fallback:n,messages:r})}}const bl=Symbol.for("vuetify:locale");function yL(t){return t.name!=null}function vL(t){const e=t!=null&&t.adapter&&yL(t==null?void 0:t.adapter)?t==null?void 0:t.adapter:_L(t),n=EL(e,t);return{...e,...n}}function KU(){const t=Ze(bl);if(!t)throw new Error("[Vuetify] Could not find injected locale instance");return t}function EL(t,e){const n=Me((e==null?void 0:e.rtl)??pL),r=U(()=>n.value[t.current.value]??!1);return{isRtl:r,rtl:n,rtlClasses:U(()=>`v-locale--is-${r.value?"rtl":"ltr"}`)}}function ag(){const t=Ze(bl);if(!t)throw new Error("[Vuetify] Could not find injected rtl instance");return{isRtl:t.isRtl,rtlClasses:t.rtlClasses}}const Ty={center:"center",top:"bottom",bottom:"top",left:"right",right:"left"},Y0=we({location:String},"location");function X0(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=arguments.length>2?arguments[2]:void 0;const{isRtl:r}=ag();return{locationStyles:U(()=>{if(!t.location)return{};const{side:i,align:o}=xd(t.location.split(" ").length>1?t.location:`${t.location} center`,r.value);function a(l){return n?n(l):0}const c={};return i!=="center"&&(e?c[Ty[i]]=`calc(100% - ${a(i)}px)`:c[i]=0),o!=="center"?e?c[Ty[o]]=`calc(100% - ${a(o)}px)`:c[o]=0:(i==="center"?c.top=c.left="50%":c[{top:"left",bottom:"left",left:"top",right:"top"}[i]]="50%",c.transform={top:"translateX(-50%)",bottom:"translateX(-50%)",left:"translateY(-50%)",right:"translateY(-50%)",center:"translate(-50%, -50%)"}[i]),c})}}const IL=we({absolute:Boolean,active:{type:Boolean,default:!0},bgColor:String,bgOpacity:[Number,String],bufferValue:{type:[Number,String],default:0},clickable:Boolean,color:String,height:{type:[Number,String],default:4},indeterminate:Boolean,max:{type:[Number,String],default:100},modelValue:{type:[Number,String],default:0},reverse:Boolean,stream:Boolean,striped:Boolean,roundedBar:Boolean,...mn(),...Y0({location:"top"}),...ig(),...Ga(),...Oi()},"VProgressLinear"),wL=Vt()({name:"VProgressLinear",props:IL(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const r=ku(t,"modelValue"),{isRtl:s,rtlClasses:i}=ag(),{themeClasses:o}=Ni(t),{locationStyles:a}=X0(t),{textColorClasses:c,textColorStyles:l}=wl(t,"color"),{backgroundColorClasses:u,backgroundColorStyles:h}=Dd(U(()=>t.bgColor||t.color)),{backgroundColorClasses:d,backgroundColorStyles:f}=Dd(t,"color"),{roundedClasses:m}=og(t),{intersectionRef:p,isIntersecting:y}=H0(),T=U(()=>parseInt(t.max,10)),w=U(()=>parseInt(t.height,10)),v=U(()=>parseFloat(t.bufferValue)/T.value*100),b=U(()=>parseFloat(r.value)/T.value*100),D=U(()=>s.value!==t.reverse),j=U(()=>t.indeterminate?"fade-transition":"slide-x-transition"),G=U(()=>t.bgOpacity==null?t.bgOpacity:parseFloat(t.bgOpacity));function R(V){if(!p.value)return;const{left:K,right:J,width:O}=p.value.getBoundingClientRect(),Y=D.value?O-V.clientX+(J-O):V.clientX-K;r.value=Math.round(Y/O*T.value)}return gn(()=>x(t.tag,{ref:p,class:["v-progress-linear",{"v-progress-linear--absolute":t.absolute,"v-progress-linear--active":t.active&&y.value,"v-progress-linear--reverse":D.value,"v-progress-linear--rounded":t.rounded,"v-progress-linear--rounded-bar":t.roundedBar,"v-progress-linear--striped":t.striped},m.value,o.value,i.value,t.class],style:[{bottom:t.location==="bottom"?0:void 0,top:t.location==="top"?0:void 0,height:t.active?be(w.value):0,"--v-progress-linear-height":be(w.value),...a.value},t.style],role:"progressbar","aria-hidden":t.active?"false":"true","aria-valuemin":"0","aria-valuemax":t.max,"aria-valuenow":t.indeterminate?void 0:b.value,onClick:t.clickable&&R},{default:()=>[t.stream&&x("div",{key:"stream",class:["v-progress-linear__stream",c.value],style:{...l.value,[D.value?"left":"right"]:be(-w.value),borderTop:`${be(w.value/2)} dotted`,opacity:G.value,top:`calc(50% - ${be(w.value/4)})`,width:be(100-v.value,"%"),"--v-progress-linear-stream-to":be(w.value*(D.value?1:-1))}},null),x("div",{class:["v-progress-linear__background",u.value],style:[h.value,{opacity:G.value,width:be(t.stream?v.value:100,"%")}]},null),x(rs,{name:j.value},{default:()=>[t.indeterminate?x("div",{class:"v-progress-linear__indeterminate"},[["long","short"].map(V=>x("div",{key:V,class:["v-progress-linear__indeterminate",V,d.value],style:f.value},null))]):x("div",{class:["v-progress-linear__determinate",d.value],style:[f.value,{width:be(b.value,"%")}]},null)]}),n.default&&x("div",{class:"v-progress-linear__content"},[n.default({value:b.value,buffer:v.value})])]})),{}}}),TL=we({loading:[Boolean,String]},"loader");function bL(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:bs();return{loaderClasses:U(()=>({[`${e}--loading`]:t.loading}))}}function AL(t,e){var r;let{slots:n}=e;return x("div",{class:`${t.name}__loader`},[((r=n.default)==null?void 0:r.call(n,{color:t.color,isActive:t.active}))||x(wL,{active:t.active,color:t.color,height:"2",indeterminate:!0},null)])}const RL=["static","relative","fixed","absolute","sticky"],PL=we({position:{type:String,validator:t=>RL.includes(t)}},"position");function SL(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:bs();return{positionClasses:U(()=>t.position?`${e}--${t.position}`:void 0)}}function CL(){var t,e;return(e=(t=nn("useRouter"))==null?void 0:t.proxy)==null?void 0:e.$router}function xL(t,e){const n=WA("RouterLink"),r=U(()=>!!(t.href||t.to)),s=U(()=>(r==null?void 0:r.value)||ty(e,"click")||ty(t,"click"));if(typeof n=="string")return{isLink:r,isClickable:s,href:xo(t,"href")};const i=t.to?n.useLink(t):void 0;return{isLink:r,isClickable:s,route:i==null?void 0:i.route,navigate:i==null?void 0:i.navigate,isActive:i&&U(()=>{var o,a;return t.exact?(o=i.isExactActive)==null?void 0:o.value:(a=i.isActive)==null?void 0:a.value}),href:U(()=>t.to?i==null?void 0:i.route.value.href:t.href)}}const kL=we({href:String,replace:Boolean,to:[String,Object],exact:Boolean},"router");let _h=!1;function DL(t,e){let n=!1,r,s;Ke&&(fn(()=>{window.addEventListener("popstate",i),r=t==null?void 0:t.beforeEach((o,a,c)=>{_h?n?e(c):c():setTimeout(()=>n?e(c):c()),_h=!0}),s=t==null?void 0:t.afterEach(()=>{_h=!1})}),Ht(()=>{window.removeEventListener("popstate",i),r==null||r(),s==null||s()}));function i(o){var a;(a=o.state)!=null&&a.replaced||(n=!0,setTimeout(()=>n=!1))}}const Od=Symbol("rippleStop"),VL=80;function by(t,e){t.style.transform=e,t.style.webkitTransform=e}function Nd(t){return t.constructor.name==="TouchEvent"}function J0(t){return t.constructor.name==="KeyboardEvent"}const OL=function(t,e){var h;let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=0,s=0;if(!J0(t)){const d=e.getBoundingClientRect(),f=Nd(t)?t.touches[t.touches.length-1]:t;r=f.clientX-d.left,s=f.clientY-d.top}let i=0,o=.3;(h=e._ripple)!=null&&h.circle?(o=.15,i=e.clientWidth/2,i=n.center?i:i+Math.sqrt((r-i)**2+(s-i)**2)/4):i=Math.sqrt(e.clientWidth**2+e.clientHeight**2)/2;const a=`${(e.clientWidth-i*2)/2}px`,c=`${(e.clientHeight-i*2)/2}px`,l=n.center?a:`${r-i}px`,u=n.center?c:`${s-i}px`;return{radius:i,scale:o,x:l,y:u,centerX:a,centerY:c}},Al={show(t,e){var f;let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!((f=e==null?void 0:e._ripple)!=null&&f.enabled))return;const r=document.createElement("span"),s=document.createElement("span");r.appendChild(s),r.className="v-ripple__container",n.class&&(r.className+=` ${n.class}`);const{radius:i,scale:o,x:a,y:c,centerX:l,centerY:u}=OL(t,e,n),h=`${i*2}px`;s.className="v-ripple__animation",s.style.width=h,s.style.height=h,e.appendChild(r);const d=window.getComputedStyle(e);d&&d.position==="static"&&(e.style.position="relative",e.dataset.previousPosition="static"),s.classList.add("v-ripple__animation--enter"),s.classList.add("v-ripple__animation--visible"),by(s,`translate(${a}, ${c}) scale3d(${o},${o},${o})`),s.dataset.activated=String(performance.now()),setTimeout(()=>{s.classList.remove("v-ripple__animation--enter"),s.classList.add("v-ripple__animation--in"),by(s,`translate(${l}, ${u}) scale3d(1,1,1)`)},0)},hide(t){var i;if(!((i=t==null?void 0:t._ripple)!=null&&i.enabled))return;const e=t.getElementsByClassName("v-ripple__animation");if(e.length===0)return;const n=e[e.length-1];if(n.dataset.isHiding)return;n.dataset.isHiding="true";const r=performance.now()-Number(n.dataset.activated),s=Math.max(250-r,0);setTimeout(()=>{n.classList.remove("v-ripple__animation--in"),n.classList.add("v-ripple__animation--out"),setTimeout(()=>{var a;t.getElementsByClassName("v-ripple__animation").length===1&&t.dataset.previousPosition&&(t.style.position=t.dataset.previousPosition,delete t.dataset.previousPosition),((a=n.parentNode)==null?void 0:a.parentNode)===t&&t.removeChild(n.parentNode)},300)},s)}};function Z0(t){return typeof t>"u"||!!t}function ua(t){const e={},n=t.currentTarget;if(!(!(n!=null&&n._ripple)||n._ripple.touched||t[Od])){if(t[Od]=!0,Nd(t))n._ripple.touched=!0,n._ripple.isTouch=!0;else if(n._ripple.isTouch)return;if(e.center=n._ripple.centered||J0(t),n._ripple.class&&(e.class=n._ripple.class),Nd(t)){if(n._ripple.showTimerCommit)return;n._ripple.showTimerCommit=()=>{Al.show(t,n,e)},n._ripple.showTimer=window.setTimeout(()=>{var r;(r=n==null?void 0:n._ripple)!=null&&r.showTimerCommit&&(n._ripple.showTimerCommit(),n._ripple.showTimerCommit=null)},VL)}else Al.show(t,n,e)}}function Ay(t){t[Od]=!0}function zt(t){const e=t.currentTarget;if(e!=null&&e._ripple){if(window.clearTimeout(e._ripple.showTimer),t.type==="touchend"&&e._ripple.showTimerCommit){e._ripple.showTimerCommit(),e._ripple.showTimerCommit=null,e._ripple.showTimer=window.setTimeout(()=>{zt(t)});return}window.setTimeout(()=>{e._ripple&&(e._ripple.touched=!1)}),Al.hide(e)}}function eb(t){const e=t.currentTarget;e!=null&&e._ripple&&(e._ripple.showTimerCommit&&(e._ripple.showTimerCommit=null),window.clearTimeout(e._ripple.showTimer))}let ha=!1;function tb(t){!ha&&(t.keyCode===Z_.enter||t.keyCode===Z_.space)&&(ha=!0,ua(t))}function nb(t){ha=!1,zt(t)}function rb(t){ha&&(ha=!1,zt(t))}function sb(t,e,n){const{value:r,modifiers:s}=e,i=Z0(r);if(i||Al.hide(t),t._ripple=t._ripple??{},t._ripple.enabled=i,t._ripple.centered=s.center,t._ripple.circle=s.circle,Rd(r)&&r.class&&(t._ripple.class=r.class),i&&!n){if(s.stop){t.addEventListener("touchstart",Ay,{passive:!0}),t.addEventListener("mousedown",Ay);return}t.addEventListener("touchstart",ua,{passive:!0}),t.addEventListener("touchend",zt,{passive:!0}),t.addEventListener("touchmove",eb,{passive:!0}),t.addEventListener("touchcancel",zt),t.addEventListener("mousedown",ua),t.addEventListener("mouseup",zt),t.addEventListener("mouseleave",zt),t.addEventListener("keydown",tb),t.addEventListener("keyup",nb),t.addEventListener("blur",rb),t.addEventListener("dragstart",zt,{passive:!0})}else!i&&n&&ib(t)}function ib(t){t.removeEventListener("mousedown",ua),t.removeEventListener("touchstart",ua),t.removeEventListener("touchend",zt),t.removeEventListener("touchmove",eb),t.removeEventListener("touchcancel",zt),t.removeEventListener("mouseup",zt),t.removeEventListener("mouseleave",zt),t.removeEventListener("keydown",tb),t.removeEventListener("keyup",nb),t.removeEventListener("dragstart",zt),t.removeEventListener("blur",rb)}function NL(t,e){sb(t,e,!1)}function ML(t){delete t._ripple,ib(t)}function LL(t,e){if(e.value===e.oldValue)return;const n=Z0(e.oldValue);sb(t,e,n)}const FL={mounted:NL,unmounted:ML,updated:LL},UL=we({appendAvatar:String,appendIcon:ps,disabled:Boolean,flat:Boolean,hover:Boolean,image:String,link:{type:Boolean,default:void 0},prependAvatar:String,prependIcon:ps,ripple:{type:[Boolean,Object],default:!0},subtitle:String,text:String,title:String,...hL(),...mn(),...sg(),...ng(),...fL(),...TL(),...Y0(),...PL(),...ig(),...kL(),...Ga(),...Oi(),...z0({variant:"elevated"})},"VCard"),BL=Vt()({name:"VCard",directives:{Ripple:FL},props:UL(),setup(t,e){let{attrs:n,slots:r}=e;const{themeClasses:s}=Ni(t),{borderClasses:i}=dL(t),{colorClasses:o,colorStyles:a,variantClasses:c}=q0(t),{densityClasses:l}=$0(t),{dimensionStyles:u}=rg(t),{elevationClasses:h}=mL(t),{loaderClasses:d}=bL(t),{locationStyles:f}=X0(t),{positionClasses:m}=SL(t),{roundedClasses:p}=og(t),y=xL(t,n),T=U(()=>t.link!==!1&&y.isLink.value),w=U(()=>!t.disabled&&t.link!==!1&&(t.link||y.isClickable.value));return gn(()=>{const v=T.value?"a":t.tag,b=!!(r.title||t.title),D=!!(r.subtitle||t.subtitle),j=b||D,G=!!(r.append||t.appendAvatar||t.appendIcon),R=!!(r.prepend||t.prependAvatar||t.prependIcon),V=!!(r.image||t.image),K=j||R||G,J=!!(r.text||t.text);return Kc(x(v,{class:["v-card",{"v-card--disabled":t.disabled,"v-card--flat":t.flat,"v-card--hover":t.hover&&!(t.disabled||t.flat),"v-card--link":w.value},s.value,i.value,o.value,l.value,h.value,d.value,m.value,p.value,c.value,t.class],style:[a.value,u.value,f.value,t.style],href:y.href.value,onClick:w.value&&y.navigate,tabindex:t.disabled?-1:void 0},{default:()=>{var O;return[V&&x("div",{key:"image",class:"v-card__image"},[r.image?x(Tl,{key:"image-defaults",disabled:!t.image,defaults:{VImg:{cover:!0,src:t.image}}},r.image):x(B0,{key:"image-img",cover:!0,src:t.image},null)]),x(AL,{name:"v-card",active:!!t.loading,color:typeof t.loading=="boolean"?void 0:t.loading},{default:r.loader}),K&&x(uL,{key:"item",prependAvatar:t.prependAvatar,prependIcon:t.prependIcon,title:t.title,subtitle:t.subtitle,appendAvatar:t.appendAvatar,appendIcon:t.appendIcon},{default:r.item,prepend:r.prepend,title:r.title,subtitle:r.subtitle,append:r.append}),J&&x(K0,{key:"text"},{default:()=>{var Y;return[((Y=r.text)==null?void 0:Y.call(r))??t.text]}}),(O=r.default)==null?void 0:O.call(r),r.actions&&x($M,null,{default:r.actions}),j0(w.value,"v-card")]}}),[[df("ripple"),w.value&&t.ripple]])}),{}}});const $L=we({target:Object},"v-dialog-transition"),jL=Vt()({name:"VDialogTransition",props:$L(),setup(t,e){let{slots:n}=e;const r={onBeforeEnter(s){s.style.pointerEvents="none",s.style.visibility="hidden"},async onEnter(s,i){var d;await new Promise(f=>requestAnimationFrame(f)),await new Promise(f=>requestAnimationFrame(f)),s.style.visibility="";const{x:o,y:a,sx:c,sy:l,speed:u}=Py(t.target,s),h=co(s,[{transform:`translate(${o}px, ${a}px) scale(${c}, ${l})`,opacity:0},{}],{duration:225*u,easing:DM});(d=Ry(s))==null||d.forEach(f=>{co(f,[{opacity:0},{opacity:0,offset:.33},{}],{duration:225*2*u,easing:kd})}),h.finished.then(()=>i())},onAfterEnter(s){s.style.removeProperty("pointer-events")},onBeforeLeave(s){s.style.pointerEvents="none"},async onLeave(s,i){var d;await new Promise(f=>requestAnimationFrame(f));const{x:o,y:a,sx:c,sy:l,speed:u}=Py(t.target,s);co(s,[{},{transform:`translate(${o}px, ${a}px) scale(${c}, ${l})`,opacity:0}],{duration:125*u,easing:VM}).finished.then(()=>i()),(d=Ry(s))==null||d.forEach(f=>{co(f,[{},{opacity:0,offset:.2},{opacity:0}],{duration:125*2*u,easing:kd})})},onAfterLeave(s){s.style.removeProperty("pointer-events")}};return()=>t.target?x(rs,Lt({name:"dialog-transition"},r,{css:!1}),n):x(rs,{name:"dialog-transition"},n)}});function Ry(t){var n;const e=(n=t.querySelector(":scope > .v-card, :scope > .v-sheet, :scope > .v-list"))==null?void 0:n.children;return e&&[...e]}function Py(t,e){const n=t.getBoundingClientRect(),r=A0(e),[s,i]=getComputedStyle(e).transformOrigin.split(" ").map(T=>parseFloat(T)),[o,a]=getComputedStyle(e).getPropertyValue("--v-overlay-anchor-origin").split(" ");let c=n.left+n.width/2;o==="left"||a==="left"?c-=n.width/2:(o==="right"||a==="right")&&(c+=n.width/2);let l=n.top+n.height/2;o==="top"||a==="top"?l-=n.height/2:(o==="bottom"||a==="bottom")&&(l+=n.height/2);const u=n.width/r.width,h=n.height/r.height,d=Math.max(1,u,h),f=u/d||0,m=h/d||0,p=r.width*r.height/(window.innerWidth*window.innerHeight),y=p>.12?Math.min(1.5,(p-.12)*10+1):1;return{x:c-(s+r.left),y:l-(i+r.top),sx:f,sy:m,speed:y}}function yh(t,e){return{x:t.x+e.x,y:t.y+e.y}}function zL(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Sy(t,e){if(t.side==="top"||t.side==="bottom"){const{side:n,align:r}=t,s=r==="left"?0:r==="center"?e.width/2:r==="right"?e.width:r,i=n==="top"?0:n==="bottom"?e.height:n;return yh({x:s,y:i},e)}else if(t.side==="left"||t.side==="right"){const{side:n,align:r}=t,s=n==="left"?0:n==="right"?e.width:n,i=r==="top"?0:r==="center"?e.height/2:r==="bottom"?e.height:r;return yh({x:s,y:i},e)}return yh({x:e.width/2,y:e.height/2},e)}const ob={static:HL,connected:WL},qL=we({locationStrategy:{type:[String,Function],default:"static",validator:t=>typeof t=="function"||t in ob},location:{type:String,default:"bottom"},origin:{type:String,default:"auto"},offset:[Number,String,Array]},"VOverlay-location-strategies");function KL(t,e){const n=Me({}),r=Me();Ke&&(xu(()=>!!(e.isActive.value&&t.locationStrategy),i=>{var o,a;ke(()=>t.locationStrategy,i),Ht(()=>{r.value=void 0}),typeof t.locationStrategy=="function"?r.value=(o=t.locationStrategy(e,t,n))==null?void 0:o.updateLocation:r.value=(a=ob[t.locationStrategy](e,t,n))==null?void 0:a.updateLocation}),window.addEventListener("resize",s,{passive:!0}),Ht(()=>{window.removeEventListener("resize",s),r.value=void 0}));function s(i){var o;(o=r.value)==null||o.call(r,i)}return{contentStyles:n,updateLocation:r}}function HL(){}function GL(t,e){e?t.style.removeProperty("left"):t.style.removeProperty("right");const n=A0(t);return e?n.x+=parseFloat(t.style.right||0):n.x-=parseFloat(t.style.left||0),n.y-=parseFloat(t.style.top||0),n}function WL(t,e,n){LM(t.activatorEl.value)&&Object.assign(n.value,{position:"fixed",top:0,[t.isRtl.value?"right":"left"]:0});const{preferredAnchor:s,preferredOrigin:i}=Wm(()=>{const m=xd(e.location,t.isRtl.value),p=e.origin==="overlap"?m:e.origin==="auto"?mh(m):xd(e.origin,t.isRtl.value);return m.side===p.side&&m.align===gh(p).align?{preferredAnchor:ry(m),preferredOrigin:ry(p)}:{preferredAnchor:m,preferredOrigin:p}}),[o,a,c,l]=["minWidth","minHeight","maxWidth","maxHeight"].map(m=>U(()=>{const p=parseFloat(e[m]);return isNaN(p)?1/0:p})),u=U(()=>{if(Array.isArray(e.offset))return e.offset;if(typeof e.offset=="string"){const m=e.offset.split(" ").map(parseFloat);return m.length<2&&m.push(0),m}return typeof e.offset=="number"?[e.offset,0]:[0,0]});let h=!1;const d=new ResizeObserver(()=>{h&&f()});ke([t.activatorEl,t.contentEl],(m,p)=>{let[y,T]=m,[w,v]=p;w&&d.unobserve(w),y&&d.observe(y),v&&d.unobserve(v),T&&d.observe(T)},{immediate:!0}),Ht(()=>{d.disconnect()});function f(){if(h=!1,requestAnimationFrame(()=>{requestAnimationFrame(()=>h=!0)}),!t.activatorEl.value||!t.contentEl.value)return;const m=t.activatorEl.value.getBoundingClientRect(),p=GL(t.contentEl.value,t.isRtl.value),y=Il(t.contentEl.value),T=12;y.length||(y.push(document.documentElement),t.contentEl.value.style.top&&t.contentEl.value.style.left||(p.x-=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-x")||0),p.y-=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-y")||0)));const w=y.reduce((J,O)=>{const Y=O.getBoundingClientRect(),fe=new ti({x:O===document.documentElement?0:Y.x,y:O===document.documentElement?0:Y.y,width:O.clientWidth,height:O.clientHeight});return J?new ti({x:Math.max(J.left,fe.left),y:Math.max(J.top,fe.top),width:Math.min(J.right,fe.right)-Math.max(J.left,fe.left),height:Math.min(J.bottom,fe.bottom)-Math.max(J.top,fe.top)}):fe},void 0);w.x+=T,w.y+=T,w.width-=T*2,w.height-=T*2;let v={anchor:s.value,origin:i.value};function b(J){const O=new ti(p),Y=Sy(J.anchor,m),fe=Sy(J.origin,O);let{x:Ve,y:ae}=zL(Y,fe);switch(J.anchor.side){case"top":ae-=u.value[0];break;case"bottom":ae+=u.value[0];break;case"left":Ve-=u.value[0];break;case"right":Ve+=u.value[0];break}switch(J.anchor.align){case"top":ae-=u.value[1];break;case"bottom":ae+=u.value[1];break;case"left":Ve-=u.value[1];break;case"right":Ve+=u.value[1];break}return O.x+=Ve,O.y+=ae,O.width=Math.min(O.width,c.value),O.height=Math.min(O.height,l.value),{overflows:iy(O,w),x:Ve,y:ae}}let D=0,j=0;const G={x:0,y:0},R={x:!1,y:!1};let V=-1;for(;!(V++>10);){const{x:J,y:O,overflows:Y}=b(v);D+=J,j+=O,p.x+=J,p.y+=O;{const fe=sy(v.anchor),Ve=Y.x.before||Y.x.after,ae=Y.y.before||Y.y.after;let Ee=!1;if(["x","y"].forEach(ie=>{if(ie==="x"&&Ve&&!R.x||ie==="y"&&ae&&!R.y){const ve={anchor:{...v.anchor},origin:{...v.origin}},Ye=ie==="x"?fe==="y"?gh:mh:fe==="y"?mh:gh;ve.anchor=Ye(ve.anchor),ve.origin=Ye(ve.origin);const{overflows:ot}=b(ve);(ot[ie].before<=Y[ie].before&&ot[ie].after<=Y[ie].after||ot[ie].before+ot[ie].after<(Y[ie].before+Y[ie].after)/2)&&(v=ve,Ee=R[ie]=!0)}}),Ee)continue}Y.x.before&&(D+=Y.x.before,p.x+=Y.x.before),Y.x.after&&(D-=Y.x.after,p.x-=Y.x.after),Y.y.before&&(j+=Y.y.before,p.y+=Y.y.before),Y.y.after&&(j-=Y.y.after,p.y-=Y.y.after);{const fe=iy(p,w);G.x=w.width-fe.x.before-fe.x.after,G.y=w.height-fe.y.before-fe.y.after,D+=fe.x.before,p.x+=fe.x.before,j+=fe.y.before,p.y+=fe.y.before}break}const K=sy(v.anchor);return Object.assign(n.value,{"--v-overlay-anchor-origin":`${v.anchor.side} ${v.anchor.align}`,transformOrigin:`${v.origin.side} ${v.origin.align}`,top:be(vh(j)),left:t.isRtl.value?void 0:be(vh(D)),right:t.isRtl.value?be(vh(-D)):void 0,minWidth:be(K==="y"?Math.min(o.value,m.width):o.value),maxWidth:be(Cy(Cd(G.x,o.value===1/0?0:o.value,c.value))),maxHeight:be(Cy(Cd(G.y,a.value===1/0?0:a.value,l.value)))}),{available:G,contentBox:p}}return ke(()=>[s.value,i.value,e.offset,e.minWidth,e.minHeight,e.maxWidth,e.maxHeight],()=>f()),fn(()=>{const m=f();if(!m)return;const{available:p,contentBox:y}=m;y.height>p.y&&requestAnimationFrame(()=>{f(),requestAnimationFrame(()=>{f()})})}),{updateLocation:f}}function vh(t){return Math.round(t*devicePixelRatio)/devicePixelRatio}function Cy(t){return Math.ceil(t*devicePixelRatio)/devicePixelRatio}let Md=!0;const Rl=[];function QL(t){!Md||Rl.length?(Rl.push(t),Ld()):(Md=!1,t(),Ld())}let xy=-1;function Ld(){cancelAnimationFrame(xy),xy=requestAnimationFrame(()=>{const t=Rl.shift();t&&t(),Rl.length?Ld():Md=!0})}const Uc={none:null,close:JL,block:ZL,reposition:eF},YL=we({scrollStrategy:{type:[String,Function],default:"block",validator:t=>typeof t=="function"||t in Uc}},"VOverlay-scroll-strategies");function XL(t,e){if(!Ke)return;let n;Pr(async()=>{n==null||n.stop(),e.isActive.value&&t.scrollStrategy&&(n=ma(),await fn(),n.active&&n.run(()=>{var r;typeof t.scrollStrategy=="function"?t.scrollStrategy(e,t,n):(r=Uc[t.scrollStrategy])==null||r.call(Uc,e,t,n)}))}),Ht(()=>{n==null||n.stop()})}function JL(t){function e(n){t.isActive.value=!1}ab(t.activatorEl.value??t.contentEl.value,e)}function ZL(t,e){var o;const n=(o=t.root.value)==null?void 0:o.offsetParent,r=[...new Set([...Il(t.activatorEl.value,e.contained?n:void 0),...Il(t.contentEl.value,e.contained?n:void 0)])].filter(a=>!a.classList.contains("v-overlay-scroll-blocked")),s=window.innerWidth-document.documentElement.offsetWidth,i=(a=>Xm(a)&&a)(n||document.documentElement);i&&t.root.value.classList.add("v-overlay--scroll-blocked"),r.forEach((a,c)=>{a.style.setProperty("--v-body-scroll-x",be(-a.scrollLeft)),a.style.setProperty("--v-body-scroll-y",be(-a.scrollTop)),a!==document.documentElement&&a.style.setProperty("--v-scrollbar-offset",be(s)),a.classList.add("v-overlay-scroll-blocked")}),Ht(()=>{r.forEach((a,c)=>{const l=parseFloat(a.style.getPropertyValue("--v-body-scroll-x")),u=parseFloat(a.style.getPropertyValue("--v-body-scroll-y"));a.style.removeProperty("--v-body-scroll-x"),a.style.removeProperty("--v-body-scroll-y"),a.style.removeProperty("--v-scrollbar-offset"),a.classList.remove("v-overlay-scroll-blocked"),a.scrollLeft=-l,a.scrollTop=-u}),i&&t.root.value.classList.remove("v-overlay--scroll-blocked")})}function eF(t,e,n){let r=!1,s=-1,i=-1;function o(a){QL(()=>{var u,h;const c=performance.now();(h=(u=t.updateLocation).value)==null||h.call(u,a),r=(performance.now()-c)/(1e3/60)>2})}i=(typeof requestIdleCallback>"u"?a=>a():requestIdleCallback)(()=>{n.run(()=>{ab(t.activatorEl.value??t.contentEl.value,a=>{r?(cancelAnimationFrame(s),s=requestAnimationFrame(()=>{s=requestAnimationFrame(()=>{o(a)})})):o(a)})})}),Ht(()=>{typeof cancelIdleCallback<"u"&&cancelIdleCallback(i),cancelAnimationFrame(s)})}function ab(t,e){const n=[document,...Il(t)];n.forEach(r=>{r.addEventListener("scroll",e,{passive:!0})}),Ht(()=>{n.forEach(r=>{r.removeEventListener("scroll",e)})})}const tF=Symbol.for("vuetify:v-menu"),nF=we({closeDelay:[Number,String],openDelay:[Number,String]},"delay");function rF(t,e){const n={},r=s=>()=>{if(!Ke)return Promise.resolve(!0);const i=s==="openDelay";return n.closeDelay&&window.clearTimeout(n.closeDelay),delete n.closeDelay,n.openDelay&&window.clearTimeout(n.openDelay),delete n.openDelay,new Promise(o=>{const a=parseInt(t[s]??0,10);n[s]=window.setTimeout(()=>{e==null||e(i),o(i)},a)})};return{runCloseDelay:r("closeDelay"),runOpenDelay:r("openDelay")}}const sF=we({activator:[String,Object],activatorProps:{type:Object,default:()=>({})},openOnClick:{type:Boolean,default:void 0},openOnHover:Boolean,openOnFocus:{type:Boolean,default:void 0},closeOnContentClick:Boolean,...nF()},"VOverlay-activator");function iF(t,e){let{isActive:n,isTop:r}=e;const s=Me();let i=!1,o=!1,a=!0;const c=U(()=>t.openOnFocus||t.openOnFocus==null&&t.openOnHover),l=U(()=>t.openOnClick||t.openOnClick==null&&!t.openOnHover&&!c.value),{runOpenDelay:u,runCloseDelay:h}=rF(t,v=>{v===(t.openOnHover&&i||c.value&&o)&&!(t.openOnHover&&n.value&&!r.value)&&(n.value!==v&&(a=!0),n.value=v)}),d={onClick:v=>{v.stopPropagation(),s.value=v.currentTarget||v.target,n.value=!n.value},onMouseenter:v=>{var b;(b=v.sourceCapabilities)!=null&&b.firesTouchEvents||(i=!0,s.value=v.currentTarget||v.target,u())},onMouseleave:v=>{i=!1,h()},onFocus:v=>{cM(v.target,":focus-visible")!==!1&&(o=!0,v.stopPropagation(),s.value=v.currentTarget||v.target,u())},onBlur:v=>{o=!1,v.stopPropagation(),h()}},f=U(()=>{const v={};return l.value&&(v.onClick=d.onClick),t.openOnHover&&(v.onMouseenter=d.onMouseenter,v.onMouseleave=d.onMouseleave),c.value&&(v.onFocus=d.onFocus,v.onBlur=d.onBlur),v}),m=U(()=>{const v={};if(t.openOnHover&&(v.onMouseenter=()=>{i=!0,u()},v.onMouseleave=()=>{i=!1,h()}),c.value&&(v.onFocusin=()=>{o=!0,u()},v.onFocusout=()=>{o=!1,h()}),t.closeOnContentClick){const b=Ze(tF,null);v.onClick=()=>{n.value=!1,b==null||b.closeParents()}}return v}),p=U(()=>{const v={};return t.openOnHover&&(v.onMouseenter=()=>{a&&(i=!0,a=!1,u())},v.onMouseleave=()=>{i=!1,h()}),v});ke(r,v=>{v&&(t.openOnHover&&!i&&(!c.value||!o)||c.value&&!o&&(!t.openOnHover||!i))&&(n.value=!1)});const y=Me();Pr(()=>{y.value&&fn(()=>{s.value=Pd(y.value)})});const T=nn("useActivator");let w;return ke(()=>!!t.activator,v=>{v&&Ke?(w=ma(),w.run(()=>{oF(t,T,{activatorEl:s,activatorEvents:f})})):w&&w.stop()},{flush:"post",immediate:!0}),Ht(()=>{w==null||w.stop()}),{activatorEl:s,activatorRef:y,activatorEvents:f,contentEvents:m,scrimEvents:p}}function oF(t,e,n){let{activatorEl:r,activatorEvents:s}=n;ke(()=>t.activator,(c,l)=>{if(l&&c!==l){const u=a(l);u&&o(u)}c&&fn(()=>i())},{immediate:!0}),ke(()=>t.activatorProps,()=>{i()}),Ht(()=>{o()});function i(){let c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:a(),l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t.activatorProps;c&&uM(c,Lt(s.value,l))}function o(){let c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:a(),l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t.activatorProps;c&&hM(c,Lt(s.value,l))}function a(){var u,h;let c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:t.activator,l;if(c)if(c==="parent"){let d=(h=(u=e==null?void 0:e.proxy)==null?void 0:u.$el)==null?void 0:h.parentNode;for(;d!=null&&d.hasAttribute("data-no-activator");)d=d.parentNode;l=d}else typeof c=="string"?l=document.querySelector(c):"$el"in c?l=c.$el:l=c;return r.value=(l==null?void 0:l.nodeType)===Node.ELEMENT_NODE?l:null,r.value}}const HU=["sm","md","lg","xl","xxl"],Fd=Symbol.for("vuetify:display"),ky={mobileBreakpoint:"lg",thresholds:{xs:0,sm:600,md:960,lg:1280,xl:1920,xxl:2560}},aF=function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:ky;return Jt(ky,t)};function Dy(t){return Ke&&!t?window.innerWidth:typeof t=="object"&&t.clientWidth||0}function Vy(t){return Ke&&!t?window.innerHeight:typeof t=="object"&&t.clientHeight||0}function Oy(t){const e=Ke&&!t?window.navigator.userAgent:"ssr";function n(m){return!!e.match(m)}const r=n(/android/i),s=n(/iphone|ipad|ipod/i),i=n(/cordova/i),o=n(/electron/i),a=n(/chrome/i),c=n(/edge/i),l=n(/firefox/i),u=n(/opera/i),h=n(/win/i),d=n(/mac/i),f=n(/linux/i);return{android:r,ios:s,cordova:i,electron:o,chrome:a,edge:c,firefox:l,opera:u,win:h,mac:d,linux:f,touch:XN,ssr:e==="ssr"}}function cF(t,e){const{thresholds:n,mobileBreakpoint:r}=aF(t),s=rt(Vy(e)),i=rt(Oy(e)),o=kn({}),a=rt(Dy(e));function c(){s.value=Vy(),a.value=Dy()}function l(){c(),i.value=Oy()}return Pr(()=>{const u=a.value<n.sm,h=a.value<n.md&&!u,d=a.value<n.lg&&!(h||u),f=a.value<n.xl&&!(d||h||u),m=a.value<n.xxl&&!(f||d||h||u),p=a.value>=n.xxl,y=u?"xs":h?"sm":d?"md":f?"lg":m?"xl":"xxl",T=typeof r=="number"?r:n[r],w=a.value<T;o.xs=u,o.sm=h,o.md=d,o.lg=f,o.xl=m,o.xxl=p,o.smAndUp=!u,o.mdAndUp=!(u||h),o.lgAndUp=!(u||h||d),o.xlAndUp=!(u||h||d||f),o.smAndDown=!(d||f||m||p),o.mdAndDown=!(f||m||p),o.lgAndDown=!(m||p),o.xlAndDown=!p,o.name=y,o.height=s.value,o.width=a.value,o.mobile=w,o.mobileBreakpoint=r,o.platform=i.value,o.thresholds=n}),Ke&&window.addEventListener("resize",c,{passive:!0}),{...Vl(o),update:l,ssr:!!e}}function lF(){const t=Ze(Fd);if(!t)throw new Error("Could not find Vuetify display injection");return t}function uF(){if(!Ke)return rt(!1);const{ssr:t}=lF();if(t){const e=rt(!1);return uf(()=>{e.value=!0}),e}else return rt(!0)}const hF=we({eager:Boolean},"lazy");function dF(t,e){const n=rt(!1),r=U(()=>n.value||t.eager||e.value);ke(e,()=>n.value=!0);function s(){t.eager||(n.value=!1)}return{isBooted:n,hasContent:r,onAfterLeave:s}}function cb(){const e=nn("useScopeId").vnode.scopeId;return{scopeId:e?{[e]:""}:void 0}}const Ny=Symbol.for("vuetify:stack"),Xi=kn([]);function fF(t,e,n){const r=nn("useStack"),s=!n,i=Ze(Ny,void 0),o=kn({activeChildren:new Set});gr(Ny,o);const a=rt(+e.value);xu(t,()=>{var h;const u=(h=Xi.at(-1))==null?void 0:h[1];a.value=u?u+10:+e.value,s&&Xi.push([r.uid,a.value]),i==null||i.activeChildren.add(r.uid),Ht(()=>{if(s){const d=ge(Xi).findIndex(f=>f[0]===r.uid);Xi.splice(d,1)}i==null||i.activeChildren.delete(r.uid)})});const c=rt(!0);s&&Pr(()=>{var h;const u=((h=Xi.at(-1))==null?void 0:h[0])===r.uid;setTimeout(()=>c.value=u)});const l=U(()=>!o.activeChildren.size);return{globalTop:kl(c),localTop:l,stackStyles:U(()=>({zIndex:a.value}))}}function mF(t){return{teleportTarget:U(()=>{const n=t.value;if(n===!0||!Ke)return;const r=n===!1?document.body:typeof n=="string"?document.querySelector(n):n;if(r==null)return;let s=r.querySelector(":scope > .v-overlay-container");return s||(s=document.createElement("div"),s.className="v-overlay-container",r.appendChild(s)),s})}}function gF(){return!0}function lb(t,e,n){if(!t||ub(t,n)===!1)return!1;const r=k0(e);if(typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&r.host===t.target)return!1;const s=(typeof n.value=="object"&&n.value.include||(()=>[]))();return s.push(e),!s.some(i=>i==null?void 0:i.contains(t.target))}function ub(t,e){return(typeof e.value=="object"&&e.value.closeConditional||gF)(t)}function pF(t,e,n){const r=typeof n.value=="function"?n.value:n.value.handler;e._clickOutside.lastMousedownWasOutside&&lb(t,e,n)&&setTimeout(()=>{ub(t,n)&&r&&r(t)},0)}function My(t,e){const n=k0(t);e(document),typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&e(n)}const _F={mounted(t,e){const n=s=>pF(s,t,e),r=s=>{t._clickOutside.lastMousedownWasOutside=lb(s,t,e)};My(t,s=>{s.addEventListener("click",n,!0),s.addEventListener("mousedown",r,!0)}),t._clickOutside||(t._clickOutside={lastMousedownWasOutside:!1}),t._clickOutside[e.instance.$.uid]={onClick:n,onMousedown:r}},unmounted(t,e){t._clickOutside&&(My(t,n=>{var i;if(!n||!((i=t._clickOutside)!=null&&i[e.instance.$.uid]))return;const{onClick:r,onMousedown:s}=t._clickOutside[e.instance.$.uid];n.removeEventListener("click",r,!0),n.removeEventListener("mousedown",s,!0)}),delete t._clickOutside[e.instance.$.uid])}};function yF(t){const{modelValue:e,color:n,...r}=t;return x(rs,{name:"fade-transition",appear:!0},{default:()=>[t.modelValue&&x("div",Lt({class:["v-overlay__scrim",t.color.backgroundColorClasses.value],style:t.color.backgroundColorStyles.value},r),null)]})}const hb=we({absolute:Boolean,attach:[Boolean,String,Object],closeOnBack:{type:Boolean,default:!0},contained:Boolean,contentClass:null,contentProps:null,disabled:Boolean,noClickAnimation:Boolean,modelValue:Boolean,persistent:Boolean,scrim:{type:[Boolean,String],default:!0},zIndex:{type:[Number,String],default:2e3},...sF(),...mn(),...ng(),...hF(),...qL(),...YL(),...Oi(),...F0()},"VOverlay"),Ly=Vt()({name:"VOverlay",directives:{ClickOutside:_F},inheritAttrs:!1,props:{_disableGlobalStack:Boolean,...hb()},emits:{"click:outside":t=>!0,"update:modelValue":t=>!0,afterLeave:()=>!0},setup(t,e){let{slots:n,attrs:r,emit:s}=e;const i=ku(t,"modelValue"),o=U({get:()=>i.value,set:ve=>{ve&&t.disabled||(i.value=ve)}}),{teleportTarget:a}=mF(U(()=>t.attach||t.contained)),{themeClasses:c}=Ni(t),{rtlClasses:l,isRtl:u}=ag(),{hasContent:h,onAfterLeave:d}=dF(t,o),f=Dd(U(()=>typeof t.scrim=="string"?t.scrim:null)),{globalTop:m,localTop:p,stackStyles:y}=fF(o,xo(t,"zIndex"),t._disableGlobalStack),{activatorEl:T,activatorRef:w,activatorEvents:v,contentEvents:b,scrimEvents:D}=iF(t,{isActive:o,isTop:p}),{dimensionStyles:j}=rg(t),G=uF(),{scopeId:R}=cb();ke(()=>t.disabled,ve=>{ve&&(o.value=!1)});const V=Me(),K=Me(),{contentStyles:J,updateLocation:O}=KL(t,{isRtl:u,contentEl:K,activatorEl:T,isActive:o});XL(t,{root:V,contentEl:K,activatorEl:T,isActive:o,updateLocation:O});function Y(ve){s("click:outside",ve),t.persistent?ie():o.value=!1}function fe(){return o.value&&m.value}Ke&&ke(o,ve=>{ve?window.addEventListener("keydown",Ve):window.removeEventListener("keydown",Ve)},{immediate:!0});function Ve(ve){var Ye,ot;ve.key==="Escape"&&m.value&&(t.persistent?ie():(o.value=!1,(Ye=K.value)!=null&&Ye.contains(document.activeElement)&&((ot=T.value)==null||ot.focus())))}const ae=CL();xu(()=>t.closeOnBack,()=>{DL(ae,ve=>{m.value&&o.value?(ve(!1),t.persistent?ie():o.value=!1):ve()})});const Ee=Me();ke(()=>o.value&&(t.absolute||t.contained)&&a.value==null,ve=>{if(ve){const Ye=OM(V.value);Ye&&Ye!==document.scrollingElement&&(Ee.value=Ye.scrollTop)}});function ie(){t.noClickAnimation||K.value&&co(K.value,[{transformOrigin:"center"},{transform:"scale(1.03)"},{transformOrigin:"center"}],{duration:150,easing:kd})}return gn(()=>{var ve;return x(ct,null,[(ve=n.activator)==null?void 0:ve.call(n,{isActive:o.value,props:Lt({ref:w},v.value,t.activatorProps)}),G.value&&h.value&&x(gR,{disabled:!a.value,to:a.value},{default:()=>[x("div",Lt({class:["v-overlay",{"v-overlay--absolute":t.absolute||t.contained,"v-overlay--active":o.value,"v-overlay--contained":t.contained},c.value,l.value,t.class],style:[y.value,{top:be(Ee.value)},t.style],ref:V},R,r),[x(yF,Lt({color:f,modelValue:o.value&&!!t.scrim},D.value),null),x(lo,{appear:!0,persisted:!0,transition:t.transition,target:T.value,onAfterLeave:()=>{d(),s("afterLeave")}},{default:()=>{var Ye;return[Kc(x("div",Lt({ref:K,class:["v-overlay__content",t.contentClass],style:[j.value,J.value]},b.value,t.contentProps),[(Ye=n.default)==null?void 0:Ye.call(n,{isActive:o})]),[[lE,o.value],[df("click-outside"),{handler:Y,closeConditional:fe,include:()=>[T.value]}]])]}})])]})])}),{activatorEl:T,animateClick:ie,contentEl:K,globalTop:m,localTop:p,updateLocation:O}}}),Eh=Symbol("Forwarded refs");function Ih(t,e){let n=t;for(;n;){const r=Reflect.getOwnPropertyDescriptor(n,e);if(r)return r;n=Object.getPrototypeOf(n)}}function vF(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return t[Eh]=n,new Proxy(t,{get(s,i){if(Reflect.has(s,i))return Reflect.get(s,i);if(!(typeof i=="symbol"||i.startsWith("__"))){for(const o of n)if(o.value&&Reflect.has(o.value,i)){const a=Reflect.get(o.value,i);return typeof a=="function"?a.bind(o.value):a}}},has(s,i){if(Reflect.has(s,i))return!0;if(typeof i=="symbol"||i.startsWith("__"))return!1;for(const o of n)if(o.value&&Reflect.has(o.value,i))return!0;return!1},set(s,i,o){if(Reflect.has(s,i))return Reflect.set(s,i,o);if(typeof i=="symbol"||i.startsWith("__"))return!1;for(const a of n)if(a.value&&Reflect.has(a.value,i))return Reflect.set(a.value,i,o);return!1},getOwnPropertyDescriptor(s,i){var a;const o=Reflect.getOwnPropertyDescriptor(s,i);if(o)return o;if(!(typeof i=="symbol"||i.startsWith("__"))){for(const c of n){if(!c.value)continue;const l=Ih(c.value,i)??("_"in c.value?Ih((a=c.value._)==null?void 0:a.setupState,i):void 0);if(l)return l}for(const c of n){const l=c.value&&c.value[Eh];if(!l)continue;const u=l.slice();for(;u.length;){const h=u.shift(),d=Ih(h.value,i);if(d)return d;const f=h.value&&h.value[Eh];f&&u.push(...f)}}}}})}const EF=we({fullscreen:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,...hb({origin:"center center",scrollStrategy:"block",transition:{component:jL},zIndex:2400})},"VDialog"),IF=Vt()({name:"VDialog",props:EF(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const r=ku(t,"modelValue"),{scopeId:s}=cb(),i=Me();function o(c){var h,d;const l=c.relatedTarget,u=c.target;if(l!==u&&((h=i.value)!=null&&h.contentEl)&&((d=i.value)!=null&&d.globalTop)&&![document,i.value.contentEl].includes(u)&&!i.value.contentEl.contains(u)){const f=T0(i.value.contentEl);if(!f.length)return;const m=f[0],p=f[f.length-1];l===m?p.focus():m.focus()}}Ke&&ke(()=>r.value&&t.retainFocus,c=>{c?document.addEventListener("focusin",o):document.removeEventListener("focusin",o)},{immediate:!0}),ke(r,async c=>{var l,u;await fn(),c?(l=i.value.contentEl)==null||l.focus({preventScroll:!0}):(u=i.value.activatorEl)==null||u.focus({preventScroll:!0})});const a=U(()=>Lt({"aria-haspopup":"dialog","aria-expanded":String(r.value)},t.activatorProps));return gn(()=>{const[c]=Ly.filterProps(t);return x(Ly,Lt({ref:i,class:["v-dialog",{"v-dialog--fullscreen":t.fullscreen,"v-dialog--scrollable":t.scrollable},t.class],style:t.style},c,{modelValue:r.value,"onUpdate:modelValue":l=>r.value=l,"aria-modal":"true",activatorProps:a.value,role:"dialog"},s),{activator:n.activator,default:function(){for(var l=arguments.length,u=new Array(l),h=0;h<l;h++)u[h]=arguments[h];return x(Tl,{root:"VDialog"},{default:()=>{var d;return[(d=n.default)==null?void 0:d.call(n,...u)]}})}})}),vF({},i)}});function wF(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"content";const n=Me(),r=Me();if(Ke){const s=new ResizeObserver(i=>{t==null||t(i,s),i.length&&(e==="content"?r.value=i[0].contentRect:r.value=i[0].target.getBoundingClientRect())});Ul(()=>{s.disconnect()}),ke(n,(i,o)=>{o&&(s.unobserve(Pd(o)),r.value=void 0),i&&s.observe(Pd(i))},{flush:"post"})}return{resizeRef:n,contentRect:kl(r)}}const TF=we({bgColor:String,color:String,indeterminate:[Boolean,String],modelValue:{type:[Number,String],default:0},rotate:{type:[Number,String],default:0},width:{type:[Number,String],default:4},...mn(),...eg(),...Ga({tag:"div"}),...Oi()},"VProgressCircular"),bF=Vt()({name:"VProgressCircular",props:TF(),setup(t,e){let{slots:n}=e;const r=20,s=2*Math.PI*r,i=Me(),{themeClasses:o}=Ni(t),{sizeClasses:a,sizeStyles:c}=tg(t),{textColorClasses:l,textColorStyles:u}=wl(xo(t,"color")),{textColorClasses:h,textColorStyles:d}=wl(xo(t,"bgColor")),{intersectionRef:f,isIntersecting:m}=H0(),{resizeRef:p,contentRect:y}=wF(),T=U(()=>Math.max(0,Math.min(100,parseFloat(t.modelValue)))),w=U(()=>Number(t.width)),v=U(()=>c.value?Number(t.size):y.value?y.value.width:Math.max(w.value,32)),b=U(()=>r/(1-w.value/v.value)*2),D=U(()=>w.value/v.value*b.value),j=U(()=>be((100-T.value)/100*s));return Pr(()=>{f.value=i.value,p.value=i.value}),gn(()=>x(t.tag,{ref:i,class:["v-progress-circular",{"v-progress-circular--indeterminate":!!t.indeterminate,"v-progress-circular--visible":m.value,"v-progress-circular--disable-shrink":t.indeterminate==="disable-shrink"},o.value,a.value,l.value,t.class],style:[c.value,u.value,t.style],role:"progressbar","aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":t.indeterminate?void 0:T.value},{default:()=>[x("svg",{style:{transform:`rotate(calc(-90deg + ${Number(t.rotate)}deg))`},xmlns:"http://www.w3.org/2000/svg",viewBox:`0 0 ${b.value} ${b.value}`},[x("circle",{class:["v-progress-circular__underlay",h.value],style:d.value,fill:"transparent",cx:"50%",cy:"50%",r,"stroke-width":D.value,"stroke-dasharray":s,"stroke-dashoffset":0},null),x("circle",{class:"v-progress-circular__overlay",fill:"transparent",cx:"50%",cy:"50%",r,"stroke-width":D.value,"stroke-dasharray":s,"stroke-dashoffset":j.value},null)]),n.default&&x("div",{class:"v-progress-circular__content"},[n.default({value:T.value})])]})),{}}}),AF=t=>(PA("data-v-eafe6126"),t=t(),SA(),t),RF={class:"loading-overlay"},PF=AF(()=>jl("span",null," Cargando...",-1)),SF={__name:"progre",setup(t){const e=QN();return Me(!0),(n,r)=>(Bl(),_f(IF,{modelValue:Ct(e).progre,"onUpdate:modelValue":r[0]||(r[0]=s=>Ct(e).progre=s),persistent:"","max-width":"200","max-height":"80"},{default:Tc(()=>[jl("div",RF,[x(BL,null,{default:Tc(()=>[x(K0,null,{default:Tc(()=>[x(bF,{color:"deep-orange-lighten-2",indeterminate:"",width:2}),PF]),_:1})]),_:1})])]),_:1},8,["modelValue"]))}},CF=YN(SF,[["__scopeId","data-v-eafe6126"]]),xF={__name:"App",setup(t){return(e,n)=>{const r=GA("router-view");return Bl(),_R(ct,null,[x(CF),x(r)],64)}}},kF="modulepreload",DF=function(t){return"/"+t},Fy={},$t=function(e,n,r){if(!n||n.length===0)return e();const s=document.getElementsByTagName("link");return Promise.all(n.map(i=>{if(i=DF(i),i in Fy)return;Fy[i]=!0;const o=i.endsWith(".css"),a=o?'[rel="stylesheet"]':"";if(!!r)for(let u=s.length-1;u>=0;u--){const h=s[u];if(h.href===i&&(!o||h.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${i}"]${a}`))return;const l=document.createElement("link");if(l.rel=o?"stylesheet":kF,o||(l.as="script",l.crossOrigin=""),l.href=i,document.head.appendChild(l),o)return new Promise((u,h)=>{l.addEventListener("load",u),l.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>e()).catch(i=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=i,window.dispatchEvent(o),!o.defaultPrevented)throw i})};async function VF(){(await $t(()=>import("./webfontloader-caa8e892.js").then(e=>e.w),["assets/webfontloader-caa8e892.js","assets/_commonjsHelpers-725317a4.js"])).load({google:{families:["Roboto:100,300,400,500,700,900&display=swap"]}})}const Ud={"001":1,AD:1,AE:6,AF:6,AG:0,AI:1,AL:1,AM:1,AN:1,AR:1,AS:0,AT:1,AU:1,AX:1,AZ:1,BA:1,BD:0,BE:1,BG:1,BH:6,BM:1,BN:1,BR:0,BS:0,BT:0,BW:0,BY:1,BZ:0,CA:0,CH:1,CL:1,CM:1,CN:1,CO:0,CR:1,CY:1,CZ:1,DE:1,DJ:6,DK:1,DM:0,DO:0,DZ:6,EC:1,EE:1,EG:6,ES:1,ET:0,FI:1,FJ:1,FO:1,FR:1,GB:1,"GB-alt-variant":0,GE:1,GF:1,GP:1,GR:1,GT:0,GU:0,HK:0,HN:0,HR:1,HU:1,ID:0,IE:1,IL:0,IN:0,IQ:6,IR:6,IS:1,IT:1,JM:0,JO:6,JP:0,KE:0,KG:1,KH:0,KR:0,KW:6,KZ:1,LA:0,LB:1,LI:1,LK:1,LT:1,LU:1,LV:1,LY:6,MC:1,MD:1,ME:1,MH:0,MK:1,MM:0,MN:1,MO:0,MQ:1,MT:0,MV:5,MX:0,MY:1,MZ:0,NI:0,NL:1,NO:1,NP:0,NZ:1,OM:6,PA:0,PE:0,PH:0,PK:0,PL:1,PR:0,PT:0,PY:0,QA:6,RE:1,RO:1,RS:1,RU:1,SA:0,SD:6,SE:1,SG:0,SI:1,SK:1,SM:1,SV:0,SY:6,TH:0,TJ:1,TM:1,TR:1,TT:0,TW:0,UA:1,UM:0,US:0,UY:1,UZ:1,VA:1,VE:0,VI:0,VN:1,WS:0,XK:1,YE:0,ZA:0,ZW:0};function OF(t,e){const n=[];let r=[];const s=db(t),i=fb(t),o=s.getDay()-Ud[e.slice(-2).toUpperCase()],a=i.getDay()-Ud[e.slice(-2).toUpperCase()];for(let c=0;c<o;c++){const l=new Date(s);l.setDate(l.getDate()-(o-c)),r.push(l)}for(let c=1;c<=i.getDate();c++){const l=new Date(t.getFullYear(),t.getMonth(),c);r.push(l),r.length===7&&(n.push(r),r=[])}for(let c=1;c<7-a;c++){const l=new Date(i);l.setDate(l.getDate()+c),r.push(l)}return n.push(r),n}function db(t){return new Date(t.getFullYear(),t.getMonth(),1)}function fb(t){return new Date(t.getFullYear(),t.getMonth()+1,0)}function NF(t){const e=t.split("-").map(Number);return new Date(e[0],e[1]-1,e[2])}const MF=/([12]\d{3}-([1-9]|0[1-9]|1[0-2])-([1-9]|0[1-9]|[12]\d|3[01]))/;function LF(t){if(t==null)return new Date;if(t instanceof Date)return t;if(typeof t=="string"){let e;if(MF.test(t))return NF(t);if(e=Date.parse(t),!isNaN(e))return new Date(e)}return null}const Uy=new Date(2e3,0,2);function FF(t){const e=Ud[t.slice(-2).toUpperCase()];return y0(7).map(n=>{const r=new Date(Uy);return r.setDate(Uy.getDate()+e+n),new Intl.DateTimeFormat(t,{weekday:"narrow"}).format(r)})}function UF(t,e,n){const r=new Date(t);let s={};switch(e){case"fullDateWithWeekday":s={weekday:"long",day:"numeric",month:"long",year:"numeric"};break;case"normalDateWithWeekday":s={weekday:"short",day:"numeric",month:"short"};break;case"keyboardDate":s={};break;case"monthAndDate":s={month:"long",day:"numeric"};break;case"monthAndYear":s={month:"long",year:"numeric"};break;case"dayOfMonth":s={day:"numeric"};break;default:s={timeZone:"UTC",timeZoneName:"short"}}return new Intl.DateTimeFormat(n,s).format(r)}function BF(t,e){const n=new Date(t);return n.setDate(n.getDate()+e),n}function $F(t,e){const n=new Date(t);return n.setMonth(n.getMonth()+e),n}function jF(t){return t.getFullYear()}function zF(t){return t.getMonth()}function qF(t){return new Date(t.getFullYear(),0,1)}function KF(t){return new Date(t.getFullYear(),11,31)}function HF(t,e){return Bd(t,e[0])&&WF(t,e[1])}function GF(t){const e=new Date(t);return e instanceof Date&&!isNaN(e.getTime())}function Bd(t,e){return t.getTime()>e.getTime()}function WF(t,e){return t.getTime()<e.getTime()}function By(t,e){return t.getTime()===e.getTime()}function QF(t,e){return t.getDate()===e.getDate()&&t.getMonth()===e.getMonth()&&t.getFullYear()===e.getFullYear()}function YF(t,e){return t.getMonth()===e.getMonth()&&t.getFullYear()===e.getFullYear()}function XF(t,e,n){const r=new Date(t),s=new Date(e);return n==="month"?r.getMonth()-s.getMonth()+(r.getFullYear()-s.getFullYear())*12:Math.floor((r.getTime()-s.getTime())/(1e3*60*60*24))}function JF(t,e){const n=new Date(t);return n.setFullYear(e),n}class ZF{constructor(e){this.locale=e.locale}date(e){return LF(e)}toJsDate(e){return e}addDays(e,n){return BF(e,n)}addMonths(e,n){return $F(e,n)}getWeekArray(e){return OF(e,this.locale)}startOfMonth(e){return db(e)}endOfMonth(e){return fb(e)}format(e,n){return UF(e,n,this.locale)}isEqual(e,n){return By(e,n)}isValid(e){return GF(e)}isWithinRange(e,n){return HF(e,n)}isAfter(e,n){return Bd(e,n)}isBefore(e,n){return!Bd(e,n)&&!By(e,n)}isSameDay(e,n){return QF(e,n)}isSameMonth(e,n){return YF(e,n)}setYear(e,n){return JF(e,n)}getDiff(e,n,r){return XF(e,n,r)}getWeekdays(){return FF(this.locale)}getYear(e){return jF(e)}getMonth(e){return zF(e)}startOfYear(e){return qF(e)}endOfYear(e){return KF(e)}}const $y=Symbol.for("vuetify:date-adapter");function e2(t){return Jt({adapter:ZF,locale:{af:"af-ZA",bg:"bg-BG",ca:"ca-ES",ckb:"",cs:"",de:"de-DE",el:"el-GR",en:"en-US",et:"et-EE",fa:"fa-IR",fi:"fi-FI",hr:"hr-HR",hu:"hu-HU",he:"he-IL",id:"id-ID",it:"it-IT",ja:"ja-JP",ko:"ko-KR",lv:"lv-LV",lt:"lt-LT",nl:"nl-NL",no:"nn-NO",pl:"pl-PL",pt:"pt-PT",ro:"ro-RO",ru:"ru-RU",sk:"sk-SK",sl:"sl-SI",srCyrl:"sr-SP",srLatn:"sr-SP",sv:"sv-SE",th:"th-TH",tr:"tr-TR",az:"az-AZ",uk:"uk-UA",vi:"vi-VN",zhHans:"zh-CN",zhHant:"zh-TW"}},t)}function mb(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{blueprint:e,...n}=t,r=Jt(e,n),{aliases:s={},components:i={},directives:o={}}=r,a=FM(r.defaults),c=cF(r.display,r.ssr),l=XM(r.theme),u=GM(r.icons),h=vL(r.locale),d=e2(r.date);return{install:m=>{for(const p in o)m.directive(p,o[p]);for(const p in i)m.component(p,i[p]);for(const p in s)m.component(p,Ha({...s[p],name:p,aliasName:s[p].name}));if(l.install(m),m.provide(_i,a),m.provide(Fd,c),m.provide(la,l),m.provide(Vd,u),m.provide(bl,h),m.provide($y,d),Ke&&r.ssr)if(m.$nuxt)m.$nuxt.hook("app:suspense:resolve",()=>{c.update()});else{const{mount:p}=m;m.mount=function(){const y=p(...arguments);return fn(()=>c.update()),m.mount=p,y}}V0.reset(),m.mixin({computed:{$vuetify(){return kn({defaults:Ls.call(this,_i),display:Ls.call(this,Fd),theme:Ls.call(this,la),icons:Ls.call(this,Vd),locale:Ls.call(this,bl),date:Ls.call(this,$y)})}}})},defaults:a,display:c,theme:l,icons:u,locale:h,date:d}}const t2="3.3.15";mb.version=t2;function Ls(t){var r,s;const e=this.$,n=((r=e.parent)==null?void 0:r.provides)??((s=e.vnode.appContext)==null?void 0:s.provides);if(n&&t in n)return n[t]}const n2=mb({theme:{themes:{light:{colors:{primary:"#1867C0",secondary:"#5CBBF6"}}}}}),r2=gP();/*!
  * vue-router v4.2.4
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const zs=typeof window<"u";function s2(t){return t.__esModule||t[Symbol.toStringTag]==="Module"}const Pe=Object.assign;function wh(t,e){const n={};for(const r in e){const s=e[r];n[r]=dn(s)?s.map(t):t(s)}return n}const Ao=()=>{},dn=Array.isArray,i2=/\/$/,o2=t=>t.replace(i2,"");function Th(t,e,n="/"){let r,s={},i="",o="";const a=e.indexOf("#");let c=e.indexOf("?");return a<c&&a>=0&&(c=-1),c>-1&&(r=e.slice(0,c),i=e.slice(c+1,a>-1?a:e.length),s=t(i)),a>-1&&(r=r||e.slice(0,a),o=e.slice(a,e.length)),r=u2(r??e,n),{fullPath:r+(i&&"?")+i+o,path:r,query:s,hash:o}}function a2(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function jy(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function c2(t,e,n){const r=e.matched.length-1,s=n.matched.length-1;return r>-1&&r===s&&yi(e.matched[r],n.matched[s])&&gb(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function yi(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function gb(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!l2(t[n],e[n]))return!1;return!0}function l2(t,e){return dn(t)?zy(t,e):dn(e)?zy(e,t):t===e}function zy(t,e){return dn(e)?t.length===e.length&&t.every((n,r)=>n===e[r]):t.length===1&&t[0]===e}function u2(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),r=t.split("/"),s=r[r.length-1];(s===".."||s===".")&&r.push("");let i=n.length-1,o,a;for(o=0;o<r.length;o++)if(a=r[o],a!==".")if(a==="..")i>1&&i--;else break;return n.slice(0,i).join("/")+"/"+r.slice(o-(o===r.length?1:0)).join("/")}var da;(function(t){t.pop="pop",t.push="push"})(da||(da={}));var Ro;(function(t){t.back="back",t.forward="forward",t.unknown=""})(Ro||(Ro={}));function h2(t){if(!t)if(zs){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),o2(t)}const d2=/^[^#]+#/;function f2(t,e){return t.replace(d2,"#")+e}function m2(t,e){const n=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-n.left-(e.left||0),top:r.top-n.top-(e.top||0)}}const Du=()=>({left:window.pageXOffset,top:window.pageYOffset});function g2(t){let e;if("el"in t){const n=t.el,r=typeof n=="string"&&n.startsWith("#"),s=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!s)return;e=m2(s,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.pageXOffset,e.top!=null?e.top:window.pageYOffset)}function qy(t,e){return(history.state?history.state.position-e:-1)+t}const $d=new Map;function p2(t,e){$d.set(t,e)}function _2(t){const e=$d.get(t);return $d.delete(t),e}let y2=()=>location.protocol+"//"+location.host;function pb(t,e){const{pathname:n,search:r,hash:s}=e,i=t.indexOf("#");if(i>-1){let a=s.includes(t.slice(i))?t.slice(i).length:1,c=s.slice(a);return c[0]!=="/"&&(c="/"+c),jy(c,"")}return jy(n,t)+r+s}function v2(t,e,n,r){let s=[],i=[],o=null;const a=({state:d})=>{const f=pb(t,location),m=n.value,p=e.value;let y=0;if(d){if(n.value=f,e.value=d,o&&o===m){o=null;return}y=p?d.position-p.position:0}else r(f);s.forEach(T=>{T(n.value,m,{delta:y,type:da.pop,direction:y?y>0?Ro.forward:Ro.back:Ro.unknown})})};function c(){o=n.value}function l(d){s.push(d);const f=()=>{const m=s.indexOf(d);m>-1&&s.splice(m,1)};return i.push(f),f}function u(){const{history:d}=window;d.state&&d.replaceState(Pe({},d.state,{scroll:Du()}),"")}function h(){for(const d of i)d();i=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u,{passive:!0}),{pauseListeners:c,listen:l,destroy:h}}function Ky(t,e,n,r=!1,s=!1){return{back:t,current:e,forward:n,replaced:r,position:window.history.length,scroll:s?Du():null}}function E2(t){const{history:e,location:n}=window,r={value:pb(t,n)},s={value:e.state};s.value||i(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function i(c,l,u){const h=t.indexOf("#"),d=h>-1?(n.host&&document.querySelector("base")?t:t.slice(h))+c:y2()+t+c;try{e[u?"replaceState":"pushState"](l,"",d),s.value=l}catch(f){console.error(f),n[u?"replace":"assign"](d)}}function o(c,l){const u=Pe({},e.state,Ky(s.value.back,c,s.value.forward,!0),l,{position:s.value.position});i(c,u,!0),r.value=c}function a(c,l){const u=Pe({},s.value,e.state,{forward:c,scroll:Du()});i(u.current,u,!0);const h=Pe({},Ky(r.value,c,null),{position:u.position+1},l);i(c,h,!1),r.value=c}return{location:r,state:s,push:a,replace:o}}function I2(t){t=h2(t);const e=E2(t),n=v2(t,e.state,e.location,e.replace);function r(i,o=!0){o||n.pauseListeners(),history.go(i)}const s=Pe({location:"",base:t,go:r,createHref:f2.bind(null,t)},e,n);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>e.state.value}),s}function w2(t){return typeof t=="string"||t&&typeof t=="object"}function _b(t){return typeof t=="string"||typeof t=="symbol"}const er={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},yb=Symbol("");var Hy;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(Hy||(Hy={}));function vi(t,e){return Pe(new Error,{type:t,[yb]:!0},e)}function Vn(t,e){return t instanceof Error&&yb in t&&(e==null||!!(t.type&e))}const Gy="[^/]+?",T2={sensitive:!1,strict:!1,start:!0,end:!0},b2=/[.+*?^${}()[\]/\\]/g;function A2(t,e){const n=Pe({},T2,e),r=[];let s=n.start?"^":"";const i=[];for(const l of t){const u=l.length?[]:[90];n.strict&&!l.length&&(s+="/");for(let h=0;h<l.length;h++){const d=l[h];let f=40+(n.sensitive?.25:0);if(d.type===0)h||(s+="/"),s+=d.value.replace(b2,"\\$&"),f+=40;else if(d.type===1){const{value:m,repeatable:p,optional:y,regexp:T}=d;i.push({name:m,repeatable:p,optional:y});const w=T||Gy;if(w!==Gy){f+=10;try{new RegExp(`(${w})`)}catch(b){throw new Error(`Invalid custom RegExp for param "${m}" (${w}): `+b.message)}}let v=p?`((?:${w})(?:/(?:${w}))*)`:`(${w})`;h||(v=y&&l.length<2?`(?:/${v})`:"/"+v),y&&(v+="?"),s+=v,f+=20,y&&(f+=-8),p&&(f+=-20),w===".*"&&(f+=-50)}u.push(f)}r.push(u)}if(n.strict&&n.end){const l=r.length-1;r[l][r[l].length-1]+=.7000000000000001}n.strict||(s+="/?"),n.end?s+="$":n.strict&&(s+="(?:/|$)");const o=new RegExp(s,n.sensitive?"":"i");function a(l){const u=l.match(o),h={};if(!u)return null;for(let d=1;d<u.length;d++){const f=u[d]||"",m=i[d-1];h[m.name]=f&&m.repeatable?f.split("/"):f}return h}function c(l){let u="",h=!1;for(const d of t){(!h||!u.endsWith("/"))&&(u+="/"),h=!1;for(const f of d)if(f.type===0)u+=f.value;else if(f.type===1){const{value:m,repeatable:p,optional:y}=f,T=m in l?l[m]:"";if(dn(T)&&!p)throw new Error(`Provided param "${m}" is an array but it is not repeatable (* or + modifiers)`);const w=dn(T)?T.join("/"):T;if(!w)if(y)d.length<2&&(u.endsWith("/")?u=u.slice(0,-1):h=!0);else throw new Error(`Missing required param "${m}"`);u+=w}}return u||"/"}return{re:o,score:r,keys:i,parse:a,stringify:c}}function R2(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=e[n]-t[n];if(r)return r;n++}return t.length<e.length?t.length===1&&t[0]===40+40?-1:1:t.length>e.length?e.length===1&&e[0]===40+40?1:-1:0}function P2(t,e){let n=0;const r=t.score,s=e.score;for(;n<r.length&&n<s.length;){const i=R2(r[n],s[n]);if(i)return i;n++}if(Math.abs(s.length-r.length)===1){if(Wy(r))return 1;if(Wy(s))return-1}return s.length-r.length}function Wy(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const S2={type:0,value:""},C2=/[a-zA-Z0-9_]/;function x2(t){if(!t)return[[]];if(t==="/")return[[S2]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(f){throw new Error(`ERR (${n})/"${l}": ${f}`)}let n=0,r=n;const s=[];let i;function o(){i&&s.push(i),i=[]}let a=0,c,l="",u="";function h(){l&&(n===0?i.push({type:0,value:l}):n===1||n===2||n===3?(i.length>1&&(c==="*"||c==="+")&&e(`A repeatable param (${l}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:l,regexp:u,repeatable:c==="*"||c==="+",optional:c==="*"||c==="?"})):e("Invalid state to consume buffer"),l="")}function d(){l+=c}for(;a<t.length;){if(c=t[a++],c==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:c==="/"?(l&&h(),o()):c===":"?(h(),n=1):d();break;case 4:d(),n=r;break;case 1:c==="("?n=2:C2.test(c)?d():(h(),n=0,c!=="*"&&c!=="?"&&c!=="+"&&a--);break;case 2:c===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+c:n=3:u+=c;break;case 3:h(),n=0,c!=="*"&&c!=="?"&&c!=="+"&&a--,u="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${l}"`),h(),o(),s}function k2(t,e,n){const r=A2(x2(t.path),n),s=Pe(r,{record:t,parent:e,children:[],alias:[]});return e&&!s.record.aliasOf==!e.record.aliasOf&&e.children.push(s),s}function D2(t,e){const n=[],r=new Map;e=Xy({strict:!1,end:!0,sensitive:!1},e);function s(u){return r.get(u)}function i(u,h,d){const f=!d,m=V2(u);m.aliasOf=d&&d.record;const p=Xy(e,u),y=[m];if("alias"in u){const v=typeof u.alias=="string"?[u.alias]:u.alias;for(const b of v)y.push(Pe({},m,{components:d?d.record.components:m.components,path:b,aliasOf:d?d.record:m}))}let T,w;for(const v of y){const{path:b}=v;if(h&&b[0]!=="/"){const D=h.record.path,j=D[D.length-1]==="/"?"":"/";v.path=h.record.path+(b&&j+b)}if(T=k2(v,h,p),d?d.alias.push(T):(w=w||T,w!==T&&w.alias.push(T),f&&u.name&&!Yy(T)&&o(u.name)),m.children){const D=m.children;for(let j=0;j<D.length;j++)i(D[j],T,d&&d.children[j])}d=d||T,(T.record.components&&Object.keys(T.record.components).length||T.record.name||T.record.redirect)&&c(T)}return w?()=>{o(w)}:Ao}function o(u){if(_b(u)){const h=r.get(u);h&&(r.delete(u),n.splice(n.indexOf(h),1),h.children.forEach(o),h.alias.forEach(o))}else{const h=n.indexOf(u);h>-1&&(n.splice(h,1),u.record.name&&r.delete(u.record.name),u.children.forEach(o),u.alias.forEach(o))}}function a(){return n}function c(u){let h=0;for(;h<n.length&&P2(u,n[h])>=0&&(u.record.path!==n[h].record.path||!vb(u,n[h]));)h++;n.splice(h,0,u),u.record.name&&!Yy(u)&&r.set(u.record.name,u)}function l(u,h){let d,f={},m,p;if("name"in u&&u.name){if(d=r.get(u.name),!d)throw vi(1,{location:u});p=d.record.name,f=Pe(Qy(h.params,d.keys.filter(w=>!w.optional).map(w=>w.name)),u.params&&Qy(u.params,d.keys.map(w=>w.name))),m=d.stringify(f)}else if("path"in u)m=u.path,d=n.find(w=>w.re.test(m)),d&&(f=d.parse(m),p=d.record.name);else{if(d=h.name?r.get(h.name):n.find(w=>w.re.test(h.path)),!d)throw vi(1,{location:u,currentLocation:h});p=d.record.name,f=Pe({},h.params,u.params),m=d.stringify(f)}const y=[];let T=d;for(;T;)y.unshift(T.record),T=T.parent;return{name:p,path:m,params:f,matched:y,meta:N2(y)}}return t.forEach(u=>i(u)),{addRoute:i,resolve:l,removeRoute:o,getRoutes:a,getRecordMatcher:s}}function Qy(t,e){const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}function V2(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:O2(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function O2(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const r in t.components)e[r]=typeof n=="object"?n[r]:n;return e}function Yy(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function N2(t){return t.reduce((e,n)=>Pe(e,n.meta),{})}function Xy(t,e){const n={};for(const r in t)n[r]=r in e?e[r]:t[r];return n}function vb(t,e){return e.children.some(n=>n===t||vb(t,n))}const Eb=/#/g,M2=/&/g,L2=/\//g,F2=/=/g,U2=/\?/g,Ib=/\+/g,B2=/%5B/g,$2=/%5D/g,wb=/%5E/g,j2=/%60/g,Tb=/%7B/g,z2=/%7C/g,bb=/%7D/g,q2=/%20/g;function cg(t){return encodeURI(""+t).replace(z2,"|").replace(B2,"[").replace($2,"]")}function K2(t){return cg(t).replace(Tb,"{").replace(bb,"}").replace(wb,"^")}function jd(t){return cg(t).replace(Ib,"%2B").replace(q2,"+").replace(Eb,"%23").replace(M2,"%26").replace(j2,"`").replace(Tb,"{").replace(bb,"}").replace(wb,"^")}function H2(t){return jd(t).replace(F2,"%3D")}function G2(t){return cg(t).replace(Eb,"%23").replace(U2,"%3F")}function W2(t){return t==null?"":G2(t).replace(L2,"%2F")}function Pl(t){try{return decodeURIComponent(""+t)}catch{}return""+t}function Q2(t){const e={};if(t===""||t==="?")return e;const r=(t[0]==="?"?t.slice(1):t).split("&");for(let s=0;s<r.length;++s){const i=r[s].replace(Ib," "),o=i.indexOf("="),a=Pl(o<0?i:i.slice(0,o)),c=o<0?null:Pl(i.slice(o+1));if(a in e){let l=e[a];dn(l)||(l=e[a]=[l]),l.push(c)}else e[a]=c}return e}function Jy(t){let e="";for(let n in t){const r=t[n];if(n=H2(n),r==null){r!==void 0&&(e+=(e.length?"&":"")+n);continue}(dn(r)?r.map(i=>i&&jd(i)):[r&&jd(r)]).forEach(i=>{i!==void 0&&(e+=(e.length?"&":"")+n,i!=null&&(e+="="+i))})}return e}function Y2(t){const e={};for(const n in t){const r=t[n];r!==void 0&&(e[n]=dn(r)?r.map(s=>s==null?null:""+s):r==null?r:""+r)}return e}const X2=Symbol(""),Zy=Symbol(""),Vu=Symbol(""),lg=Symbol(""),zd=Symbol("");function Ji(){let t=[];function e(r){return t.push(r),()=>{const s=t.indexOf(r);s>-1&&t.splice(s,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function sr(t,e,n,r,s){const i=r&&(r.enterCallbacks[s]=r.enterCallbacks[s]||[]);return()=>new Promise((o,a)=>{const c=h=>{h===!1?a(vi(4,{from:n,to:e})):h instanceof Error?a(h):w2(h)?a(vi(2,{from:e,to:h})):(i&&r.enterCallbacks[s]===i&&typeof h=="function"&&i.push(h),o())},l=t.call(r&&r.instances[s],e,n,c);let u=Promise.resolve(l);t.length<3&&(u=u.then(c)),u.catch(h=>a(h))})}function bh(t,e,n,r){const s=[];for(const i of t)for(const o in i.components){let a=i.components[o];if(!(e!=="beforeRouteEnter"&&!i.instances[o]))if(J2(a)){const l=(a.__vccOpts||a)[e];l&&s.push(sr(l,n,r,i,o))}else{let c=a();s.push(()=>c.then(l=>{if(!l)return Promise.reject(new Error(`Couldn't resolve component "${o}" at "${i.path}"`));const u=s2(l)?l.default:l;i.components[o]=u;const d=(u.__vccOpts||u)[e];return d&&sr(d,n,r,i,o)()}))}}return s}function J2(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function ev(t){const e=Ze(Vu),n=Ze(lg),r=U(()=>e.resolve(Ct(t.to))),s=U(()=>{const{matched:c}=r.value,{length:l}=c,u=c[l-1],h=n.matched;if(!u||!h.length)return-1;const d=h.findIndex(yi.bind(null,u));if(d>-1)return d;const f=tv(c[l-2]);return l>1&&tv(u)===f&&h[h.length-1].path!==f?h.findIndex(yi.bind(null,c[l-2])):d}),i=U(()=>s.value>-1&&nU(n.params,r.value.params)),o=U(()=>s.value>-1&&s.value===n.matched.length-1&&gb(n.params,r.value.params));function a(c={}){return tU(c)?e[Ct(t.replace)?"replace":"push"](Ct(t.to)).catch(Ao):Promise.resolve()}return{route:r,href:U(()=>r.value.href),isActive:i,isExactActive:o,navigate:a}}const Z2=lf({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:ev,setup(t,{slots:e}){const n=kn(ev(t)),{options:r}=Ze(Vu),s=U(()=>({[nv(t.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[nv(t.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const i=e.default&&e.default(n);return t.custom?i:Ai("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:s.value},i)}}}),eU=Z2;function tU(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function nU(t,e){for(const n in e){const r=e[n],s=t[n];if(typeof r=="string"){if(r!==s)return!1}else if(!dn(s)||s.length!==r.length||r.some((i,o)=>i!==s[o]))return!1}return!0}function tv(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const nv=(t,e,n)=>t??e??n,rU=lf({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const r=Ze(zd),s=U(()=>t.route||r.value),i=Ze(Zy,0),o=U(()=>{let l=Ct(i);const{matched:u}=s.value;let h;for(;(h=u[l])&&!h.components;)l++;return l}),a=U(()=>s.value.matched[o.value]);gr(Zy,U(()=>o.value+1)),gr(X2,a),gr(zd,s);const c=Me();return ke(()=>[c.value,a.value,t.name],([l,u,h],[d,f,m])=>{u&&(u.instances[h]=l,f&&f!==u&&l&&l===d&&(u.leaveGuards.size||(u.leaveGuards=f.leaveGuards),u.updateGuards.size||(u.updateGuards=f.updateGuards))),l&&u&&(!f||!yi(u,f)||!d)&&(u.enterCallbacks[h]||[]).forEach(p=>p(l))},{flush:"post"}),()=>{const l=s.value,u=t.name,h=a.value,d=h&&h.components[u];if(!d)return rv(n.default,{Component:d,route:l});const f=h.props[u],m=f?f===!0?l.params:typeof f=="function"?f(l):f:null,y=Ai(d,Pe({},m,e,{onVnodeUnmounted:T=>{T.component.isUnmounted&&(h.instances[u]=null)},ref:c}));return rv(n.default,{Component:y,route:l})||y}}});function rv(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const sU=rU;function iU(t){const e=D2(t.routes,t),n=t.parseQuery||Q2,r=t.stringifyQuery||Jy,s=t.history,i=Ji(),o=Ji(),a=Ji(),c=rt(er);let l=er;zs&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=wh.bind(null,S=>""+S),h=wh.bind(null,W2),d=wh.bind(null,Pl);function f(S,W){let $,ne;return _b(S)?($=e.getRecordMatcher(S),ne=W):ne=S,e.addRoute(ne,$)}function m(S){const W=e.getRecordMatcher(S);W&&e.removeRoute(W)}function p(){return e.getRoutes().map(S=>S.record)}function y(S){return!!e.getRecordMatcher(S)}function T(S,W){if(W=Pe({},W||c.value),typeof S=="string"){const E=Th(n,S,W.path),P=e.resolve({path:E.path},W),C=s.createHref(E.fullPath);return Pe(E,P,{params:d(P.params),hash:Pl(E.hash),redirectedFrom:void 0,href:C})}let $;if("path"in S)$=Pe({},S,{path:Th(n,S.path,W.path).path});else{const E=Pe({},S.params);for(const P in E)E[P]==null&&delete E[P];$=Pe({},S,{params:h(E)}),W.params=h(W.params)}const ne=e.resolve($,W),Ae=S.hash||"";ne.params=u(d(ne.params));const g=a2(r,Pe({},S,{hash:K2(Ae),path:ne.path})),_=s.createHref(g);return Pe({fullPath:g,hash:Ae,query:r===Jy?Y2(S.query):S.query||{}},ne,{redirectedFrom:void 0,href:_})}function w(S){return typeof S=="string"?Th(n,S,c.value.path):Pe({},S)}function v(S,W){if(l!==S)return vi(8,{from:W,to:S})}function b(S){return G(S)}function D(S){return b(Pe(w(S),{replace:!0}))}function j(S){const W=S.matched[S.matched.length-1];if(W&&W.redirect){const{redirect:$}=W;let ne=typeof $=="function"?$(S):$;return typeof ne=="string"&&(ne=ne.includes("?")||ne.includes("#")?ne=w(ne):{path:ne},ne.params={}),Pe({query:S.query,hash:S.hash,params:"path"in ne?{}:S.params},ne)}}function G(S,W){const $=l=T(S),ne=c.value,Ae=S.state,g=S.force,_=S.replace===!0,E=j($);if(E)return G(Pe(w(E),{state:typeof E=="object"?Pe({},Ae,E.state):Ae,force:g,replace:_}),W||$);const P=$;P.redirectedFrom=W;let C;return!g&&c2(r,ne,$)&&(C=vi(16,{to:P,from:ne}),ot(ne,ne,!0,!1)),(C?Promise.resolve(C):K(P,ne)).catch(k=>Vn(k)?Vn(k,2)?k:Ye(k):ie(k,P,ne)).then(k=>{if(k){if(Vn(k,2))return G(Pe({replace:_},w(k.to),{state:typeof k.to=="object"?Pe({},Ae,k.to.state):Ae,force:g}),W||P)}else k=O(P,ne,!0,_,Ae);return J(P,ne,k),k})}function R(S,W){const $=v(S,W);return $?Promise.reject($):Promise.resolve()}function V(S){const W=Rs.values().next().value;return W&&typeof W.runWithContext=="function"?W.runWithContext(S):S()}function K(S,W){let $;const[ne,Ae,g]=oU(S,W);$=bh(ne.reverse(),"beforeRouteLeave",S,W);for(const E of ne)E.leaveGuards.forEach(P=>{$.push(sr(P,S,W))});const _=R.bind(null,S,W);return $.push(_),It($).then(()=>{$=[];for(const E of i.list())$.push(sr(E,S,W));return $.push(_),It($)}).then(()=>{$=bh(Ae,"beforeRouteUpdate",S,W);for(const E of Ae)E.updateGuards.forEach(P=>{$.push(sr(P,S,W))});return $.push(_),It($)}).then(()=>{$=[];for(const E of g)if(E.beforeEnter)if(dn(E.beforeEnter))for(const P of E.beforeEnter)$.push(sr(P,S,W));else $.push(sr(E.beforeEnter,S,W));return $.push(_),It($)}).then(()=>(S.matched.forEach(E=>E.enterCallbacks={}),$=bh(g,"beforeRouteEnter",S,W),$.push(_),It($))).then(()=>{$=[];for(const E of o.list())$.push(sr(E,S,W));return $.push(_),It($)}).catch(E=>Vn(E,8)?E:Promise.reject(E))}function J(S,W,$){a.list().forEach(ne=>V(()=>ne(S,W,$)))}function O(S,W,$,ne,Ae){const g=v(S,W);if(g)return g;const _=W===er,E=zs?history.state:{};$&&(ne||_?s.replace(S.fullPath,Pe({scroll:_&&E&&E.scroll},Ae)):s.push(S.fullPath,Ae)),c.value=S,ot(S,W,$,_),Ye()}let Y;function fe(){Y||(Y=s.listen((S,W,$)=>{if(!Wa.listening)return;const ne=T(S),Ae=j(ne);if(Ae){G(Pe(Ae,{replace:!0}),ne).catch(Ao);return}l=ne;const g=c.value;zs&&p2(qy(g.fullPath,$.delta),Du()),K(ne,g).catch(_=>Vn(_,12)?_:Vn(_,2)?(G(_.to,ne).then(E=>{Vn(E,20)&&!$.delta&&$.type===da.pop&&s.go(-1,!1)}).catch(Ao),Promise.reject()):($.delta&&s.go(-$.delta,!1),ie(_,ne,g))).then(_=>{_=_||O(ne,g,!1),_&&($.delta&&!Vn(_,8)?s.go(-$.delta,!1):$.type===da.pop&&Vn(_,20)&&s.go(-1,!1)),J(ne,g,_)}).catch(Ao)}))}let Ve=Ji(),ae=Ji(),Ee;function ie(S,W,$){Ye(S);const ne=ae.list();return ne.length?ne.forEach(Ae=>Ae(S,W,$)):console.error(S),Promise.reject(S)}function ve(){return Ee&&c.value!==er?Promise.resolve():new Promise((S,W)=>{Ve.add([S,W])})}function Ye(S){return Ee||(Ee=!S,fe(),Ve.list().forEach(([W,$])=>S?$(S):W()),Ve.reset()),S}function ot(S,W,$,ne){const{scrollBehavior:Ae}=t;if(!zs||!Ae)return Promise.resolve();const g=!$&&_2(qy(S.fullPath,0))||(ne||!$)&&history.state&&history.state.scroll||null;return fn().then(()=>Ae(S,W,g)).then(_=>_&&g2(_)).catch(_=>ie(_,S,W))}const Ot=S=>s.go(S);let As;const Rs=new Set,Wa={currentRoute:c,listening:!0,addRoute:f,removeRoute:m,hasRoute:y,getRoutes:p,resolve:T,options:t,push:b,replace:D,go:Ot,back:()=>Ot(-1),forward:()=>Ot(1),beforeEach:i.add,beforeResolve:o.add,afterEach:a.add,onError:ae.add,isReady:ve,install(S){const W=this;S.component("RouterLink",eU),S.component("RouterView",sU),S.config.globalProperties.$router=W,Object.defineProperty(S.config.globalProperties,"$route",{enumerable:!0,get:()=>Ct(c)}),zs&&!As&&c.value===er&&(As=!0,b(s.location).catch(Ae=>{}));const $={};for(const Ae in er)Object.defineProperty($,Ae,{get:()=>c.value[Ae],enumerable:!0});S.provide(Vu,W),S.provide(lg,Iv($)),S.provide(zd,c);const ne=S.unmount;Rs.add(S),S.unmount=function(){Rs.delete(S),Rs.size<1&&(l=er,Y&&Y(),Y=null,c.value=er,As=!1,Ee=!1),ne()}}};function It(S){return S.reduce((W,$)=>W.then(()=>V($)),Promise.resolve())}return Wa}function oU(t,e){const n=[],r=[],s=[],i=Math.max(e.matched.length,t.matched.length);for(let o=0;o<i;o++){const a=e.matched[o];a&&(t.matched.find(l=>yi(l,a))?r.push(a):n.push(a));const c=t.matched[o];c&&(e.matched.find(l=>yi(l,c))||s.push(c))}return[n,r,s]}function GU(){return Ze(Vu)}function WU(){return Ze(lg)}yl.currentUser;const aU=[{path:"/",component:()=>$t(()=>import("./Default-9ceb5b65.js"),["assets/Default-9ceb5b65.js","assets/VApp-187cba23.js","assets/VApp-71d361fe.css"]),children:[{path:"",name:"Dashboard",component:()=>$t(()=>import("./Dashboard-69db7e44.js"),["assets/Dashboard-69db7e44.js","assets/PanelControl-7df2cc45.js","assets/VFooter-00ceb151.js","assets/_commonjsHelpers-725317a4.js","assets/VApp-187cba23.js","assets/VApp-71d361fe.css","assets/VFooter-036e0f92.css","assets/VRow-9d2fd381.js","assets/VRow-25b4deb0.css","assets/VCol-fcab6052.js","assets/PanelControl-8369e211.css","assets/VContainer-cae74a55.js"]),meta:{auth:!0}},{path:"/Miembros",name:"Miembros",component:()=>$t(()=>import("./Miembros-9ad1d499.js"),["assets/Miembros-9ad1d499.js","assets/PanelControl-7df2cc45.js","assets/VFooter-00ceb151.js","assets/_commonjsHelpers-725317a4.js","assets/VApp-187cba23.js","assets/VApp-71d361fe.css","assets/VFooter-036e0f92.css","assets/VRow-9d2fd381.js","assets/VRow-25b4deb0.css","assets/VCol-fcab6052.js","assets/PanelControl-8369e211.css","assets/VTable-e331d311.js","assets/VTable-702684f3.css","assets/VAlertTitle-e063ad04.js","assets/VForm-b35ddd23.js","assets/form-1a9ccaaf.js","assets/VSelect-8aea1f06.js","assets/VTextField-cfb14247.js","assets/VTextField-f13cdd98.css","assets/VChip-254359b9.js","assets/VChip-323b10eb.css","assets/VSelect-403ccefa.css","assets/VRadioGroup-eff34354.js","assets/VRadioGroup-3cbe3063.css","assets/VTextarea-e9078d95.js","assets/VTextarea-1e58334b.css","assets/Miembros-6cf5270d.css"]),meta:{auth:!0}},{path:"/Amigos",name:"Amigos",component:()=>$t(()=>import("./Amigos-b20ab213.js"),["assets/Amigos-b20ab213.js","assets/PanelControl-7df2cc45.js","assets/VFooter-00ceb151.js","assets/_commonjsHelpers-725317a4.js","assets/VApp-187cba23.js","assets/VApp-71d361fe.css","assets/VFooter-036e0f92.css","assets/VRow-9d2fd381.js","assets/VRow-25b4deb0.css","assets/VCol-fcab6052.js","assets/PanelControl-8369e211.css","assets/VTable-e331d311.js","assets/VTable-702684f3.css","assets/VForm-b35ddd23.js","assets/form-1a9ccaaf.js","assets/VTextField-cfb14247.js","assets/VTextField-f13cdd98.css","assets/VTextarea-e9078d95.js","assets/VTextarea-1e58334b.css","assets/Amigos-669a2500.css"]),meta:{auth:!0}},{path:"/Consultas",name:"Consultas",component:()=>$t(()=>import("./Consultas-034d3059.js"),["assets/Consultas-034d3059.js","assets/PanelControl-7df2cc45.js","assets/VFooter-00ceb151.js","assets/_commonjsHelpers-725317a4.js","assets/VApp-187cba23.js","assets/VApp-71d361fe.css","assets/VFooter-036e0f92.css","assets/VRow-9d2fd381.js","assets/VRow-25b4deb0.css","assets/VCol-fcab6052.js","assets/PanelControl-8369e211.css","assets/VForm-b35ddd23.js","assets/form-1a9ccaaf.js","assets/VContainer-cae74a55.js","assets/Consultas-d3ea7b90.css"]),meta:{auth:!0}},{path:"/Birthday",name:"Birthday",component:()=>$t(()=>import("./Birthday-4921785f.js"),["assets/Birthday-4921785f.js","assets/PanelControl-7df2cc45.js","assets/VFooter-00ceb151.js","assets/_commonjsHelpers-725317a4.js","assets/VApp-187cba23.js","assets/VApp-71d361fe.css","assets/VFooter-036e0f92.css","assets/VRow-9d2fd381.js","assets/VRow-25b4deb0.css","assets/VCol-fcab6052.js","assets/PanelControl-8369e211.css","assets/VChip-254359b9.js","assets/VChip-323b10eb.css","assets/Birthday-bffe463d.css"]),meta:{auth:!0}},{path:"/Solicitudes",name:"Solicitudes",component:()=>$t(()=>import("./Solicitudes-ef11e7a3.js"),["assets/Solicitudes-ef11e7a3.js","assets/PanelControl-7df2cc45.js","assets/VFooter-00ceb151.js","assets/_commonjsHelpers-725317a4.js","assets/VApp-187cba23.js","assets/VApp-71d361fe.css","assets/VFooter-036e0f92.css","assets/VRow-9d2fd381.js","assets/VRow-25b4deb0.css","assets/VCol-fcab6052.js","assets/PanelControl-8369e211.css","assets/VSelect-8aea1f06.js","assets/VTextField-cfb14247.js","assets/form-1a9ccaaf.js","assets/VTextField-f13cdd98.css","assets/VChip-254359b9.js","assets/VChip-323b10eb.css","assets/VSelect-403ccefa.css","assets/Solicitudes-96e98268.css"]),meta:{auth:!0}},{path:"/Sugerencias",name:"Sugerencias",component:()=>$t(()=>import("./Sugerencias-8c502730.js"),["assets/Sugerencias-8c502730.js","assets/PanelControl-7df2cc45.js","assets/VFooter-00ceb151.js","assets/_commonjsHelpers-725317a4.js","assets/VApp-187cba23.js","assets/VApp-71d361fe.css","assets/VFooter-036e0f92.css","assets/VRow-9d2fd381.js","assets/VRow-25b4deb0.css","assets/VCol-fcab6052.js","assets/PanelControl-8369e211.css","assets/VForm-b35ddd23.js","assets/form-1a9ccaaf.js","assets/VSelect-8aea1f06.js","assets/VTextField-cfb14247.js","assets/VTextField-f13cdd98.css","assets/VChip-254359b9.js","assets/VChip-323b10eb.css","assets/VSelect-403ccefa.css","assets/VTextarea-e9078d95.js","assets/VTextarea-1e58334b.css","assets/VAlert-edbd8292.js","assets/VAlertTitle-e063ad04.js","assets/VAlert-a473ba34.css","assets/VContainer-cae74a55.js"]),meta:{auth:!0}},{path:"/Informacion",name:"Informacion",component:()=>$t(()=>import("./Informacion-7de0e1d1.js"),["assets/Informacion-7de0e1d1.js","assets/PanelControl-7df2cc45.js","assets/VFooter-00ceb151.js","assets/_commonjsHelpers-725317a4.js","assets/VApp-187cba23.js","assets/VApp-71d361fe.css","assets/VFooter-036e0f92.css","assets/VRow-9d2fd381.js","assets/VRow-25b4deb0.css","assets/VCol-fcab6052.js","assets/PanelControl-8369e211.css","assets/Informacion-2971d093.css"]),meta:{auth:!0}},{path:"/Login",name:"Login",component:()=>$t(()=>import("./Login-068de125.js"),["assets/Login-068de125.js","assets/VFooter-00ceb151.js","assets/_commonjsHelpers-725317a4.js","assets/VApp-187cba23.js","assets/VApp-71d361fe.css","assets/VFooter-036e0f92.css","assets/VRow-9d2fd381.js","assets/VRow-25b4deb0.css","assets/VForm-b35ddd23.js","assets/form-1a9ccaaf.js","assets/VAlert-edbd8292.js","assets/VAlertTitle-e063ad04.js","assets/VAlert-a473ba34.css","assets/VContainer-cae74a55.js","assets/Login-fb408fb9.css"]),meta:{auth:!1}},{path:"/Form",name:"Form",component:()=>$t(()=>import("./FormMiembros-c1346138.js"),["assets/FormMiembros-c1346138.js","assets/PanelControl-7df2cc45.js","assets/VFooter-00ceb151.js","assets/_commonjsHelpers-725317a4.js","assets/VApp-187cba23.js","assets/VApp-71d361fe.css","assets/VFooter-036e0f92.css","assets/VRow-9d2fd381.js","assets/VRow-25b4deb0.css","assets/VCol-fcab6052.js","assets/PanelControl-8369e211.css","assets/VForm-b35ddd23.js","assets/form-1a9ccaaf.js","assets/VTextField-cfb14247.js","assets/VTextField-f13cdd98.css","assets/VSelect-8aea1f06.js","assets/VChip-254359b9.js","assets/VChip-323b10eb.css","assets/VSelect-403ccefa.css","assets/VRadioGroup-eff34354.js","assets/VRadioGroup-3cbe3063.css","assets/VTextarea-e9078d95.js","assets/VTextarea-1e58334b.css","assets/VContainer-cae74a55.js","assets/FormMiembros-e3b0c442.css"]),meta:{auth:!1}},{path:"/:catchAll(.*)",name:"NotFound",component:()=>$t(()=>import("./NotFound-5bc34b0d.js"),["assets/NotFound-5bc34b0d.js","assets/VContainer-cae74a55.js","assets/VRow-9d2fd381.js","assets/VRow-25b4deb0.css","assets/VCol-fcab6052.js","assets/FormMiembros-e3b0c442.css"])}]}],Ab=iU({history:I2({}.BASE_URL),routes:aU});function cU(){return new Promise(t=>{const e=yl.onAuthStateChanged(n=>{e(),t(n)})})}Ab.beforeEach(async(t,e,n)=>{const r=await cU();t.path.toLowerCase()==="/login"&&r?n(""):t.matched.some(s=>s.meta.auth)&&!r?n("/Login"):n()});function lU(t){VF(),t.use(n2).use(r2).use(Ab)}const Rb=dP(xF);lU(Rb);Rb.mount("#app");export{vD as $,VU as A,xU as B,kU as C,we as D,FU as E,ct as F,Vt as G,KU as H,ku as I,UU as J,gn as K,LU as L,vF as M,fn as N,jU as O,kn as P,Ey as Q,IF as R,B0 as S,wP as T,PU as U,BL as V,yl as W,wU as X,Ed as Y,Qi as Z,YN as _,x as a,wl as a$,oh as a0,Hi as a1,ih as a2,IU as a3,PA as a4,SA as a5,Ul as a6,rM as a7,V0 as a8,RU as a9,EU as aA,ng as aB,Y0 as aC,PL as aD,Dd as aE,dL as aF,rg as aG,mL as aH,X0 as aI,SL as aJ,og as aK,MU as aL,gr as aM,df as aN,hF as aO,Ze as aP,dF as aQ,lE as aR,lo as aS,WA as aT,GU as aU,Bv as aV,bU as aW,dU as aX,gU as aY,SU as aZ,q0 as a_,TU as aa,$A as ab,ps as ac,hL as ad,mn as ae,sg as af,fL as ag,ig as ah,eg as ai,Ga as aj,Oi as ak,z0 as al,ag as am,Ni as an,lF as ao,rt as ap,O0 as aq,wF as ar,y0 as as,xo as at,NU as au,$0 as av,be as aw,pU as ax,bF as ay,fc as az,Me as b,j0 as b0,Tl as b1,Ym as b2,rL as b3,Pr as b4,Cd as b5,nn as b6,xu as b7,OM as b8,Ht as b9,BU as bA,CL as bB,cb as bC,ny as bD,rs as bE,Qd as bF,Wd as bG,CU as bH,qU as bI,hb as bJ,tF as bK,Ly as bL,T0 as bM,oM as bN,WU as bO,mU as bP,Ai as bQ,ln as bR,fh as bS,UA as bT,FA as bU,kl as bV,HU as bW,wi as bX,nM as ba,F0 as bb,jL as bc,OU as bd,Ke as be,cM as bf,bs as bg,$U as bh,TL as bi,bL as bj,A0 as bk,co as bl,AL as bm,E0 as bn,Sd as bo,kd as bp,Fv as bq,FL as br,Er as bs,kL as bt,tg as bu,xL as bv,ge as bw,Ha as bx,zU as by,aM as bz,_f as c,ke as d,uf as e,_R as f,hU as g,jl as h,ZM as i,ER as j,zM as k,jM as l,U as m,K0 as n,Bl as o,Kc as p,Lt as q,GA as r,fU as s,uU as t,QN as u,Xg as v,Tc as w,$M as x,Ct as y,DU as z};
