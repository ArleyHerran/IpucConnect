import{V as Qe,a as je,b as Xe,c as Ze,d as oe,_ as el}from"./PanelControl-7df2cc45.js";import{u as pe,b as w,m as z,d as se,o as f,f as B,a as e,w as o,n as ie,h as a,i as F,p as ze,v as Le,c as I,q as ue,j as C,s as E,V as X,F as W,g as ne,t as V,x as Z,y as i,l as ll,z as ol,A as al,B as tl,C as sl,D as il,E as nl,G as rl,H as dl,I as ul,J as Se,K as cl,L as ml,M as pl,N as Ie,O as fl,_ as ge,P as le,e as _e,k as be,Q as De,R as re,S as Oe,T as ce,U as vl,W as _l,X as gl,Y as Te,Z as xe,$ as bl,a0 as hl,a1 as yl,a2 as Vl,a3 as Cl,a4 as he,a5 as ye,a6 as xl}from"./index-90f7fbfb.js";import{e as kl,V as Dl,f as Ue,a as Ne,b as Il,c as El}from"./VTable-e331d311.js";import{V as Fe,a as U,s as J}from"./VFooter-00ceb151.js";import{V as wl}from"./VAlertTitle-e063ad04.js";import{V as $l}from"./VForm-b35ddd23.js";import{V as q}from"./VRow-9d2fd381.js";import{V as u}from"./VCol-fcab6052.js";import{V as ee}from"./VSelect-8aea1f06.js";import{m as Sl,a as Tl,u as Ul,V as Me,f as Nl,b as Fl,c as Ml,d as A}from"./VTextField-cfb14247.js";import{V as me,a as Ae}from"./VChip-254359b9.js";import{V as te,a as H}from"./VRadioGroup-eff34354.js";import{V as Al}from"./VTextarea-e9078d95.js";import"./VApp-187cba23.js";import"./_commonjsHelpers-725317a4.js";import"./form-1a9ccaaf.js";const Bl={class:"inputBox mr-2"},Pl=a("label",null,null,-1),Rl=["id","value","checked","onChange"],jl=["for"],zl=a("span",null,"Exportar a Excel",-1),Ll=a("span",{class:"d-none d-sm-flex"},"Agregar miembro",-1),Ol=a("thead",null,[a("tr",null,[a("th",{class:"text-left hide-on-small-screen column-divider"}," Documento "),a("th",{class:"text-left column-divider hide-on-small-screen"},"Nombre"),a("th",{class:"text-center column-divider hide-on-small-screen"},"Acciones"),a("th",{class:"text-center column-divider show-on-small-screen"},[a("h2",null,"Miembros")])])],-1),Hl={class:"hide-on-small-screen column-divider"},ql={class:"max-14-chars column-divider hide-on-small-screen"},Gl={class:"text-center column-divider hide-on-small-screen"},Jl={class:"column-divider show-on-small-screen",style:{height:"auto"}},Wl={__name:"TablaMiembros",setup(d){const r=pe(),_=w(1),n=w(20),v=w(""),$=w(r.miembros),p=w([]),b=w(!1),l=w([{title:"Hombres"},{title:"Mujeres"},{title:"Ancianos"},{title:"Adultos"},{title:"Jovenes"},{title:"Adolecentes"},{title:"Niños"}]),h=z(()=>S.value.sort((D,x)=>D.numeroDocumento<x.numeroDocumento?-1:D.numeroDocumento>x.numeroDocumento?1:0)),S=z(()=>{_.value=1;const D=new RegExp(v.value,"i");return El($.value,p).filter(y=>D.test(y.nombre)||D.test(y.numeroDocumento)||D.test(y.apellido))}),N=z(()=>Math.ceil(T.value/n.value)),k=z(()=>{const D=(_.value-1)*n.value,x=D+n.value;return h.value.slice(D,x)}),T=z(()=>S.value.length);function R(D){_.value=D}function Y(D){p.value.includes(D)?p.value=p.value.filter(x=>x!==D):p.value.push(D)}return se(()=>r.miembros,(D,x)=>{$.value=D}),(D,x)=>(f(),B("div",null,[e(X,{flat:"",color:"transparent"},{default:o(()=>[e(ie,{class:"d-flex align-center conte1"},{default:o(()=>[a("div",Bl,[a("label",null,[e(F,{icon:"mdi-magnify",size:"20"})]),ze(a("input",{"onUpdate:modelValue":x[0]||(x[0]=y=>v.value=y),type:"text",placeholder:"Nombre o No.documento",maxlength:"5"},null,512),[[Le,v.value]]),Pl]),e(Qe,{modelValue:b.value,"onUpdate:modelValue":x[2]||(x[2]=y=>b.value=y),"close-on-content-click":!1,location:"end"},{activator:o(({props:y})=>[p.value.length>0?(f(),I(je,ue({key:0},y,{content:k.value.length,class:"mr-8 elevation-1",color:"#263238"}),{default:o(()=>[e(F,{class:"icon",color:"#546E7A"},{default:o(()=>[C("mdi-filter-outline")]),_:1})]),_:2},1040,["content"])):E("",!0),p.value.length===0?(f(),I(F,ue({key:1,class:"icon mr-5 elevation-1",color:"#546E7A"},y),{default:o(()=>[C("mdi-filter")]),_:2},1040)):E("",!0)]),default:o(()=>[e(X,{"min-width":"auto"},{default:o(()=>[e(wl,null,{default:o(()=>[C("Filtro")]),_:1}),e(Fe),e(Xe,null,{default:o(()=>[(f(!0),B(W,null,ne(l.value,(y,j)=>(f(),I(Ze,{style:{},key:j},{default:o(()=>[a("input",{type:"checkbox",id:y.title,value:y.title,checked:p.value.includes(y.title),onChange:O=>Y(y.title)},null,40,Rl),a("label",{for:y.title,style:{"margin-left":"8px",width:"100%","text-decoration":"underline gray","text-decoration-thickness":"1px","text-decoration-style":"underline"}},V(y.title),9,jl)]),_:2},1024))),128))]),_:1}),e(Z,{class:"justify-center"},{default:o(()=>[e(U,{color:"#78909C","prepend-icon":"mdi-close",variant:"flat",onClick:x[1]||(x[1]=y=>{p.value=[],b.value=!1}),size:"small",style:{"text-transform":"none"}},{default:o(()=>[C(" Limpiar ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(oe,{class:"d-none d-sm-flex"}),a("button",{class:"mb-2 mr-2 btnExcel elevation-1 d-none d-sm-flex",color:"success",onClick:x[3]||(x[3]=y=>i(kl)(k.value))},[e(F,null,{default:o(()=>[C("mdi-file-excel")]),_:1}),zl]),a("button",{class:"mb-2 mr-2 btnAdd elevation-1",color:"primary",onClick:x[4]||(x[4]=y=>i(r).formMiembros={display:!0,mode:"add",id:""})},[e(F,null,{default:o(()=>[C("mdi-plus")]),_:1}),Ll])]),_:1}),e(Fe),e(Dl,{density:"compact","fixed-header":"","sort-by":"Codigo","sort-desc":!1,class:"small-font-table",style:{border:"0px solid #767575","border-bottom":"0px"},height:"500px"},{default:o(()=>[Ol,a("tbody",null,[(f(!0),B(W,null,ne(k.value,(y,j)=>(f(),B("tr",{key:j,class:"selectFila"},[a("td",Hl,V(y.numeroDocumento),1),a("td",ql,V(i(Ue)(y)),1),a("td",Gl,[e(F,{class:"mr-2",color:"blue",title:"Editar",style:{cursor:"pointer"},onClick:O=>i(r).formMiembros={display:!0,mode:"edit",id:y.numeroDocumento}},{default:o(()=>[C("mdi-pencil")]),_:2},1032,["onClick"]),e(F,{class:"mr-2",color:"green",title:"Ver",style:{cursor:"pointer"},onClick:O=>i(r).viewRegistro={display:!0,id:y.numeroDocumento}},{default:o(()=>[C("mdi-eye")]),_:2},1032,["onClick"]),e(F,{class:"",color:"#EF5350",title:"Eliminar",style:{cursor:"pointer"},onClick:O=>i(Ne)(y)},{default:o(()=>[C("mdi-delete")]),_:2},1032,["onClick"])]),a("td",Jl,[a("div",null,[e(ie,{style:{"margin-top":"0px"}},{default:o(()=>[C(" Nombre:"+V(i(Ue)(y)),1)]),_:2},1024),e(ll,{style:{"margin-top":"-15px"}},{default:o(()=>[C(" Documento:"+V(y.numeroDocumento),1)]),_:2},1024),e(Z,null,{default:o(()=>[e(oe),e(F,{class:"mr-2",color:"blue",title:"Editar",style:{cursor:"pointer"},onClick:O=>i(r).formMiembros={display:!0,mode:"edit",id:y.numeroDocumento}},{default:o(()=>[C("mdi-pencil")]),_:2},1032,["onClick"]),e(F,{class:"mr-2",color:"green",title:"Ver",style:{cursor:"pointer"},onClick:O=>i(r).viewRegistro={display:!0,id:y.numeroDocumento}},{default:o(()=>[C("mdi-eye")]),_:2},1032,["onClick"]),e(F,{class:"",color:"#EF5350",title:"Eliminar",style:{cursor:"pointer"},onClick:O=>i(Ne)(y)},{default:o(()=>[C("mdi-delete")]),_:2},1032,["onClick"])]),_:2},1024)])])]))),128))])]),_:1}),e(Il,{class:"small-font-table",modelValue:_.value,"onUpdate:modelValue":x[5]||(x[5]=y=>_.value=y),length:N.value,"total-visible":5,ellipsis:null,"boundary-links":!1,onInput:R,"prev-icon":"mdi-menu-left","next-icon":"mdi-menu-right",style:{border:"1px solid #767575",color:"rgb(0, 0, 0)"}},null,8,["modelValue","length"])]),_:1})]))}},Be=async(d,r)=>{try{const _=ol(al,d),n=await tl(_,r);return[!0,await sl(n.ref)]}catch(_){return[!1,_]}};const Yl=il({chips:Boolean,counter:Boolean,counterSizeString:{type:String,default:"$vuetify.fileInput.counterSize"},counterString:{type:String,default:"$vuetify.fileInput.counter"},multiple:Boolean,showSize:{type:[Boolean,Number],default:!1,validator:d=>typeof d=="boolean"||[1e3,1024].includes(d)},...Sl({prependIcon:"$file"}),modelValue:{type:Array,default:()=>[],validator:d=>nl(d).every(r=>r!=null&&typeof r=="object")},...Tl({clearable:!0})},"VFileInput"),He=rl()({name:"VFileInput",inheritAttrs:!1,props:Yl(),emits:{"click:control":d=>!0,"mousedown:control":d=>!0,"update:focused":d=>!0,"update:modelValue":d=>!0},setup(d,r){let{attrs:_,emit:n,slots:v}=r;const{t:$}=dl(),p=ul(d,"modelValue"),{isFocused:b,focus:l,blur:h}=Ul(d),S=z(()=>typeof d.showSize!="boolean"?d.showSize:void 0),N=z(()=>(p.value??[]).reduce((m,c)=>{let{size:t=0}=c;return m+t},0)),k=z(()=>Se(N.value,S.value)),T=z(()=>(p.value??[]).map(m=>{const{name:c="",size:t=0}=m;return d.showSize?`${c} (${Se(t,S.value)})`:c})),R=z(()=>{var c;const m=((c=p.value)==null?void 0:c.length)??0;return d.showSize?$(d.counterSizeString,m,k.value):$(d.counterString,m)}),Y=w(),D=w(),x=w(),y=z(()=>b.value||d.active),j=z(()=>["plain","underlined"].includes(d.variant));function O(){var m;x.value!==document.activeElement&&((m=x.value)==null||m.focus()),b.value||l()}function Ve(m){fe(m)}function Ce(m){n("mousedown:control",m)}function fe(m){var c;(c=x.value)==null||c.click(),n("click:control",m)}function ve(m){m.stopPropagation(),O(),Ie(()=>{p.value=[],fl(d["onClick:clear"],m)})}return se(p,m=>{(!Array.isArray(m)||!m.length)&&x.value&&(x.value.value="")}),cl(()=>{const m=!!(v.counter||d.counter),c=!!(m||v.details),[t,s]=ml(_),[{modelValue:M,...P}]=Me.filterProps(d),[de]=Nl(d);return e(Me,ue({ref:Y,modelValue:p.value,"onUpdate:modelValue":G=>p.value=G,class:["v-file-input",{"v-text-field--plain-underlined":j.value},d.class],style:d.style,"onClick:prepend":Ve},t,P,{centerAffix:!j.value,focused:b.value}),{...v,default:G=>{let{id:ae,isDisabled:K,isDirty:Ee,isReadonly:we,isValid:Ge}=G;return e(Fl,ue({ref:D,"prepend-icon":d.prependIcon,onMousedown:Ce,onClick:fe,"onClick:clear":ve,"onClick:prependInner":d["onClick:prependInner"],"onClick:appendInner":d["onClick:appendInner"]},de,{id:ae.value,active:y.value||Ee.value,dirty:Ee.value,disabled:K.value,focused:b.value,error:Ge.value===!1}),{...v,default:Je=>{var $e;let{props:{class:We,...Ye}}=Je;return e(W,null,[e("input",ue({ref:x,type:"file",readonly:we.value,disabled:K.value,multiple:d.multiple,name:d.name,onClick:Q=>{Q.stopPropagation(),we.value&&Q.preventDefault(),O()},onChange:Q=>{if(!Q.target)return;const Ke=Q.target;p.value=[...Ke.files??[]]},onFocus:O,onBlur:h},Ye,s),null),e("div",{class:We},[!!(($e=p.value)!=null&&$e.length)&&(v.selection?v.selection({fileNames:T.value,totalBytes:N.value,totalBytesReadable:k.value}):d.chips?T.value.map(Q=>e(me,{key:Q,size:"small",color:d.color},{default:()=>[Q]})):T.value.join(", "))])])}})},details:c?G=>{var ae,K;return e(W,null,[(ae=v.details)==null?void 0:ae.call(v,G),m&&e(W,null,[e("span",null,null),e(Ml,{active:!!((K=p.value)!=null&&K.length),value:R.value},v.counter)])])}:void 0})}),pl({},Y,D,x)}}),L=d=>(he("data-v-9060d7ba"),d=d(),ye(),d),Kl={class:"text-center pa-4"},Ql={style:{display:"flex"}},Xl={class:"sectionA d-flex flex-column align-center justify-center",style:{width:"250px",margin:"auto","margin-bottom":"26px"}},Zl=L(()=>a("h2",{class:"mb-4"},"Fotografía",-1)),eo={class:"d-flex justify-space-between align-center"},lo={class:"text-center mx-2"},oo=L(()=>a("div",{style:{"font-size":"10px","margin-top":"2px",color:"gray"}}," Seleccionar archivo ",-1)),ao={class:"text-center mx-2"},to=L(()=>a("div",{style:{"font-size":"10px","margin-top":"2px",color:"gray"}}," Tomar foto ",-1)),so={class:"sectionA"},io=L(()=>a("h2",null,"Información Personal",-1)),no={class:"sectionA"},ro=L(()=>a("h2",null,"Contacto",-1)),uo={class:"sectionA"},co=L(()=>a("h2",null,"Cuestionario",-1)),mo=L(()=>a("p",null,"¿Pasó por Tribunal Eclesiástico de la Ipuc?",-1)),po={style:{display:"flex"}},fo=L(()=>a("p",null,"¿Cual es el concepto del tribunal Eclesiástico",-1)),vo={style:{display:"flex"}},_o=L(()=>a("p",null,"¿Tiene usted alguna discapacidad?",-1)),go={style:{display:"flex"}},bo=L(()=>a("p",{class:"mb-2"},"¿Cual es el sexo?",-1)),ho={style:{display:"flex"}},yo=L(()=>a("p",null,"¿Es usted bautizado/a?",-1)),Vo={style:{display:"flex"}},Co=L(()=>a("p",null,"¿Es usted sellado/a con el Espiritu Santo?",-1)),xo={style:{display:"flex"}},ko={class:"sectionA"},Do=L(()=>a("h2",null,"Infromacion pastoral",-1)),Pe="green",Io={__name:"FormMiembroNuevo",setup(d){const r=pe(),_=w(!1);w(!1);const n=w(!1),v=w(null),$=w(null),p=z(()=>{if(l.soporteTribunal){const c=l.soporteTribunal.split("/");return c[c.length-1].split("?")[0]}return"No se ha cargado ningún archivo"});var b=le({});le({});const l=le({historiaCargos:[],sede:"",datosRegistro:{timestamp:null,sede:{}},historiaTraslados:[],foto:"",estado:"Activo",tipoDocumento:"",numeroDocumento:"",nombre:"",apellido:"",rol:"",fechaNacimiento:"",lugarNacimineto:"",celular:"",email:"",direccion:"",nivelAcademico:"",ocupacion:"",discapacitado:"",discapacidad:"",descripcionDiscapacidad:"",sexo:"",estadoCivil:"",enteMatrimonial:"",tribunalEclesiastico:"",conceptoTribunal:"",soporteTribunal:null,nombreConyuge:"",listaHijos:[],esBautizado:!1,fechaBautismo:"",lugarBautismo:"",nombrePastorBautismo:"",espiritu:"",fechaEspiritu:"",cargos:[],referenciaPastoral:""}),h=["Educación No aplica","Educación Básica Primaria","Educación Básica Secundaria","Educación Media o Bachillerato","Educación Técnica","Educación Tecnológica","Formación Profesional","Sin Educación (No sabe leer)"],S=["Física","Visual","Auditiva","Intelectual","Otra"];se(()=>r.formMiembros,c=>{if(ve(),R(),l.estado="Activo",c.mode==="edit"){const t=r.miembros.find(s=>s.numeroDocumento===c.id);Object.keys(t).forEach(s=>{l.hasOwnProperty(s)&&(l[s]=t[s])}),l.foto===""?r.selectImg.urlImg=ce:r.selectImg.urlImg=l.foto}}),_e(()=>{r.data});const N=async()=>{if(!(await v.value.validate()).valid){J("Validación requerida","Hay uno o más campos vacíos. Por favor, revisa el formulario.","error");return}if(_.value=!0,r.progre=!0,r.selectImg.img!=null){const t=r.selectImg.img,s=l.numeroDocumento+".jpg",M="FotosMiembros/"+s,P=new File([t],s,{type:t.type}),[de,G]=await Be(M,P);if(!de){J("Error","Hubo un problema al subir la imagen. Inténtalo de nuevo.","error");return}l.foto=G}if($.value!=null){const t=$.value[0],s=[".pdf"],M=t.name.slice(t.name.lastIndexOf(".")).toLowerCase();if(!s.includes(M)){J("Tipo de archivo no permitido","Solo se permiten archivos Word (.docx) o PDF (.pdf).","error");return}const P=l.numeroDocumento+M,de="SoportesTribunal/"+P,G=new File([t],P,{type:t.type}),[ae,K]=await Be(de,G);if(!ae){console.error("Error al subir el archivo:",K),J("Error","Hubo un problema al subir el archivo. Inténtalo de nuevo.","error");return}l.soporteTribunal=K}if(r.formMiembros.mode==="add"){if(l.datosRegistro.timestamp=vl(),l.sede=_l.currentUser.email,l.datosRegistro.sede=r.data,await Y(miembro.numeroDocumento))return;k(miembro)}else T()};async function k(c){try{const t=await gl(Te(xe,"Membresia",c.numeroDocumento),c);R(),r.progre=!1,_.value=!1,r.formMiembros={display:!1,mode:"",id:""},J("Éxito!","El registro se ha guardado correctamente.","success")}catch(t){r.progre=!1,_.value=!1,J("Error!","Hubo un problema al guardar el registro en Firebase."+t,"error")}}async function T(){try{const c=Te(xe,"Membresia",r.formMiembros.id);await bl(c,l),r.progre=!1,_.value=!1,R(),r.formMiembros={display:!1,mode:"",id:""},J("Éxito!","El registro se ha actualizado correctamente.","success")}catch{r.progre=!1,_.value=!1,J("Error!","Hubo un problema al actualizar el registro en Firebase.","error")}}function R(){for(const c in l)Array.isArray(l[c])?l[c]=[]:typeof l[c]=="string"?c!=="estado"&&(l[c]=""):typeof l[c]=="number"&&(l[c]=null)}se(()=>l,c=>{c.discapacitado==="No"&&(l.discapacidad=null,l.descripcionDiscapacidad=null),c.discapacidad!=="Otra"&&(l.descripcionDiscapacidad=null),c.esBautizado==="No"&&(l.fechaBautismo=null,l.nombrePastorBautismo=null,l.lugarBautismo=null),c.tribunalEclesiastico!=="Sí"&&(l.conceptoTribunal=null,l.soporteTribunal=null),c.estadoCivil!=="Casado/a"&&c.estadoCivil!=="Union libre"&&(l.nombreConyuge=null,l.enteMatrimonial=null),c.estadoCivil!=="Divorciado/a"&&(l.tribunalEclesiastico=null,l.conceptoTribunal=null),c.espiritu!=="Sí"&&(l.fechaEspiritu=null)},{deep:!0});async function Y(c){const t=hl(Vl(xe,"Membresia"),yl("numeroDocumento","==",c));return(await Cl(t)).empty?!1:(r.progre=!1,_.value=!1,J("Error!","Ya existe un registro con este número de documento!","error"),!0)}var D=le({text:"",isDelet:!0,color:"green",fecha:new Date}),x=le({text:"",isDelet:!0,color:"green"});const y=w(-1),j=w(!1),O=()=>{j.value=!0,setTimeout(()=>{if(D.text.trim()!==""){const c={...D};l.cargos.unshift(c),D.text="",y.value=0}j.value=!1},500)},Ve=()=>{j.value=!0,setTimeout(()=>{if(x.text.trim()!==""){const c={...x};l.listaHijos.unshift(c),x.text="",y.value=0}j.value=!1},500)},Ce=c=>{l.cargos.splice(c,1)},fe=c=>{l.listaHijos.splice(c,1)};function ve(c){r.selectImg.img=null,r.selectImg.urlImg=ce}function m(c,t,s){const M=[];return c&&M.push(P=>!!P||"Este campo no puede estar vacío."),t!==null&&M.push(P=>P.length<=t||`Este campo no puede tener más de ${t} caracteres.`),s&&M.push(P=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(P)||"Ingrese un correo electrónico válido."),M}return(c,t)=>(f(),B("div",Kl,[e(re,{modelValue:i(r).formMiembros.display,"onUpdate:modelValue":t[41]||(t[41]=s=>i(r).formMiembros.display=s),transition:"dialog-bottom-transition",fullscreen:"",persistent:""},{default:o(()=>[e(X,null,{default:o(()=>[e(be,{class:"dialog-title elevation-4",style:{background:"#eceff1"}},{default:o(()=>[a("div",Ql,[a("h2",null,V(i(r).formMiembros.mode==="add"?"Registro":"Editar"),1),e(oe),e(U,{onClick:t[0]||(t[0]=s=>i(r).formMiembros.display=!1),"append-icon":"mdi-close",variant:"text",class:"text-none"},{default:o(()=>[C(" Cerrar ")]),_:1})])]),_:1}),e(ie,null,{default:o(()=>[e($l,{ref_key:"form1",ref:v,onSubmit:N},{default:o(()=>[a("section",Xl,[Zl,i(r).selectImg.img!==null?(f(),I(je,{key:0,overlap:"",color:"error"},{badge:o(()=>[e(F,{icon:"mdi-close",size:"small",onClick:ve,style:{cursor:"pointer"}})]),default:o(()=>[e(De,{image:i(r).selectImg.urlImg,size:"120",style:{cursor:"pointer"},onClick:t[1]||(t[1]=s=>n.value=!0)},null,8,["image"])]),_:1})):E("",!0),i(r).selectImg.img==null?(f(),I(De,{key:1,image:i(r).selectImg.urlImg,size:"120",style:{cursor:"pointer"},onClick:t[2]||(t[2]=s=>n.value=!0)},null,8,["image"])):E("",!0),a("div",eo,[a("div",lo,[e(U,{size:"x-small",class:"mt-2",icon:"",onClick:t[3]||(t[3]=s=>i(r).selectImg.display=!0)},{default:o(()=>[e(F,null,{default:o(()=>[C("mdi-folder-image")]),_:1})]),_:1}),oo]),a("div",ao,[e(U,{size:"x-small",class:"mt-2",icon:"",onClick:t[4]||(t[4]=s=>i(r).tomarFoto=!0)},{default:o(()=>[e(F,null,{default:o(()=>[C("mdi-camera")]),_:1})]),_:1}),to])]),e(re,{modelValue:n.value,"onUpdate:modelValue":t[6]||(t[6]=s=>n.value=s),"max-width":"300px"},{default:o(()=>[e(X,null,{default:o(()=>[e(Oe,{src:i(r).selectImg.urlImg,"aspect-ratio":"1"},null,8,["src"]),e(Z,null,{default:o(()=>[e(U,{text:"",color:"primary",onClick:t[5]||(t[5]=s=>n.value=!1)},{default:o(()=>[C(" Cerrar ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),a("section",so,[io,e(q,null,{default:o(()=>[e(u,{cols:"12",md:"4",sm:"6"},{default:o(()=>[e(ee,{modelValue:l.tipoDocumento,"onUpdate:modelValue":t[7]||(t[7]=s=>l.tipoDocumento=s),items:["Cedula de Ciudadania","Targeta de identidad","Registro Civil","Cedula Extrangera"],label:"Tipo de documento",rules:m(!0,30)},null,8,["modelValue","rules"])]),_:1}),e(u,{cols:"12",md:"4",sm:"6"},{default:o(()=>[e(A,{disabled:i(r).formMiembros.mode=="edit",modelValue:l.numeroDocumento,"onUpdate:modelValue":t[8]||(t[8]=s=>l.numeroDocumento=s),label:"Número de documento",type:"number",rules:[...m(!0,30),s=>/^\d*$/.test(s)||"Solo se permiten números del 0 al 9. sin puntos ni comas"]},null,8,["disabled","modelValue","rules"])]),_:1}),e(u,{cols:"12",md:"4",sm:"6"},{default:o(()=>[e(A,{modelValue:l.nombre,"onUpdate:modelValue":t[9]||(t[9]=s=>l.nombre=s),label:"Nombre",rules:m(!0,30)},null,8,["modelValue","rules"])]),_:1}),e(u,{cols:"12",md:"4",sm:"6"},{default:o(()=>[e(A,{modelValue:l.apellido,"onUpdate:modelValue":t[10]||(t[10]=s=>l.apellido=s),label:"Apellido",rules:m(!0,30)},null,8,["modelValue","rules"])]),_:1}),e(u,{cols:"12",md:"4",sm:"6"},{default:o(()=>[e(ee,{modelValue:l.rol,"onUpdate:modelValue":t[11]||(t[11]=s=>l.rol=s),items:["Pastor","Miembro","Converso"],label:"Rol",rules:m(!0,30)},null,8,["modelValue","rules"])]),_:1}),e(u,{cols:"12",md:"4",sm:"6"},{default:o(()=>[e(ee,{modelValue:l.estado,"onUpdate:modelValue":t[12]||(t[12]=s=>l.estado=s),items:["Activo","Inhabilitado"],label:"Estado",disabled:!0},null,8,["modelValue"])]),_:1}),e(u,{cols:"12",md:"4",sm:"6"},{default:o(()=>[e(A,{modelValue:l.fechaNacimiento,"onUpdate:modelValue":t[13]||(t[13]=s=>l.fechaNacimiento=s),label:"Fecha de Nacimiento",type:"date",rules:m(!0,30),outlined:"",dense:"",clearable:""},null,8,["modelValue","rules"])]),_:1}),e(u,{cols:"12",md:"4",sm:"6"},{default:o(()=>[e(A,{modelValue:l.lugarNacimineto,"onUpdate:modelValue":t[14]||(t[14]=s=>l.lugarNacimineto=s),label:"Lugar de nacimiento",rules:m(!0,30)},null,8,["modelValue","rules"])]),_:1})]),_:1})]),a("section",no,[ro,e(q,null,{default:o(()=>[e(u,{cols:"12",md:"4",sm:"6"},{default:o(()=>[e(A,{modelValue:l.celular,"onUpdate:modelValue":t[15]||(t[15]=s=>l.celular=s),label:"Celular",type:"number",rules:m(!0,12,!1)},null,8,["modelValue","rules"])]),_:1}),e(u,{cols:"12",md:"4",sm:"6"},{default:o(()=>[e(A,{modelValue:l.email,"onUpdate:modelValue":t[16]||(t[16]=s=>l.email=s),label:"Correo",type:"email",rules:[s=>!s||/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s)||"Ingrese un correo electrónico válido."]},null,8,["modelValue","rules"])]),_:1}),e(u,{cols:"12",md:"4",sm:"6"},{default:o(()=>[e(A,{modelValue:l.direccion,"onUpdate:modelValue":t[17]||(t[17]=s=>l.direccion=s),label:"Dirección",rules:m(!1,50,!1)},null,8,["modelValue","rules"])]),_:1})]),_:1})]),a("section",uo,[co,e(q,null,{default:o(()=>[e(u,{cols:"12",md:"4",sm:"6"},{default:o(()=>[e(ee,{modelValue:l.nivelAcademico,"onUpdate:modelValue":t[18]||(t[18]=s=>l.nivelAcademico=s),items:h,label:"Nivel académico",rules:m(!0,50,!1)},null,8,["modelValue","rules"])]),_:1}),e(u,{cols:"12",md:"4",sm:"6"},{default:o(()=>[e(A,{modelValue:l.ocupacion,"onUpdate:modelValue":t[19]||(t[19]=s=>l.ocupacion=s),label:"Ocupación",type:"txt",rules:m(!0,70,!1)},null,8,["modelValue","rules"])]),_:1}),e(u,{cols:"12",md:"4",sm:"6"},{default:o(()=>[e(ee,{modelValue:l.estadoCivil,"onUpdate:modelValue":t[20]||(t[20]=s=>l.estadoCivil=s),items:["Casado/a","Soltero/a","Union libre","Viudo/a","Divorciado/a"],label:"Estado Civil",rules:m(!0,30,!1)},null,8,["modelValue","rules"])]),_:1}),l.estadoCivil==="Casado/a"||l.estadoCivil==="Union libre"?(f(),I(u,{key:0,cols:"12",md:"4",sm:"6"},{default:o(()=>[e(A,{modelValue:l.nombreConyuge,"onUpdate:modelValue":t[21]||(t[21]=s=>l.nombreConyuge=s),label:"Nombre del conyuge",type:"txt",rules:l.estadoCivil==="Casado/a"||l.estadoCivil==="Union libre"?m(!0,50):[]},null,8,["modelValue","rules"])]),_:1})):E("",!0),e(u,{cols:"12",md:"4",sm:"6"},{default:o(()=>[e(A,{modelValue:i(x).text,"onUpdate:modelValue":t[22]||(t[22]=s=>i(x).text=s),label:"Nombre de hijos",required:""},{append:o(()=>[e(U,{loading:j.value,class:"flex-grow-1",height:"48",color:i(x).text!==""?"success":"",onClick:Ve},{default:o(()=>[e(F,{icon:"mdi-check"})]),_:1},8,["loading","color"])]),_:1},8,["modelValue"]),e(Ae,{filter:""},{default:o(()=>[(f(!0),B(W,null,ne(l.listaHijos,(s,M)=>(f(),I(me,{key:M,color:M===y.value?Pe:""},{default:o(()=>[C(V(s.text)+" ",1),e(F,{onClick:P=>fe(M)},{default:o(()=>[C("mdi-close")]),_:2},1032,["onClick"])]),_:2},1032,["color"]))),128))]),_:1})]),_:1}),l.estadoCivil==="Casado/a"?(f(),I(u,{key:1,cols:"12",md:"4",sm:"6"},{default:o(()=>[e(ee,{modelValue:l.enteMatrimonial,"onUpdate:modelValue":t[23]||(t[23]=s=>l.enteMatrimonial=s),items:["Por Notaria","Por la IPUC"],label:"Ente matrimonial",rules:l.estadoCivil==="Casado/a"?m(!0,50):[]},null,8,["modelValue","rules"])]),_:1})):E("",!0),l.estadoCivil==="Divorciado/a"?(f(),I(u,{key:2,cols:"12",md:"4",sm:"6"},{default:o(()=>[e(te,{modelValue:l.tribunalEclesiastico,"onUpdate:modelValue":t[24]||(t[24]=s=>l.tribunalEclesiastico=s),inline:"",rules:l.estadoCivil==="Divorciado/a"?m(!0,50):[]},{default:o(()=>[mo,a("div",po,[e(H,{label:"Sí",value:"Sí"}),e(H,{label:"No",value:"No"})])]),_:1},8,["modelValue","rules"])]),_:1})):E("",!0),l.tribunalEclesiastico==="Sí"?(f(),I(u,{key:3,cols:"12",md:"4",sm:"6"},{default:o(()=>[e(te,{modelValue:l.conceptoTribunal,"onUpdate:modelValue":t[25]||(t[25]=s=>l.conceptoTribunal=s),inline:"",rules:l.tribunalEclesiastico==="Sí"?m(!0,50):[]},{default:o(()=>[fo,a("div",vo,[e(H,{label:"Favorable",value:"Favorable"}),e(H,{label:"Desfavorable",value:"Desfavorable"})])]),_:1},8,["modelValue","rules"])]),_:1})):E("",!0),l.tribunalEclesiastico==="Sí"?(f(),I(u,{key:4,cols:"12",md:"4",sm:"6"},{default:o(()=>[i(r).formMiembros.modo==="edit"?(f(),I(A,{key:0,label:"Soporte actual",accept:".pdf",modelValue:p.value,"onUpdate:modelValue":t[26]||(t[26]=s=>p.value=s),outlined:"",dense:"",disabled:""},null,8,["modelValue"])):E("",!0),e(He,{label:l.soporteTribunal?"Cambiar soporte":"Adjuntar soporte Eclesiástico",accept:".pdf",modelValue:$.value,"onUpdate:modelValue":t[27]||(t[27]=s=>$.value=s),outlined:"",dense:""},null,8,["label","modelValue"])]),_:1})):E("",!0),e(u,{cols:"12",md:"4",sm:"6"},{default:o(()=>[e(te,{modelValue:l.discapacitado,"onUpdate:modelValue":t[28]||(t[28]=s=>l.discapacitado=s),inline:"",rules:m(!0,30,!1)},{default:o(()=>[_o,a("div",go,[e(H,{label:"Sí",value:"Sí"}),e(H,{label:"No",value:"No"})])]),_:1},8,["modelValue","rules"])]),_:1}),l.discapacitado==="Sí"?(f(),I(u,{key:5,cols:"12",md:"4",sm:"6"},{default:o(()=>[e(ee,{modelValue:l.discapacidad,"onUpdate:modelValue":t[29]||(t[29]=s=>l.discapacidad=s),items:S,label:"Tipo de discapacidad",rules:l.discapacitado==="Sí"?m(!0,50):[]},null,8,["modelValue","rules"])]),_:1})):E("",!0),l.discapacidad==="Otra"?(f(),I(u,{key:6,cols:"12",md:"4",sm:"6"},{default:o(()=>[e(A,{modelValue:l.descripcionDiscapacidad,"onUpdate:modelValue":t[30]||(t[30]=s=>l.descripcionDiscapacidad=s),label:"Descripcion de Discapacidad",rules:l.discapacidad==="Otra"?m(!0,130):[]},null,8,["modelValue","rules"])]),_:1})):E("",!0),e(u,{cols:"12",md:"4",sm:"6"},{default:o(()=>[e(te,{modelValue:l.sexo,"onUpdate:modelValue":t[31]||(t[31]=s=>l.sexo=s),inline:"",rules:m(!0,30,!1)},{default:o(()=>[bo,a("div",ho,[e(H,{label:"Hombre",value:"Hombre"}),e(H,{label:"Mujer",value:"Mujer"})])]),_:1},8,["modelValue","rules"])]),_:1}),e(u,{cols:"12",md:"4",sm:"6"},{default:o(()=>[e(te,{modelValue:l.esBautizado,"onUpdate:modelValue":t[32]||(t[32]=s=>l.esBautizado=s),inline:"",rules:m(!0,30,!1)},{default:o(()=>[yo,a("div",Vo,[e(H,{label:"Sí",value:"Sí"}),e(H,{label:"No",value:"No"})])]),_:1},8,["modelValue","rules"])]),_:1}),l.esBautizado==="Sí"?(f(),I(u,{key:7,cols:"12",md:"4",sm:"6"},{default:o(()=>[e(A,{modelValue:l.nombrePastorBautismo,"onUpdate:modelValue":t[33]||(t[33]=s=>l.nombrePastorBautismo=s),label:"Nombre del pastor que lo bautizó",rules:l.esBautizado==="Sí"?m(!0,50):[]},null,8,["modelValue","rules"])]),_:1})):E("",!0),l.esBautizado==="Sí"?(f(),I(u,{key:8,cols:"12",md:"4",sm:"6"},{default:o(()=>[e(A,{modelValue:l.fechaBautismo,"onUpdate:modelValue":t[34]||(t[34]=s=>l.fechaBautismo=s),label:"Fecha de Bautizmo",type:"date",rules:l.esBautizado==="Sí"?m(!0,30):[],outlined:"",dense:"",clearable:""},null,8,["modelValue","rules"])]),_:1})):E("",!0),l.esBautizado==="Sí"?(f(),I(u,{key:9,cols:"12",md:"4",sm:"6"},{default:o(()=>[e(A,{modelValue:l.lugarBautismo,"onUpdate:modelValue":t[35]||(t[35]=s=>l.lugarBautismo=s),label:"Lugar de  bautismo",rules:l.esBautizado==="Sí"?m(!0,50):[]},null,8,["modelValue","rules"])]),_:1})):E("",!0),e(u,{cols:"12",md:"4",sm:"6"},{default:o(()=>[e(te,{modelValue:l.espiritu,"onUpdate:modelValue":t[36]||(t[36]=s=>l.espiritu=s),inline:"",rules:m(!0,30,!1)},{default:o(()=>[Co,a("div",xo,[e(H,{label:"Sí",value:"Sí"}),e(H,{label:"No",value:"No"})])]),_:1},8,["modelValue","rules"])]),_:1}),l.espiritu==="Sí"?(f(),I(u,{key:10,cols:"12",md:"4",sm:"6"},{default:o(()=>[e(A,{modelValue:l.fechaEspiritu,"onUpdate:modelValue":t[37]||(t[37]=s=>l.fechaEspiritu=s),label:"Fecha de Recepción Espíritu Santo",type:"date",rules:l.espiritu==="Sí"?m(!0,30):[],outlined:"",dense:"",clearable:""},null,8,["modelValue","rules"])]),_:1})):E("",!0)]),_:1})]),a("section",ko,[Do,e(A,{modelValue:i(D).text,"onUpdate:modelValue":t[38]||(t[38]=s=>i(D).text=s),label:"Cargo",required:""},{append:o(()=>[e(U,{loading:j.value,class:"flex-grow-1",height:"48",color:i(D).text!==""?"success":"",onClick:O},{default:o(()=>[e(F,{icon:"mdi-check"})]),_:1},8,["loading","color"])]),_:1},8,["modelValue"]),e(Ae,{filter:""},{default:o(()=>[(f(!0),B(W,null,ne(l.cargos,(s,M)=>(f(),I(me,{key:M,color:M===y.value?Pe:""},{default:o(()=>[C(V(s.text)+" ",1),e(F,{onClick:P=>Ce(M)},{default:o(()=>[C("mdi-close")]),_:2},1032,["onClick"])]),_:2},1032,["color"]))),128))]),_:1}),e(Al,{modelValue:l.referenciaPastoral,"onUpdate:modelValue":t[39]||(t[39]=s=>l.referenciaPastoral=s),label:"Referencia Pastoral",counter:"500"},null,8,["modelValue"])])]),_:1},512)]),_:1}),e(Z,{class:"dialog-actions"},{default:o(()=>[e(oe),e(U,{onClick:t[40]||(t[40]=s=>i(r).formMiembros.display=!1),style:{"text-transform":"none"}},{default:o(()=>[C(V(i(r).formMiembros.mode==="view"?"Cerrar":"Cancelar"),1)]),_:1}),i(r).formMiembros.mode==="add"?(f(),I(U,{key:0,color:"primary",onClick:N,disabled:_.value,style:{"text-transform":"none"}},{default:o(()=>[C(" Guardar ")]),_:1},8,["disabled"])):E("",!0),i(r).formMiembros.mode==="edit"?(f(),I(U,{key:1,color:"primary",onClick:N,disabled:JSON.stringify(i(b))===JSON.stringify(l),style:{"text-transform":"none"}},{default:o(()=>[C(" Guardar cambios ")]),_:1},8,["disabled"])):E("",!0)]),_:1})]),_:1})]),_:1},8,["modelValue"])]))}},Eo=ge(Io,[["__scopeId","data-v-9060d7ba"]]);function Re(d){return d.split(" ").map(r=>r.charAt(0).toUpperCase()+r.slice(1).toLowerCase()).join(" ")}function ke(d){const r=new Date(d),_=["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"],n=r.getDate(),v=_[r.getMonth()],$=r.getFullYear();return`${n+1} de ${v} del  año ${$}`}const g=d=>(he("data-v-b4cb8a62"),d=d(),ye(),d),wo={style:{display:"flex"},class:""},$o=g(()=>a("h2",null,"Resumen",-1)),So={class:"sectionA d-flex flex-column align-center justify-center"},To=g(()=>a("h2",null,"Fotografía",-1)),Uo=g(()=>a("p",{class:"text-muted"},"Haga clic para ampliar",-1)),No={class:"sectionA"},Fo=g(()=>a("h2",{class:"mb-8"},"Información Personal",-1)),Mo=g(()=>a("strong",{class:"subTitles"},"Estado Actual:",-1)),Ao={class:"vistaDatos"},Bo=g(()=>a("strong",{class:"subTitles"},"Tipo de Documento:",-1)),Po={class:"vistaDatos"},Ro=g(()=>a("strong",{class:"subTitles"},"Número de Documento:",-1)),jo={class:"vistaDatos"},zo=g(()=>a("strong",{class:"subTitles"},"Nombre(s):",-1)),Lo={class:"vistaDatos"},Oo=g(()=>a("strong",{class:"subTitles"},"Apellido(s):",-1)),Ho={class:"vistaDatos"},qo=g(()=>a("strong",{class:"subTitles"},"Rol o Cargo:",-1)),Go={class:"vistaDatos"},Jo=g(()=>a("strong",{class:"subTitles"},"Fecha de Nacimiento:",-1)),Wo={class:"vistaDatos"},Yo=g(()=>a("strong",{class:"subTitles"},"Lugar de Nacimiento:",-1)),Ko={class:"vistaDatos"},Qo=g(()=>a("strong",{class:"subTitles"},"Sexo:",-1)),Xo={class:"vistaDatos"},Zo=g(()=>a("strong",{class:"subTitles"},"Estado Civil:",-1)),ea={class:"vistaDatos"},la=g(()=>a("strong",{class:"subTitles"},"Número de Teléfono Celular:",-1)),oa={class:"vistaDatos"},aa=g(()=>a("strong",{class:"subTitles"},"Correo Electrónico:",-1)),ta={class:"vistaDatos"},sa=g(()=>a("strong",{class:"subTitles"},"Dirección de Residencia:",-1)),ia={class:"vistaDatos"},na={class:"sectionA"},ra=g(()=>a("h2",{class:"mb-8"},"Información académica y laboral",-1)),da=g(()=>a("strong",null,"Nivel Académico:",-1)),ua={class:"vistaDatos"},ca=g(()=>a("strong",null,"Ocupación:",-1)),ma={class:"vistaDatos"},pa={class:"sectionA"},fa=g(()=>a("h2",{class:"mb-8"},"Condición Física o Cognitiva",-1)),va=g(()=>a("strong",null,"¿Es discapacitado/a?:",-1)),_a={class:"vistaDatos"},ga=g(()=>a("strong",null,"Tipo de Discapacidad:",-1)),ba={class:"vistaDatos"},ha=g(()=>a("strong",null,"Descripción de Discapacidad:",-1)),ya={class:"vistaDatos"},Va={class:"sectionA"},Ca=g(()=>a("h2",{class:"mb-8"},"4. Información matrimonial y familiar",-1)),xa=g(()=>a("strong",null,"Ente Matrimonial:",-1)),ka={class:"vistaDatos"},Da=g(()=>a("strong",null,"¿Paso usted por el tribunal eclesiastico?:",-1)),Ia={class:"vistaDatos"},Ea=g(()=>a("strong",null,"Cual fue el concepto del tribunal Eclesiastico:",-1)),wa={class:"vistaDatos"},$a=g(()=>a("strong",null,"Soporte del del concepto del tribunal:",-1)),Sa={key:0,class:"vistaDatos"},Ta={key:1,class:"vistaDatos"},Ua=g(()=>a("strong",null,"Nombre del conyuge:",-1)),Na={class:"vistaDatos"},Fa=g(()=>a("strong",null,"Numero de hijos:",-1)),Ma={class:"vistaDatos"},Aa=g(()=>a("strong",null,"Nombre de hijos:",-1)),Ba={key:0,class:"vistaDatos"},Pa={class:"sectionA"},Ra=g(()=>a("h2",{class:"mb-8"},"5. Información religiosa",-1)),ja=g(()=>a("strong",null,"¿Es bautizado?:",-1)),za={class:"vistaDatos"},La=g(()=>a("strong",null,"Fecha del bautismo:",-1)),Oa={class:"vistaDatos"},Ha=g(()=>a("strong",null,"Lugar donde fue bautizado:",-1)),qa={class:"vistaDatos"},Ga=g(()=>a("strong",null,"Nombre del pastor que le bautizo:",-1)),Ja={class:"vistaDatos"},Wa=g(()=>a("strong",null,"Es sellado con el Espiritu Santo?:",-1)),Ya={class:"vistaDatos"},Ka=g(()=>a("strong",null,"Fecha de recepción del Espiritu Santo:",-1)),Qa={class:"vistaDatos"},Xa=g(()=>a("strong",null,"Cargos:",-1)),Za={key:0,class:"vistaDatos"},et={class:"sectionA"},lt=g(()=>a("h2",{class:"mb-8"},"6. Referencia Pastoral",-1)),ot={__name:"viewRegistro",setup(d){const r=pe(),_=w(!1);var n=le({foto:"",estado:"",tipoDocumento:"",numeroDocumento:"",nombre:"",apellido:"",rol:"",fechaNacimiento:"",lugarNacimineto:"",celular:"",email:"",direccion:"",nivelAcademico:"",ocupacion:"",discapacitado:"",discapacidad:"",descripcionDiscapacidad:"",sexo:"",estadoCivil:"",enteMatrimonial:"",tribunalEclesiastico:"",conceptoTribunal:"",soporteTribunal:null,nombreConyuge:"",listaHijos:[],esBautizado:!1,fechaBautismo:"",lugarBautismo:"",nombrePastorBautismo:"",espiritu:"",fechaEspiritu:"",cargos:[],referenciaPastoral:""}),v=le({foto:"",estado:"",tipoDocumento:"",numeroDocumento:"",nombre:"",apellido:"",rol:"",fechaNacimiento:"",lugarNacimineto:"",celular:"",email:"",direccion:"",nivelAcademico:"",ocupacion:"",discapacitado:"",discapacidad:"",descripcionDiscapacidad:"",sexo:"",estadoCivil:"",enteMatrimonial:"",tribunalEclesiastico:"",conceptoTribunal:"",soporteTribunal:null,nombreConyuge:"",listaHijos:[],esBautizado:!1,fechaBautismo:"",lugarBautismo:"",nombrePastorBautismo:"",espiritu:"",fechaEspiritu:"",cargos:[],referenciaPastoral:""});se(()=>r.viewRegistro,p=>{if(p.display){n={...v};const b=r.miembros.find(l=>l.numeroDocumento===p.id);Object.keys(n).forEach(l=>{n[l]=b.hasOwnProperty(l)?b[l]:n[l]}),Object.keys(n).forEach(l=>{const h=n[l];h===""||h===null||h===void 0?n[l]="Campo vacío":Array.isArray(h)&&h.length}),n.foto==="Campo vacío"&&(n.foto=ce)}});function $(p){window.open(p,"_blank")}return(p,b)=>(f(),I(re,{modelValue:i(r).viewRegistro.display,"onUpdate:modelValue":b[8]||(b[8]=l=>i(r).viewRegistro.display=l),transition:"fade-transition",persistent:"","max-width":"1080px","dialog-title":""},{default:o(()=>[e(X,null,{default:o(()=>[e(be,{class:"dialog-title elevation-4"},{default:o(()=>[a("div",wo,[$o,e(oe),e(U,{onClick:b[0]||(b[0]=l=>i(r).viewRegistro.display=!1),"append-icon":"mdi-close",variant:"outlined"},{default:o(()=>[C(" Cerrar ")]),_:1})])]),_:1}),e(ie,null,{default:o(()=>[a("section",So,[To,e(De,{image:i(n).foto||i(ce),size:"120",onClick:b[1]||(b[1]=l=>_.value=!0),style:{cursor:"pointer"}},null,8,["image"]),Uo]),e(re,{modelValue:_.value,"onUpdate:modelValue":b[3]||(b[3]=l=>_.value=l),"max-width":"100%","max-height":"100%",class:"pa-0",fullscreen:""},{default:o(()=>[e(X,{class:"pa-2",color:"black"},{default:o(()=>[e(Z,null,{default:o(()=>[e(oe),e(U,{onClick:b[2]||(b[2]=l=>_.value=!1),"append-icon":"mdi-close",variant:"outlined"},{append:o(()=>[e(F,{color:"error"})]),default:o(()=>[C(" Cerrar ")]),_:1})]),_:1}),e(Oe,{src:i(n).foto||i(ce),"max-height":"400",contain:"",class:"rounded-sm"},null,8,["src"])]),_:1})]),_:1},8,["modelValue"]),a("section",No,[Fo,e(q,null,{default:o(()=>[e(u,{cols:"12",md:"6",class:"field"},{default:o(()=>[Mo,a("span",Ao,V(i(n).estado),1)]),_:1}),e(u,{cols:"12",md:"6",class:"field"},{default:o(()=>[Bo,a("span",Po,V(i(n).tipoDocumento),1)]),_:1}),e(u,{cols:"12",md:"6",class:"field"},{default:o(()=>[Ro,a("span",jo,V(i(n).numeroDocumento),1)]),_:1}),e(u,{cols:"12",md:"6",class:"field"},{default:o(()=>[zo,a("span",Lo,V(i(Re)(i(n).nombre)),1)]),_:1}),e(u,{cols:"12",md:"6",class:"field"},{default:o(()=>[Oo,a("span",Ho,V(i(Re)(i(n).apellido)),1)]),_:1}),e(u,{cols:"12",md:"6",class:"field"},{default:o(()=>[qo,a("span",Go,V(i(n).rol),1)]),_:1}),e(u,{cols:"12",md:"6",class:"field"},{default:o(()=>[Jo,a("span",Wo,V(i(ke)(i(n).fechaNacimiento)),1)]),_:1}),e(u,{cols:"12",md:"6",class:"field"},{default:o(()=>[Yo,a("span",Ko,V(i(n).lugarNacimineto),1)]),_:1}),e(u,{cols:"12",md:"6",class:"field"},{default:o(()=>[Qo,a("span",Xo,V(i(n).sexo),1)]),_:1}),e(u,{cols:"12",md:"6",class:"field"},{default:o(()=>[Zo,a("span",ea,V(i(n).estadoCivil),1)]),_:1}),e(u,{cols:"12",md:"6",class:"field"},{default:o(()=>[la,a("span",oa,V(i(n).celular),1)]),_:1}),e(u,{cols:"12",md:"6",class:"field"},{default:o(()=>[aa,a("span",ta,V(i(n).email),1)]),_:1}),e(u,{cols:"12",md:"6",class:"field"},{default:o(()=>[sa,a("span",ia,V(i(n).direccion),1)]),_:1})]),_:1})]),a("section",na,[ra,e(q,null,{default:o(()=>[e(u,{cols:"12",md:"6",class:"field"},{default:o(()=>[da,a("span",ua,V(i(n).nivelAcademico),1)]),_:1}),e(u,{cols:"12",md:"6",class:"field"},{default:o(()=>[ca,a("span",ma,V(i(n).ocupacion),1)]),_:1})]),_:1})]),a("section",pa,[fa,e(q,null,{default:o(()=>[e(u,{cols:"12",md:"6",class:"field"},{default:o(()=>[va,a("span",_a,V(i(n).discapacitado),1)]),_:1}),e(u,{cols:"12",md:"6",class:"field"},{default:o(()=>[ga,a("span",ba,V(i(n).discapacidad),1)]),_:1}),e(u,{cols:"12",md:"6",class:"field"},{default:o(()=>[ha,a("span",ya,V(i(n).descripcionDiscapacidad),1)]),_:1})]),_:1})]),a("section",Va,[Ca,e(q,null,{default:o(()=>[e(u,{cols:"12",md:"6",class:"field"},{default:o(()=>[xa,a("span",ka,V(i(n).enteMatrimonial),1)]),_:1}),e(u,{cols:"12",md:"6",class:"field"},{default:o(()=>[Da,a("span",Ia,V(i(n).tribunalEclesiastico),1)]),_:1}),e(u,{cols:"12",md:"6",class:"field"},{default:o(()=>[Ea,a("span",wa,V(i(n).conceptoTribunal),1)]),_:1}),e(u,{cols:"12",md:"6",class:"field"},{default:o(()=>[$a,i(n).soporteTribunal!=="Campo vacío"?(f(),B("span",Sa,[i(n).soporteTribunal!=="Campo vacío"?(f(),I(U,{key:0,size:"x-small",onClick:b[4]||(b[4]=l=>$(i(n).soporteTribunal))},{default:o(()=>[C(" Descargar Soporte ")]),_:1})):E("",!0)])):E("",!0),i(n).soporteTribunal==="Campo vacío"?(f(),B("span",Ta," Sin soporte ")):E("",!0)]),_:1}),e(u,{cols:"12",md:"6",class:"field"},{default:o(()=>[Ua,a("span",Na,V(i(n).nombreConyuge),1)]),_:1}),e(u,{cols:"12",md:"6",class:"field"},{default:o(()=>[Fa,a("span",Ma,V(i(n).listaHijos.length>0?i(n).listaHijos.length:0),1)]),_:1}),e(u,{cols:"12",md:"6",class:"field"},{default:o(()=>[Aa,i(n).listaHijos.length===0?(f(),B("span",Ba,"No hay registro de hijos")):E("",!0),i(n).listaHijos.length>0?(f(),I(q,{key:1,class:"d-flex flex-wrap mt-2 mb-2"},{default:o(()=>[(f(!0),B(W,null,ne(i(n).listaHijos,(l,h)=>(f(),I(me,{key:h,class:"ma-1",color:"blue-grey-darken-4","text-color":"blue darken-4",style:{"border-radius":"12px"}},{default:o(()=>[C(V(l.text),1)]),_:2},1024))),128))]),_:1})):E("",!0)]),_:1})]),_:1})]),a("section",Pa,[Ra,e(q,null,{default:o(()=>[e(u,{cols:"12",md:"6",class:"field"},{default:o(()=>[ja,a("span",za,V(i(n).esBautizado),1)]),_:1}),e(u,{cols:"12",md:"6",class:"field"},{default:o(()=>[La,a("span",Oa,V(i(n).fechaBautismo==="Campo vacío"?"Campo vacío":i(ke)(i(n).fechaBautismo)),1)]),_:1}),e(u,{cols:"12",md:"6",class:"field"},{default:o(()=>[Ha,a("span",qa,V(i(n).lugarBautismo),1)]),_:1}),e(u,{cols:"12",md:"6",class:"field"},{default:o(()=>[Ga,a("span",Ja,V(i(n).nombrePastorBautismo),1)]),_:1}),e(u,{cols:"12",md:"6",class:"field"},{default:o(()=>[Wa,a("span",Ya,V(i(n).espiritu),1)]),_:1}),e(u,{cols:"12",md:"6",class:"field"},{default:o(()=>[Ka,a("span",Qa,V(i(n).fechaEspiritu==="Campo vacío"?"Campo vacío":i(ke)(i(n).fechaEspiritu)),1)]),_:1}),e(u,{cols:"12",md:"6",class:"field"},{default:o(()=>[Xa,i(n).cargos.length===0?(f(),B("span",Za,"Sin Cargos")):E("",!0),i(n).cargos.length>0?(f(),I(q,{key:1,class:"d-flex flex-wrap mt-2 mb-2"},{default:o(()=>[(f(!0),B(W,null,ne(i(n).cargos,(l,h)=>(f(),I(me,{key:h,class:"ma-1",color:"blue-grey-darken-4","text-color":"blue darken-4",style:{"border-radius":"12px"}},{default:o(()=>[C(V(l.text),1)]),_:2},1024))),128))]),_:1})):E("",!0)]),_:1})]),_:1})]),a("section",et,[lt,e(q,null,{default:o(()=>[e(u,{cols:"12",md:"12",class:"field"},{default:o(()=>[ze(a("textarea",{"onUpdate:modelValue":b[5]||(b[5]=l=>i(n).referenciaPastoral=l),readonly:"",class:"no-editable-textarea"},null,512),[[Le,i(n).referenciaPastoral]])]),_:1})]),_:1})])]),_:1}),e(Z,{class:"dialog-actions"},{default:o(()=>[e(oe),e(U,{onClick:b[6]||(b[6]=l=>i(r).viewRegistro.display=!1),variant:"text"},{default:o(()=>[C(" Cerrar ")]),_:1}),e(U,{color:"primary",onClick:b[7]||(b[7]=l=>i(r).formMiembros={display:!0,mode:"edit",id:i(n).numeroDocumento})},{default:o(()=>[C(" Editar ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]))}},at=ge(ot,[["__scopeId","data-v-b4cb8a62"]]);async function qe(d){return d.size<=40960?d:new Promise((_,n)=>{const v=new Image,$=URL.createObjectURL(d);v.src=$,v.onload=async()=>{try{const p=document.createElement("canvas"),b=p.getContext("2d");p.width=v.width,p.height=v.height,b.drawImage(v,0,0,p.width,p.height);let l=.9,h;do h=await new Promise(N=>p.toBlob(k=>N(k),"image/jpeg",l)),l-=.1;while(h.size>40960&&l>0);const S=new File([h],d.name,{type:"image/jpeg"});URL.revokeObjectURL($),_(S)}catch(p){n("Error durante la compresión: "+p.message)}},v.onerror=p=>{n("Error al cargar la imagen: "+p.message)}})}const tt=d=>(he("data-v-524c09c6"),d=d(),ye(),d),st=tt(()=>a("span",{class:"text-h6"},"Subir y Recortar Imagen",-1)),it={key:0,class:"cropper-container"},nt=["src"],rt={__name:"SelectorImg",setup(d){const r=pe(),_=w(null),n=w(null);let v=null;_e(()=>{const l=document.createElement("script");l.src="https://cdnjs.cloudflare.com/ajax/libs/cropperjs/1.5.13/cropper.min.js",l.onload=()=>{},document.head.appendChild(l);const h=document.createElement("link");h.rel="stylesheet",h.href="https://cdnjs.cloudflare.com/ajax/libs/cropperjs/1.5.13/cropper.min.css",document.head.appendChild(h)});const $=()=>{if(_.value){const l=_.value[0];if(l&&l.type.startsWith("image/")){const h=new FileReader;h.onload=S=>{n.value=S.target.result,v&&(v.destroy(),v=null),Ie(()=>{const N=document.querySelector(".cropper-container img");v=new window.Cropper(N,{aspectRatio:1,viewMode:1,dragMode:"move",autoCropArea:.8,background:!0,responsive:!0,zoomable:!0,rotatable:!0,guides:!0,cropBoxResizable:!1,cropBoxMovable:!0,minContainerWidth:300,minContainerHeight:300,center:!0})})},h.readAsDataURL(l)}else alert("Por favor selecciona un archivo de imagen válido (JPG, PNG, GIF, etc.)."),_.value=null}else alert("Por favor selecciona un archivo de imagen.")},p=async()=>{if(v)try{const l=v.getCroppedCanvas({width:500,height:500}),h=await new Promise(S=>l.toBlob(N=>S(N),"image/jpeg",.8));if(h){const S=new File([h],"imagen_recortada.jpg",{type:h.type}),N=await qe(S);r.selectImg.img=N,r.selectImg.urlImg=URL.createObjectURL(N),b()}}catch(l){console.error("Error al recortar y comprimir la imagen:",l)}finally{}},b=()=>{r.selectImg.display=!1,_.value=null,n.value=null,v&&(v.destroy(),v=null)};return(l,h)=>(f(),B("div",null,[e(re,{modelValue:i(r).selectImg.display,"onUpdate:modelValue":h[1]||(h[1]=S=>i(r).selectImg.display=S),"max-width":"800"},{default:o(()=>[e(X,null,{default:o(()=>[e(be,null,{default:o(()=>[st]),_:1}),e(ie,null,{default:o(()=>[e(He,{label:"Seleccionar Imagen",accept:"image/*",modelValue:_.value,"onUpdate:modelValue":h[0]||(h[0]=S=>_.value=S),outlined:"",dense:"",onChange:$},null,8,["modelValue"]),n.value?(f(),B("div",it,[a("img",{ref:"image",src:n.value,alt:"Imagen para recortar"},null,8,nt)])):E("",!0)]),_:1}),e(Z,null,{default:o(()=>[e(U,{color:"grey",text:"",onClick:b},{default:o(()=>[C("Cancelar")]),_:1}),e(U,{color:"primary",onClick:p,disabled:!n.value},{default:o(()=>[C(" Confirmar Recorte ")]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]))}},dt=ge(rt,[["__scopeId","data-v-524c09c6"]]);const ut=d=>(he("data-v-83c38e42"),d=d(),ye(),d),ct={class:"camera-capture"},mt=ut(()=>a("span",{class:"text-h6"},"Tomar Foto",-1)),pt={key:0},ft={key:1},vt=["src"],_t={__name:"tomarFoto",setup(d){const r=pe();w(!1);const _=w(!1),n=w(null),v=w(null),$=w(null),p=w(null),b=()=>{r.tomarFoto=!1,_.value=!1,n.value=null,h()},l=async()=>{try{if(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)throw new Error("La cámara no está soportada por este navegador.");v.value=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}}),$.value.srcObject=v.value}catch(k){k.name==="NotAllowedError"?alert("Permiso de cámara denegado. Asegúrate de habilitar el acceso a la cámara en la configuración de tu navegador."):k.name==="NotFoundError"?alert("No se encontró una cámara disponible."):alert("Error al acceder a la cámara: "+k.message)}},h=()=>{v.value&&v.value.getTracks().forEach(T=>T.stop())},S=()=>{const k=document.createElement("canvas");k.width=$.value.videoWidth,k.height=$.value.videoHeight,k.getContext("2d").drawImage($.value,0,0,k.width,k.height),n.value=k.toDataURL("image/png"),_.value=!0,h(),Ie(()=>{const R=document.querySelector(".captured-photo");p.value=new Cropper(R,{aspectRatio:1,viewMode:1})})},N=async()=>{if(p.value)try{const k=p.value.getCroppedCanvas(),T=await new Promise(Y=>k.toBlob(D=>Y(D),"image/jpeg",.8)),R=new File([T],"imagen_recortada.jpg",{type:T.type});r.selectImg.img=await qe(R),r.selectImg.urlImg=URL.createObjectURL(r.selectImg.img)}catch(k){console.error("Error al confirmar y comprimir la imagen:",k)}finally{p.value.destroy(),p.value=null,b()}};return _e(()=>{se(()=>r.tomarFoto,k=>{k?l():h()})}),xl(()=>{h(),p.value&&p.value.destroy()}),_e(()=>{const k=document.createElement("script");k.src="https://cdnjs.cloudflare.com/ajax/libs/cropperjs/1.5.13/cropper.min.js",k.onload=()=>{},document.head.appendChild(k);const T=document.createElement("link");T.rel="stylesheet",T.href="https://cdnjs.cloudflare.com/ajax/libs/cropperjs/1.5.13/cropper.min.css",document.head.appendChild(T)}),(k,T)=>(f(),B("div",null,[a("div",ct,[e(re,{modelValue:i(r).tomarFoto,"onUpdate:modelValue":T[0]||(T[0]=R=>i(r).tomarFoto=R),"max-width":"512"},{default:o(()=>[e(X,null,{default:o(()=>[e(be,null,{default:o(()=>[mt]),_:1}),e(ie,null,{default:o(()=>[_.value?(f(),B("div",ft,[a("img",{src:n.value,alt:"Foto capturada",class:"captured-photo"},null,8,vt)])):(f(),B("div",pt,[a("video",{ref_key:"video",ref:$,autoplay:"",playsinline:"",class:"camera-view"},null,512)]))]),_:1}),e(Z,null,{default:o(()=>[e(U,{color:"grey",text:"",onClick:b},{default:o(()=>[C("Cancelar")]),_:1}),_.value?(f(),I(U,{key:1,color:"primary",onClick:N},{default:o(()=>[C("Confirmar")]),_:1})):(f(),I(U,{key:0,color:"primary",onClick:S},{default:o(()=>[C("Tomar Foto")]),_:1}))]),_:1})]),_:1})]),_:1},8,["modelValue"])])]))}},gt=ge(_t,[["__scopeId","data-v-83c38e42"]]),Ft={__name:"Miembros",setup(d){return(r,_)=>(f(),I(el,null,{default:o(()=>[e(Wl),e(gt),e(Eo),e(at),e(dt)]),_:1}))}};export{Ft as default};
